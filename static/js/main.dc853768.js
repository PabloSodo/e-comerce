/*! For license information please see main.dc853768.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case S:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,_e=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==_e)&&(Ne(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,_t,St,It=!1,Tt=[],Ct=null,Nt=null,At=null,Ot=new Map,Rt=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Ot.forEach(Vt),Rt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Ot.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return _n}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(On),Dn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ie(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},_r={};function Sr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),s(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Pr=Or[Dr];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(Ir,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Ir:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Kn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(y=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Un(e,t)?(e=en(),Zt=Jt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function _i(e){return{current:e}}function Si(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ii(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ni=_i(!1),Ai=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Si(Ni),Si(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ii(Ci,e),Ii(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),Ii(Ci,e)):Si(Ni),Ii(Ni,n)}var ji=null,Vi=!1,Ui=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,zi),i}finally{kt=t,Ui=!1}}return null}var qi=[],Ki=0,Hi=null,Wi=0,Gi=[],Qi=0,$i=null,Xi=1,Yi="";function Ji(e,t){qi[Ki++]=Wi,qi[Ki++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,$i=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ri(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ri(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=$a(!0),Ya=$a(!1),Ja={},Za=_i(Ja),eo=_i(Ja),to=_i(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ii(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Po.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function Bo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function $o(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=As.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ps,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ps,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ps,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ps,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Ri(n)?Ai:Ci.current;return a=Oi(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Cu(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Ku(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Oi(t,c=Ri(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Aa||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Oi(t,s=Ri(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ru,Du,Pu,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,Xi=e.id,Yi=e.overflow,$i=t),t=Vu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Ri(t.type)&&Di(),Gu(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Du(e,t),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ru(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),Du(e,t),null===e&&zr(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>qs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Ye()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(){},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xu=!1,Yu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Sc(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Ye())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,ms(t,e),Yu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Zu=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Xu;var c=Yu;if(Xu=o,(Yu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?Es(i):null!==s?(s.return=o,Zu=s):Es(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,Xu=u,Yu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&as(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function Es(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{as(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var _s,Ss=Math.ceil,Is=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,Ns=0,As=null,Os=null,Rs=0,Ds=0,Ps=_i(0),Ls=0,Ms=null,Fs=0,js=0,Vs=0,Us=null,Bs=null,zs=0,qs=1/0,Ks=null,Hs=!1,Ws=null,Gs=null,Qs=!1,$s=null,Xs=0,Ys=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&Ns)?Ye():-1!==Zs?Zs:Zs=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Ys)throw Ys=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Ns)&&e===As||(e===As&&(0===(2&Ns)&&(js|=n),4===Ls&&sc(e,Rs)),ic(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(qs=Ye()+500,Vi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&Ns)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&Ns))throw Error(a(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ns;Ns|=2;var o=vc();for(As===e&&Rs===t||(Ks=null,qs=Ye()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Is.current=o,Ns=i,null!==Os?t=0:(As=null,Rs=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bs,Ks);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bs,Ks),t);break}xc(e,Bs,Ks);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bs,Ks),r);break}xc(e,Bs,Ks);break;default:throw Error(a(329))}}}return ic(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bs,Bs=n,null!==t&&uc(t)),e}function uc(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function sc(e,t){for(t&=~Vs,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ns))throw Error(a(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bs,Ks),ic(e,Ye()),null}function lc(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(qs=Ye()+500,Vi&&zi())}}function fc(e){null!==$s&&0===$s.tag&&0===(6&Ns)&&Ec();var t=Ns;Ns|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(Ns=t))&&zi()}}function hc(){Ds=Ps.current,Si(Ps)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Si(Ni),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(As=e,Os=e=Pc(e.current,null),Rs=Ds=t,Ls=0,Ms=null,Vs=js=Fs=0,Bs=Us=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Os;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Os=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function vc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===As||0===(268435455&Fs)&&0===(268435455&js)||sc(As,Rs)}function yc(e,t){var n=Ns;Ns|=2;var r=vc();for(As===e&&Rs===t||(Ks=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Ns=n,Is.current=r,null!==Os)throw Error(a(261));return As=null,Rs=0,Ls}function gc(){for(;null!==Os;)bc(Os)}function kc(){for(;null!==Os&&!$e();)bc(Os)}function bc(e){var t=_s(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?wc(e):Os=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Ds)))return void(Os=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Os=n);if(null===e)return Ls=6,void(Os=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{Ec()}while(null!==$s);if(0!==(6&Ns))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Os=As=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Ac(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=Ns;Ns|=4,Ts.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Xe(),Ns=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,$s=e,Xs=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Ws,Ws=null,e;0!==(1&Xs)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Js?Ys++:(Ys=0,Js=e):Ys=0,zi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function Ec(){if(null!==$s){var e=bt(Xs),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Xs=0,0!==(6&Ns))throw Error(a(331));var i=Ns;for(Ns|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Ns=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function _c(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Rs&n)===n&&(4===Ls||3===Ls&&(130023424&Rs)===Rs&&500>Ye()-zs?dc(e,0):Vs|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Oc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case _:u=8,i|=8;break;case S:return(e=Rc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rc(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Bc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ii(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Hu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ku(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ku(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,_a(t,n),qa(t,r,i),Ha(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}Xc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Xc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Kc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Ye()),0===(6&Ns)&&(qs=Ye()+500,zi()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},_t=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,S=null,I=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?E():(_=!1,S=null)}}else _=!1}if("function"===typeof k)E=function(){k(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=A,E=function(){R.postMessage(null)}}else E=function(){y(A,0)};function D(e){S=e,_||(_=!0,E())}function P(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return vi},SDK_VERSION:function(){return Ea},_DEFAULT_ENTRY_NAME:function(){return la},_addComponent:function(){return pa},_addOrOverwriteComponent:function(){return va},_apps:function(){return ha},_clearComponents:function(){return ka},_components:function(){return da},_getProvider:function(){return ya},_registerComponent:function(){return ma},_removeServiceInstance:function(){return ga},deleteApp:function(){return Ta},getApp:function(){return Sa},getApps:function(){return Ia},initializeApp:function(){return _a},onLog:function(){return Aa},registerVersion:function(){return Na},setLogLevel:function(){return Oa}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||s(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return u(e)}(e)||f(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){var t=w();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function _(e,t,n){return _=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},_.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _(e,arguments,b(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},S(e)}function I(e){return o(e)||f(e)||s(e)||c()}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var N,A="popstate";function O(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function P(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function F(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:L(e);return O(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(C({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(A,v),h=e,function(){u.removeEventListener(A,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=P(y.location,e,n);r&&r(i,e);var a=D(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=P(y.location,e,n);r&&r(i,e);var a=D(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function j(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=V(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=$(i[o],Y(r));return a}function V(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(O(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ne([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),V(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:Q(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=T(U(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function U(e){var t=e.split("/");if(0===t.length)return[];var n=I(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=U(i.join("/")),s=[];return s.push.apply(s,h(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,h(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var B=/^:\w+$/,z=3,q=2,K=1,H=10,W=-2,G=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(G)&&(r+=W),t&&(r+=q),n.filter((function(e){return!G(e)})).reduce((function(e,t){return e+(B.test(t)?z:""===t?K:H)}),r)}function $(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=X({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function X(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function Y(e){try{return decodeURI(e)}catch(t){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(O(!(i=C({},e)).pathname||!i.pathname.includes("?"),Z("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),Z("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),Z("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ie(a),hash:ae(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(S(Error));function ue(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var se=["post","put","patch","delete"],ce=(new Set(se),["get"].concat(se));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var le="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fe=r.useState,he=r.useEffect,de=r.useLayoutEffect,pe=r.useDebugValue;function ve(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!le(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var me=r.createContext(null);var ye=r.createContext(null);var ge=r.createContext(null);var ke=r.createContext(null);var be=r.createContext(null);var we=r.createContext({outlet:null,matches:[]});var xe=r.createContext(null);function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function _e(){return null!=r.useContext(be)}function Se(){return _e()||O(!1),r.useContext(be).location}function Ie(){_e()||O(!1);var e=r.useContext(ke),t=e.basename,n=e.navigator,i=r.useContext(we).matches,a=Se().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);r.useEffect((function(){u.current=!0}));var s=r.useCallback((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=te(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:ne([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return s}function Te(){var e=r.useContext(we).matches,t=e[e.length-1];return t?t.params:{}}function Ce(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(we).matches,a=Se().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return te(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Ne(){var e=function(){var e,t=r.useContext(xe),n=Le(Oe.UseRouteError),i=Me(Oe.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ue(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ae,Oe,Re=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return y(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(we.Provider,{value:this.props.routeContext},r.createElement(xe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function De(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(me);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(we.Provider,{value:t},i)}function Pe(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||O(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=null;n&&(c=o.route.ErrorBoundary?r.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:r.createElement(Ne,null));var l=t.concat(i.slice(0,u+1)),f=function(){var t=e;return s?t=c:o.route.Component?t=r.createElement(o.route.Component,null):o.route.element&&(t=o.route.element),r.createElement(De,{match:o,routeContext:{outlet:e,matches:l},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===u)?r.createElement(Re,{location:n.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Le(e){var t=r.useContext(ye);return t||O(!1),t}function Me(e){var t=function(e){var t=r.useContext(we);return t||O(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||O(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ae||(Ae={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Oe||(Oe={}));var Fe;function je(e){O(!1)}function Ve(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;_e()&&O(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=M(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,E=void 0===x?null:x,_=v.key,S=void 0===_?"default":_,I=r.useMemo((function(){var e=J(y,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:E,key:S},navigationType:c}}),[d,y,k,w,E,S,c]);return null==I?null:r.createElement(ke.Provider,{value:p},r.createElement(be.Provider,{children:o,value:I}))}function Ue(e){var n=e.children,i=e.location,a=r.useContext(me);return function(e,n){_e()||O(!1);var i,a=r.useContext(ke).navigator,o=r.useContext(ye),u=r.useContext(we).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,Se());if(n){var h,d="string"===typeof n?M(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||O(!1),i=d}else i=f;var p=i.pathname||"/",v=j(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=Pe(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ne([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,o||void 0);return n&&m?r.createElement(be.Provider,{value:{location:Ee({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:ze(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Fe||(Fe={}));var Be=new Promise((function(){}));r.Component;function ze(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(h(t),[i]);if(e.type!==r.Fragment){e.type!==je&&O(!1),e.props.index&&e.props.children&&O(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ze(e.props.children,a)),n.push(o)}else n.push.apply(n,ze(e.props.children,a))}})),n}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var He=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function We(e){var t=e.basename,n=e.children,i=e.window,a=r.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),F((function(e,t){var n=e.location;return P("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,u=l(r.useState({action:o.action,location:o.location}),2),s=u[0],c=u[1];return r.useLayoutEffect((function(){return o.listen(c)}),[o]),r.createElement(Ve,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}function Ge(e){var t=e.basename,n=e.children,i=e.window,a=r.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),F((function(e,t){var n=M(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash;return P("",{pathname:i,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:L(t))}),(function(e,t){R("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}({window:i,v5Compat:!0}));var o=a.current,u=l(r.useState({action:o.action,location:o.location}),2),s=u[0],c=u[1];return r.useLayoutEffect((function(){return o.listen(c)}),[o]),r.createElement(Ve,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var Qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,$e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=Ke(e,He),d=r.useContext(ke).basename,p=!1;if("string"===typeof l&&$e.test(l)&&(n=l,Qe)){var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=J(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}var g=function(e,t){var n=(void 0===t?{}:t).relative;_e()||O(!1);var i=r.useContext(ke),a=i.basename,o=i.navigator,u=Ce(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=Ie(),l=Se(),f=Ce(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(l)===L(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return r.createElement("a",qe({},h,{href:n||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var Ye,Je;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ye||(Ye={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Je||(Je={}));function Ze(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function rt(e,t){if(null==e)return{};var n,r,i=nt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var it=n(694),at=n.n(it),ot=n(184),ut=["xxl","xl","lg","md","sm","xs"],st="xs",ct=r.createContext({prefixes:{},breakpoints:ut,minBreakpoint:st});ct.Consumer,ct.Provider;function lt(e,t){var n=(0,r.useContext)(ct).prefixes;return e||n[t]||t}function ft(){return(0,r.useContext)(ct).breakpoints}function ht(){return(0,r.useContext)(ct).minBreakpoint}var dt=/-(.)/g;var pt=["className","bsPrefix","as"],vt=function(e){return e[0].toUpperCase()+(t=e,t.replace(dt,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?vt(e):n,a=t.Component,o=t.defaultProps,u=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,u=t.as,s=void 0===u?a||"div":u,c=rt(t,pt),l=tt(tt({},o),c),f=lt(i,e);return(0,ot.jsx)(s,tt({ref:n,className:at()(r,f)},l))}));return u.displayName=i,u}var yt=function(e){return r.forwardRef((function(t,n){return(0,ot.jsx)("div",tt(tt({},t),{},{ref:n,className:at()(t.className,e)}))}))},gt=["bsPrefix","className","variant","as"],kt=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,u=rt(e,gt),s=lt(n,"card-img");return(0,ot.jsx)(o,tt({ref:t,className:at()(i?"".concat(s,"-").concat(i):s,r)},u))}));kt.displayName="CardImg";var bt=kt,wt=r.createContext(null);wt.displayName="CardHeaderContext";var xt=wt,Et=["bsPrefix","className","as"],_t=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,u=rt(e,Et),s=lt(n,"card-header"),c=(0,r.useMemo)((function(){return{cardHeaderBsPrefix:s}}),[s]);return(0,ot.jsx)(xt.Provider,{value:c,children:(0,ot.jsx)(o,tt(tt({ref:t},u),{},{className:at()(i,s)}))})}));_t.displayName="CardHeader";var St=_t,It=["bsPrefix","className","bg","text","border","body","children","as"],Tt=yt("h5"),Ct=yt("h6"),Nt=mt("card-body"),At=mt("card-title",{Component:Tt}),Ot=mt("card-subtitle",{Component:Ct}),Rt=mt("card-link",{Component:"a"}),Dt=mt("card-text",{Component:"p"}),Pt=mt("card-footer"),Lt=mt("card-img-overlay"),Mt=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,u=e.body,s=void 0!==u&&u,c=e.children,l=e.as,f=void 0===l?"div":l,h=rt(e,It),d=lt(n,"card");return(0,ot.jsx)(f,tt(tt({ref:t},h),{},{className:at()(r,d,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:s?(0,ot.jsx)(Nt,{children:c}):c}))}));Mt.displayName="Card";var Ft=Object.assign(Mt,{Img:bt,Title:At,Subtitle:Ot,Body:Nt,Link:Rt,Text:Dt,Header:St,Footer:Pt,ImgOverlay:Lt}),jt=["as","disabled"];function Vt(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,u=e.onClick,s=e.tabIndex,c=void 0===s?0:s,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==u||u(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var Ut=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,jt),a=l(Vt(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,ot.jsx)(u,Object.assign({},i,o,{ref:t}))}));Ut.displayName="Button";var Bt=Ut,zt=["as","bsPrefix","variant","size","active","disabled","className"],qt=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,u=e.active,s=void 0!==u&&u,c=e.disabled,f=void 0!==c&&c,h=e.className,d=rt(e,zt),p=lt(r,"btn"),v=l(Vt(tt({tagName:n,disabled:f},d)),2),m=v[0],y=v[1].tagName;return(0,ot.jsx)(y,tt(tt(tt({},m),d),{},{ref:t,disabled:f,className:at()(h,p,s&&"active",a&&"".concat(p,"-").concat(a),o&&"".concat(p,"-").concat(o),d.href&&f&&"disabled")}))}));qt.displayName="Button";var Kt=qt,Ht=["as","bsPrefix","className"],Wt=["className"];var Gt=r.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=rt(e,Ht);n=lt(n,"col");var a=ft(),o=ht(),u=[],s=[];return a.forEach((function(e){var t,r,a,c=i[e];delete i[e],"object"===typeof c&&null!=c?(t=c.span,r=c.offset,a=c.order):t=c;var l=e!==o?"-".concat(e):"";t&&u.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=a&&s.push("order".concat(l,"-").concat(a)),null!=r&&s.push("offset".concat(l,"-").concat(r))})),[tt(tt({},i),{},{className:at().apply(void 0,[r].concat(u,s))}),{as:t,bsPrefix:n,spans:u}]}(e),r=l(n,2),i=r[0],a=i.className,o=rt(i,Wt),u=r[1],s=u.as,c=void 0===s?"div":s,f=u.bsPrefix,h=u.spans;return(0,ot.jsx)(c,tt(tt({},o),{},{ref:t,className:at()(a,!h.length&&f)}))}));Gt.displayName="Col";var Qt=Gt,$t=r.createContext(),Xt=function(e){var t=e.children,n=l((0,r.useState)(!!localStorage.getItem("login")),2),i=n[0],a=n[1],o=l((0,r.useState)(localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}),2),u=o[0],s=o[1];return(0,ot.jsx)($t.Provider,{value:{login:i,handleLogin:function(e){a(!0),localStorage.setItem("login",!0),s(e),localStorage.setItem("user",JSON.stringify(e))},handleLogout:function(){a(!1),localStorage.removeItem("login"),s({}),localStorage.removeItem("user")},user:u},children:t})},Yt=function(){return(0,r.useContext)($t)},Jt={card:{margin:"10px",width:"18rem",alignItems:"center"}};var Zt=function(e){var t=e.id,n=e.nombre,r=e.precio,i=e.categoria,a=e.thumbnail,o=(e.button,Yt().login);return(0,ot.jsx)(Qt,{xs:12,sm:6,lg:4,xxl:3,children:(0,ot.jsxs)(Ft,{style:Jt.card,children:[(0,ot.jsx)(Ft.Img,{variant:"top",src:a,style:{width:"9rem"}}),(0,ot.jsxs)(Ft.Body,{children:[(0,ot.jsx)(Ft.Title,{children:n}),(0,ot.jsx)(Ft.Text,{children:r}),(0,ot.jsx)(Ft.Text,{children:i}),(0,ot.jsx)(Kt,{as:Xe,to:"/producto/".concat(t),variant:"primary",children:"Ver detalle"}),o&&(0,ot.jsx)(Kt,{style:{margin:"6px"},as:Xe,to:"/producto/modificar/".concat(t),variant:"primary",children:"Modificar"})]})]})})};var en=function(e){var t=e.buscar,n=e.handleChange;return(0,ot.jsx)("div",{children:(0,ot.jsx)("input",{placeholder:"Buscar",className:"inputBuscar",type:"text",name:"buscar",value:t,onChange:n})})},tn=["bsPrefix","className","as"],nn=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=rt(e,tn),u=lt(n,"row"),s=ft(),c=ht(),l="".concat(u,"-cols"),f=[];return s.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r=e!==c?"-".concat(e):"";null!=t&&f.push("".concat(l).concat(r,"-").concat(t))})),(0,ot.jsx)(a,tt(tt({ref:t},o),{},{className:at().apply(void 0,[r,u].concat(f))}))}));nn.displayName="Row";var rn=nn,an=["bsPrefix","variant","animation","size","as","className"],on=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.animation,a=void 0===i?"border":i,o=e.size,u=e.as,s=void 0===u?"div":u,c=e.className,l=rt(e,an);n=lt(n,"spinner");var f="".concat(n,"-").concat(a);return(0,ot.jsx)(s,tt(tt({ref:t},l),{},{className:at()(c,f,o&&"".concat(f,"-").concat(o),r&&"text-".concat(r))}))}));on.displayName="Spinner";var un=on;var sn=function(e){var t=e.loading,n=e.children;return t?(0,ot.jsx)("div",{style:{position:"fixed",top:"30%",left:"50%"},children:(0,ot.jsx)(un,{animation:"border",role:"status",children:(0,ot.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,ot.jsx)("div",{children:n})};function cn(){cn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new I(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function h(){}function d(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function ln(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function fn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ln(a,r,i,o,u,"next",e)}function u(e){ln(a,r,i,o,u,"throw",e)}o(void 0)}))}}function hn(e,t){return function(){return e.apply(t,arguments)}}var dn,pn=Object.prototype.toString,vn=Object.getPrototypeOf,mn=(dn=Object.create(null),function(e){var t=pn.call(e);return dn[t]||(dn[t]=t.slice(8,-1).toLowerCase())}),yn=function(e){return e=e.toLowerCase(),function(t){return mn(t)===e}},gn=function(e){return function(t){return typeof t===e}},kn=Array.isArray,bn=gn("undefined");var wn=yn("ArrayBuffer");var xn=gn("string"),En=gn("function"),_n=gn("number"),Sn=function(e){return null!==e&&"object"===typeof e},In=function(e){if("object"!==mn(e))return!1;var t=vn(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tn=yn("Date"),Cn=yn("File"),Nn=yn("Blob"),An=yn("FileList"),On=yn("URLSearchParams");function Rn(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),kn(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,u=a?Object.getOwnPropertyNames(e):Object.keys(e),s=u.length;for(n=0;n<s;n++)o=u[n],t.call(null,e[o],o,e)}}function Dn(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var Pn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ln=function(e){return!bn(e)&&e!==Pn};var Mn,Fn=(Mn="undefined"!==typeof Uint8Array&&vn(Uint8Array),function(e){return Mn&&e instanceof Mn}),jn=yn("HTMLFormElement"),Vn=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Un=yn("RegExp"),Bn=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Rn(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},zn="abcdefghijklmnopqrstuvwxyz",qn="0123456789",Kn={DIGIT:qn,ALPHA:zn,ALPHA_DIGIT:zn+zn.toUpperCase()+qn};var Hn=yn("AsyncFunction"),Wn={isArray:kn,isArrayBuffer:wn,isBuffer:function(e){return null!==e&&!bn(e)&&null!==e.constructor&&!bn(e.constructor)&&En(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||En(e.append)&&("formdata"===(t=mn(e))||"object"===t&&En(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&wn(e.buffer)},isString:xn,isNumber:_n,isBoolean:function(e){return!0===e||!1===e},isObject:Sn,isPlainObject:In,isUndefined:bn,isDate:Tn,isFile:Cn,isBlob:Nn,isRegExp:Un,isFunction:En,isStream:function(e){return Sn(e)&&En(e.pipe)},isURLSearchParams:On,isTypedArray:Fn,isFileList:An,forEach:Rn,merge:function e(){for(var t=(Ln(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&Dn(n,i)||i;In(n[a])&&In(r)?n[a]=e(n[a],r):In(r)?n[a]=e({},r):kn(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&Rn(arguments[i],r);return n},extend:function(e,t,n){return Rn(t,(function(t,r){n&&En(t)?e[r]=hn(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&vn(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:mn,kindOfTest:yn,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(kn(e))return e;var t=e.length;if(!_n(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:jn,hasOwnProperty:Vn,hasOwnProp:Vn,reduceDescriptors:Bn,freezeMethods:function(e){Bn(e,(function(t,n){if(En(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];En(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return kn(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:Dn,global:Pn,isContextDefined:Ln,ALPHABET:Kn,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kn.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&En(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(Sn(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=kn(n)?[]:{};return Rn(n,(function(t,n){var a=e(t,r+1);!bn(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:Hn,isThenable:function(e){return e&&(Sn(e)||En(e))&&En(e.then)&&En(e.catch)}};function Gn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Wn.inherits(Gn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Wn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Qn=Gn.prototype,$n={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){$n[e]={value:e}})),Object.defineProperties(Gn,$n),Object.defineProperty(Qn,"isAxiosError",{value:!0}),Gn.from=function(e,t,n,r,i,a){var o=Object.create(Qn);return Wn.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Gn.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Xn=Gn,Yn=null;function Jn(e){return Wn.isPlainObject(e)||Wn.isArray(e)}function Zn(e){return Wn.endsWith(e,"[]")?e.slice(0,-2):e}function er(e,t,n){return e?e.concat(t).map((function(e,t){return e=Zn(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var tr=Wn.toFlatObject(Wn,{},null,(function(e){return/^is[A-Z]/.test(e)}));var nr=function(e,t,n){if(!Wn.isObject(e))throw new TypeError("target must be an object");t=t||new(Yn||FormData);var r=(n=Wn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Wn.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Wn.isSpecCompliantForm(t);if(!Wn.isFunction(i))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(Wn.isDate(e))return e.toISOString();if(!u&&Wn.isBlob(e))throw new Xn("Blob is not supported. Use a Buffer instead.");return Wn.isArrayBuffer(e)||Wn.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var u=e;if(e&&!i&&"object"===typeof e)if(Wn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Wn.isArray(e)&&function(e){return Wn.isArray(e)&&!e.some(Jn)}(e)||(Wn.isFileList(e)||Wn.endsWith(n,"[]"))&&(u=Wn.toArray(e)))return n=Zn(n),u.forEach((function(e,r){!Wn.isUndefined(e)&&null!==e&&t.append(!0===o?er([n],r,a):null===o?n:n+"[]",s(e))})),!1;return!!Jn(e)||(t.append(er(i,n,a),s(e)),!1)}var l=[],f=Object.assign(tr,{defaultVisitor:c,convertValue:s,isVisitable:Jn});if(!Wn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Wn.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),Wn.forEach(n,(function(n,a){!0===(!(Wn.isUndefined(n)||null===n)&&i.call(t,n,Wn.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function rr(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ir(e,t){this._pairs=[],e&&nr(e,this,t)}var ar=ir.prototype;ar.append=function(e,t){this._pairs.push([e,t])},ar.toString=function(e){var t=e?function(t){return e.call(this,t,rr)}:rr;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var or=ir;function ur(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sr(e,t,n){if(!t)return e;var r,i=n&&n.encode||ur,a=n&&n.serialize;if(r=a?a(t,n):Wn.isURLSearchParams(t)?t.toString():new or(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var cr=function(){function e(){d(this,e),this.handlers=[]}return y(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Wn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),lr=cr,fr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hr={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:or,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var dr=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&Wn.isArray(r)?r.length:a,u?(Wn.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Wn.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Wn.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(Wn.isFormData(e)&&Wn.isFunction(e.entries)){var n={};return Wn.forEachEntry(e,(function(e,r){t(function(e){return Wn.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},pr={"Content-Type":void 0};var vr={transitional:fr,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Wn.isObject(e);if(a&&Wn.isHTMLForm(e)&&(e=new FormData(e)),Wn.isFormData(e))return i&&i?JSON.stringify(dr(e)):e;if(Wn.isArrayBuffer(e)||Wn.isBuffer(e)||Wn.isStream(e)||Wn.isFile(e)||Wn.isBlob(e))return e;if(Wn.isArrayBufferView(e))return e.buffer;if(Wn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return nr(e,new hr.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return hr.isNode&&Wn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Wn.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return nr(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Wn.isString(e))try{return(t||JSON.parse)(e),Wn.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||vr.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Wn.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Xn.from(a,Xn.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hr.classes.FormData,Blob:hr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Wn.forEach(["delete","get","head"],(function(e){vr.headers[e]={}})),Wn.forEach(["post","put","patch"],(function(e){vr.headers[e]=Wn.merge(pr)}));var mr=vr,yr=Wn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gr=Symbol("internals");function kr(e){return e&&String(e).trim().toLowerCase()}function br(e){return!1===e||null==e?e:Wn.isArray(e)?e.map(br):String(e)}function wr(e,t,n,r,i){return Wn.isFunction(r)?r.call(this,t,n):(i&&(t=n),Wn.isString(t)?Wn.isString(r)?-1!==t.indexOf(r):Wn.isRegExp(r)?r.test(t):void 0:void 0)}var xr=function(e,t){function n(e){d(this,n),e&&this.set(e)}return y(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=kr(t);if(!i)throw new Error("header name must be a non-empty string");var a=Wn.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=br(e))}var a=function(e,t){return Wn.forEach(e,(function(e,n){return i(e,n,t)}))};return Wn.isPlainObject(e)||e instanceof this.constructor?a(e,t):Wn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&yr[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=kr(e)){var n=Wn.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Wn.isFunction(t))return t.call(this,r,n);if(Wn.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=kr(e)){var n=Wn.findKey(this,e);return!(!n||void 0===this[n]||t&&!wr(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=kr(e)){var i=Wn.findKey(n,e);!i||t&&!wr(0,n[i],i,t)||(delete n[i],r=!0)}}return Wn.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!wr(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return Wn.forEach(this,(function(r,i){var a=Wn.findKey(n,i);if(a)return t[a]=br(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=br(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Wn.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Wn.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=l(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[gr]=this[gr]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=kr(e);t[r]||(!function(e,t){var n=Wn.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Wn.isArray(e)?e.forEach(r):r(e),this}}]),n}();xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Wn.freezeMethods(xr.prototype),Wn.freezeMethods(xr);var Er=xr;function _r(e,t){var n=this||mr,r=t||n,i=Er.from(r.headers),a=r.data;return Wn.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Sr(e){return!(!e||!e.__CANCEL__)}function Ir(e,t,n){Xn.call(this,null==e?"canceled":e,Xn.ERR_CANCELED,t,n),this.name="CanceledError"}Wn.inherits(Ir,Xn,{__CANCEL__:!0});var Tr=Ir;var Cr=hr.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),Wn.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Wn.isString(r)&&o.push("path="+r),Wn.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Nr(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Ar=hr.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Wn.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var Or=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};function Rr(e,t){var n=0,r=Or(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var Dr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=Er.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Wn.isFormData(i)&&(hr.isStandardBrowserEnv||hr.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=Nr(e.baseURL,e.url);function h(){if(s){var r=Er.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Xn("Request failed with status code "+n.status,[Xn.ERR_BAD_REQUEST,Xn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),sr(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=h:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(h)},s.onabort=function(){s&&(n(new Xn("Request aborted",Xn.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new Xn("Network Error",Xn.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||fr;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Xn(t,r.clarifyTimeoutError?Xn.ETIMEDOUT:Xn.ECONNABORTED,e,s)),s=null},hr.isStandardBrowserEnv){var d=(e.withCredentials||Ar(f))&&e.xsrfCookieName&&Cr.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&Wn.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),Wn.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",Rr(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",Rr(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new Tr(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===hr.protocols.indexOf(p)?n(new Xn("Unsupported protocol "+p+":",Xn.ERR_BAD_REQUEST,e)):s.send(i||null)}))},Pr={http:Yn,xhr:Dr};Wn.forEach(Pr,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var Lr={getAdapter:function(e){for(var t,n,r=(e=Wn.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=Wn.isString(t)?Pr[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new Xn("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(Wn.hasOwnProp(Pr,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!Wn.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Pr};function Mr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Tr(null,e)}function Fr(e){return Mr(e),e.headers=Er.from(e.headers),e.data=_r.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Lr.getAdapter(e.adapter||mr.adapter)(e).then((function(t){return Mr(e),t.data=_r.call(e,e.transformResponse,t),t.headers=Er.from(t.headers),t}),(function(t){return Sr(t)||(Mr(e),t&&t.response&&(t.response.data=_r.call(e,e.transformResponse,t.response),t.response.headers=Er.from(t.response.headers))),Promise.reject(t)}))}var jr=function(e){return e instanceof Er?e.toJSON():e};function Vr(e,t){t=t||{};var n={};function r(e,t,n){return Wn.isPlainObject(e)&&Wn.isPlainObject(t)?Wn.merge.call({caseless:n},e,t):Wn.isPlainObject(t)?Wn.merge({},t):Wn.isArray(t)?t.slice():t}function i(e,t,n){return Wn.isUndefined(t)?Wn.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!Wn.isUndefined(t))return r(void 0,t)}function o(e,t){return Wn.isUndefined(t)?Wn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(jr(e),jr(t),!0)}};return Wn.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);Wn.isUndefined(o)&&a!==u||(n[r]=o)})),n}var Ur="1.4.0",Br={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Br[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var zr={};Br.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Ur+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Xn(r(i," has been removed"+(t?" in "+t:"")),Xn.ERR_DEPRECATED);return t&&!zr[i]&&(zr[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var qr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Xn("options must be an object",Xn.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new Xn("option "+a+" must be "+s,Xn.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Xn("Unknown option "+a,Xn.ERR_BAD_OPTION)}},validators:Br},Kr=qr.validators,Hr=function(){function e(t){d(this,e),this.defaults=t,this.interceptors={request:new lr,response:new lr}}return y(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=Vr(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&qr.assertOptions(i,{silentJSONParsing:Kr.transitional(Kr.boolean),forcedJSONParsing:Kr.transitional(Kr.boolean),clarifyTimeoutError:Kr.transitional(Kr.boolean)},!1),null!=a&&(Wn.isFunction(a)?t.paramsSerializer={serialize:a}:qr.assertOptions(a,{encode:Kr.function,serialize:Kr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&Wn.merge(o.common,o[t.method]))&&Wn.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=Er.concat(n,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!s){var d=[Fr.bind(this),void 0];for(d.unshift.apply(d,u),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=u.length;var p=t;for(h=0;h<f;){var v=u[h++],m=u[h++];try{p=v(p)}catch(y){m.call(this,y);break}}try{c=Fr.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return sr(Nr((e=Vr(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Wn.forEach(["delete","get","head","options"],(function(e){Hr.prototype[e]=function(t,n){return this.request(Vr(n||{},{method:e,url:t,data:(n||{}).data}))}})),Wn.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Vr(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Hr.prototype[e]=t(),Hr.prototype[e+"Form"]=t(!0)}));var Wr=Hr,Gr=function(){function e(t){if(d(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new Tr(e,t,i),n(r.reason))}))}return y(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),Qr=Gr;var $r={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($r).forEach((function(e){var t=l(e,2),n=t[0],r=t[1];$r[r]=n}));var Xr=$r;var Yr=function e(t){var n=new Wr(t),r=hn(Wr.prototype.request,n);return Wn.extend(r,Wr.prototype,n,{allOwnKeys:!0}),Wn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Vr(t,n))},r}(mr);Yr.Axios=Wr,Yr.CanceledError=Tr,Yr.CancelToken=Qr,Yr.isCancel=Sr,Yr.VERSION=Ur,Yr.toFormData=nr,Yr.AxiosError=Xn,Yr.Cancel=Yr.CanceledError,Yr.all=function(e){return Promise.all(e)},Yr.spread=function(e){return function(t){return e.apply(null,t)}},Yr.isAxiosError=function(e){return Wn.isObject(e)&&!0===e.isAxiosError},Yr.mergeConfig=Vr,Yr.AxiosHeaders=Er,Yr.formToJSON=function(e){return dr(Wn.isHTMLForm(e)?new FormData(e):e)},Yr.HttpStatusCode=Xr,Yr.default=Yr;Yr.create({baseURL:"https://api.mercadolibre.com"});var Jr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Zr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new ei;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ei=function(e){k(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return y(n)}(S(Error)),ti=function(e){return function(e){var t=Jr(e);return Zr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ni=function(e){try{return Zr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ri(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ri(e[n],t[n]));return e}var ii=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ai=function(){try{return ii()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/e-commerce",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ni(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},oi=function(){var e;return null===(e=ai())||void 0===e?void 0:e.config},ui=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return y(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function si(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ci(){var e,t=null===(e=ai())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function li(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function fi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function hi(){var e=si();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function di(){try{return"object"===typeof indexedDB}catch(e){return!1}}var pi="FirebaseError",vi=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=pi,Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),mi.prototype.create),a}return y(n)}(S(Error)),mi=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return y(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(yi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new vi(n,a,t)}}]),e}();var yi=/\{\$([^}]+)}/g;function gi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ki(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function bi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(wi(u)&&wi(s)){if(!bi(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function wi(e){return null!==e&&"object"===typeof e}function xi(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ei(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function _i(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Si(e,t){var n=new Ii(e,t);return n.subscribe.bind(n)}var Ii=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return y(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ti),void 0===r.error&&(r.error=Ti),void 0===r.complete&&(r.complete=Ti);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ti(){}function Ci(e){return e&&e._delegate?e._delegate:e}var Ni=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return y(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ai="[DEFAULT]",Oi=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return y(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ui;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch(s){}var t,n=T(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=fn(cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=T(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(kC){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ai?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(kC){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai;return this.component?this.component.multipleInstances?e:Ai:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ri,Di,Pi=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return y(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Oi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Li=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Di||(Di={}));var Mi={debug:Di.DEBUG,verbose:Di.VERBOSE,info:Di.INFO,warn:Di.WARN,error:Di.ERROR,silent:Di.SILENT},Fi=Di.INFO,ji=(Ze(Ri={},Di.DEBUG,"log"),Ze(Ri,Di.VERBOSE,"log"),Ze(Ri,Di.INFO,"info"),Ze(Ri,Di.WARN,"warn"),Ze(Ri,Di.ERROR,"error"),Ri),Vi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ji[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ui=function(){function e(t){d(this,e),this.name=t,this._logLevel=Fi,this._logHandler=Vi,this._userLogHandler=null,Li.push(this)}return y(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Di))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Mi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Di.DEBUG].concat(t)),this._logHandler.apply(this,[this,Di.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Di.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Di.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Di.INFO].concat(t)),this._logHandler.apply(this,[this,Di.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Di.WARN].concat(t)),this._logHandler.apply(this,[this,Di.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Di.ERROR].concat(t)),this._logHandler.apply(this,[this,Di.ERROR].concat(t))}}]),e}();var Bi,zi,qi=function(e,t){return t.some((function(t){return e instanceof t}))};var Ki=new WeakMap,Hi=new WeakMap,Wi=new WeakMap,Gi=new WeakMap,Qi=new WeakMap;var $i={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Hi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Xi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(zi||(zi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Zi(this),n),Ji(Ki.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ji(e.apply(Zi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Zi(this),t].concat(r));return Wi.set(a,t.sort?t.sort():[t]),Ji(a)}}function Yi(e){return"function"===typeof e?Xi(e):(e instanceof IDBTransaction&&function(e){if(!Hi.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Hi.set(e,t)}}(e),qi(e,Bi||(Bi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,$i):e)}function Ji(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ji(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ki.set(t,e)})).catch((function(){})),Qi.set(t,e),t}(e);if(Gi.has(e))return Gi.get(e);var t=Yi(e);return t!==e&&(Gi.set(e,t),Qi.set(t,e)),t}var Zi=function(e){return Qi.get(e)};var ea,ta,na=["get","getKey","getAll","getAllKeys","count"],ra=["put","add","delete","clear"],ia=new Map;function aa(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ia.get(t))return ia.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ra.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||na.includes(n))){var a=function(){var e=fn(cn().mark((function e(t){var a,o,u,s,c,l,f=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ia.set(t,a),a}}}$i=function(e){return tt(tt({},e),{},{get:function(t,n,r){return aa(t,n)||e.get(t,n,r)},has:function(t,n){return!!aa(t,n)||e.has(t,n)}})}($i);var oa=function(){function e(t){d(this,e),this.container=t}return y(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ua="@firebase/app",sa="0.9.9",ca=new Ui("@firebase/app"),la="[DEFAULT]",fa=(Ze(ea={},ua,"fire-core"),Ze(ea,"@firebase/app-compat","fire-core-compat"),Ze(ea,"@firebase/analytics","fire-analytics"),Ze(ea,"@firebase/analytics-compat","fire-analytics-compat"),Ze(ea,"@firebase/app-check","fire-app-check"),Ze(ea,"@firebase/app-check-compat","fire-app-check-compat"),Ze(ea,"@firebase/auth","fire-auth"),Ze(ea,"@firebase/auth-compat","fire-auth-compat"),Ze(ea,"@firebase/database","fire-rtdb"),Ze(ea,"@firebase/database-compat","fire-rtdb-compat"),Ze(ea,"@firebase/functions","fire-fn"),Ze(ea,"@firebase/functions-compat","fire-fn-compat"),Ze(ea,"@firebase/installations","fire-iid"),Ze(ea,"@firebase/installations-compat","fire-iid-compat"),Ze(ea,"@firebase/messaging","fire-fcm"),Ze(ea,"@firebase/messaging-compat","fire-fcm-compat"),Ze(ea,"@firebase/performance","fire-perf"),Ze(ea,"@firebase/performance-compat","fire-perf-compat"),Ze(ea,"@firebase/remote-config","fire-rc"),Ze(ea,"@firebase/remote-config-compat","fire-rc-compat"),Ze(ea,"@firebase/storage","fire-gcs"),Ze(ea,"@firebase/storage-compat","fire-gcs-compat"),Ze(ea,"@firebase/firestore","fire-fst"),Ze(ea,"@firebase/firestore-compat","fire-fst-compat"),Ze(ea,"fire-js","fire-js"),Ze(ea,"firebase","fire-js-all"),ea),ha=new Map,da=new Map;function pa(e,t){try{e.container.addComponent(t)}catch(n){ca.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function va(e,t){e.container.addOrOverwriteComponent(t)}function ma(e){var t=e.name;if(da.has(t))return ca.debug("There were multiple attempts to register component ".concat(t,".")),!1;da.set(t,e);var n,r=T(ha.values());try{for(r.s();!(n=r.n()).done;){pa(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ya(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ga(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:la;ya(e,t).clearInstance(n)}function ka(){da.clear()}var ba=(Ze(ta={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ze(ta,"bad-app-name","Illegal App name: '{$appName}"),Ze(ta,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ze(ta,"app-deleted","Firebase App named '{$appName}' already deleted"),Ze(ta,"no-options","Need to provide options, when not being deployed to hosting via source."),Ze(ta,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ze(ta,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ze(ta,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ze(ta,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ze(ta,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ze(ta,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ta),wa=new mi("app","Firebase",ba),xa=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ni("app",(function(){return i}),"PUBLIC"))}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}]),e}(),Ea="9.21.0";function _a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:la,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw wa.create("bad-app-name",{appName:String(i)});if(n||(n=oi()),!n)throw wa.create("no-options");var a=ha.get(i);if(a){if(bi(n,a.options)&&bi(r,a.config))return a;throw wa.create("duplicate-app",{appName:i})}var o,u=new Pi(i),s=T(da.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new xa(n,r,u);return ha.set(i,l),l}function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=ha.get(e);if(!t&&e===la)return _a();if(!t)throw wa.create("no-app",{appName:e});return t}function Ia(){return Array.from(ha.values())}function Ta(e){return Ca.apply(this,arguments)}function Ca(){return(Ca=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ha.has(n)){e.next=6;break}return ha.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Na(e,t,n){var r,i=null!==(r=fa[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ca.warn(u.join(" "))}ma(new Ni("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Aa(e,t){if(null!==e&&"function"!==typeof e)throw wa.create("invalid-log-argument");!function(e,t){var n,r=T(Li);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Mi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Di[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Oa(e){var t;t=e,Li.forEach((function(e){e.setLogLevel(t)}))}var Ra="firebase-heartbeat-database",Da=1,Pa="firebase-heartbeat-store",La=null;function Ma(){return La||(La=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ji(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ji(u.result),e.oldVersion,e.newVersion,Ji(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(Ra,Da,{upgrade:function(e,t){if(0===t)e.createObjectStore(Pa)}}).catch((function(e){throw wa.create("idb-open",{originalErrorMessage:e.message})}))),La}function Fa(e){return ja.apply(this,arguments)}function ja(){return ja=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ma();case 3:return n=e.sent,e.abrupt("return",n.transaction(Pa).objectStore(Pa).get(Ba(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof vi?ca.warn(e.t0.message):(r=wa.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ca.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ja.apply(this,arguments)}function Va(e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=fn(cn().mark((function e(t,n){var r,i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ma();case 3:return r=e.sent,i=r.transaction(Pa,"readwrite"),a=i.objectStore(Pa),e.next=8,a.put(n,Ba(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof vi?ca.warn(e.t0.message):(o=wa.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ca.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ua.apply(this,arguments)}function Ba(e){return"".concat(e.name,"!").concat(e.options.appId)}var za=1024,qa=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Qa(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return y(e,[{key:"triggerHeartbeat",value:function(){var e=fn(cn().mark((function e(){var t,n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ka(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=fn(cn().mark((function e(){var t,n,r,i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ka(),n=Ha(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ti(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ka(){return(new Date).toISOString().substring(0,10)}function Ha(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:za,r=[],i=e.slice(),a=T(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),$a(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),$a(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Wa,Ga,Qa=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return y(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(di()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=fn(cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Fa(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Va(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Va(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function $a(e){return ti(JSON.stringify({version:2,heartbeats:e})).length}Wa="",ma(new Ni("platform-logger",(function(e){return new oa(e)}),"PRIVATE")),ma(new Ni("heartbeat",(function(e){return new qa(e)}),"PRIVATE")),Na(ua,sa,Wa),Na(ua,sa,"esm2017"),Na("fire-js","");var Xa=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,pa(t,new Ni("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ta(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:la;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:la;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){pa(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){va(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ya=(Ze(Ga={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ze(Ga,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ga),Ja=new mi("app-compat","Firebase",Ya);var Za=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=_a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(gi(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Na,setLogLevel:Oa,onLog:Aa,apps:null,SDK_VERSION:Ea,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ma(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ja.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ri(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!gi(n,e=e||la))throw Ja.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Xa);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ri(n,e)},createSubscribe:Si,ErrorFactory:mi,deepExtend:ri}),n}(),eo=new Ui("@firebase/app-compat"),to="@firebase/app-compat",no="0.2.9";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){eo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ro=self.firebase.SDK_VERSION;ro&&ro.indexOf("LITE")>=0&&eo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var io=Za;!function(e){Na(to,no,e)}();function ao(){return ao="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ao.apply(this,arguments)}io.registerVersion("firebase","9.21.0","app-compat");function oo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var uo;Object.create;var so={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},co={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function lo(){return Ze({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var fo=function(){var e;return Ze(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ze(e,"argument-error",""),Ze(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ze(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ze(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ze(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ze(e,"cordova-not-ready","Cordova framework is not ready."),Ze(e,"cors-unsupported","This browser is not supported."),Ze(e,"credential-already-in-use","This credential is already associated with a different user account."),Ze(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ze(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ze(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ze(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ze(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ze(e,"email-already-in-use","The email address is already in use by another account."),Ze(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ze(e,"expired-action-code","The action code has expired."),Ze(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ze(e,"internal-error","An internal AuthError has occurred."),Ze(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ze(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ze(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ze(e,"invalid-auth-event","An internal AuthError has occurred."),Ze(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ze(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ze(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ze(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ze(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ze(e,"invalid-email","The email address is badly formatted."),Ze(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ze(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ze(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ze(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ze(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ze(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ze(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ze(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ze(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ze(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ze(e,"wrong-password","The password is invalid or the user does not have a password."),Ze(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ze(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ze(e,"invalid-provider-id","The specified provider ID is invalid."),Ze(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ze(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ze(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ze(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ze(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ze(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ze(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ze(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ze(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ze(e,"missing-continue-uri","A continue URL must be provided in the request."),Ze(e,"missing-iframe-start","An internal AuthError has occurred."),Ze(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ze(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ze(e,"missing-password","A non-empty password must be provided"),Ze(e,"missing-multi-factor-info","No second factor identifier is provided."),Ze(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ze(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ze(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ze(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ze(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ze(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ze(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ze(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ze(e,"no-auth-event","An internal AuthError has occurred."),Ze(e,"no-such-provider","User was not linked to an account with the given provider."),Ze(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ze(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ze(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ze(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ze(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ze(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ze(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ze(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ze(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ze(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ze(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ze(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ze(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ze(e,"timeout","The operation has timed out."),Ze(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ze(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ze(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ze(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ze(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ze(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ze(e,"unverified-email","The operation requires a verified email."),Ze(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ze(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ze(e,"user-disabled","The user account has been disabled by an administrator."),Ze(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ze(e,"user-signed-out",""),Ze(e,"weak-password","The password must be 6 characters long or more."),Ze(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ze(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Ze(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Ze(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Ze(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Ze(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Ze(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Ze(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Ze(e,"invalid-req-type","Invalid request parameters."),Ze(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},ho=lo,po=new mi("auth","Firebase",lo()),vo=new Ui("@firebase/auth");function mo(e){if(vo.logLevel<=Di.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];vo.warn.apply(vo,["Auth (".concat(Ea,"): ").concat(e)].concat(n))}}function yo(e){if(vo.logLevel<=Di.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];vo.error.apply(vo,["Auth (".concat(Ea,"): ").concat(e)].concat(n))}}function go(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xo.apply(void 0,[e].concat(n))}function ko(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xo.apply(void 0,[e].concat(n))}function bo(e,t,n){var r=Object.assign(Object.assign({},ho()),Ze({},t,n));return new mi("auth","Firebase",r).create(t,{appName:e.name})}function wo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&go(e,"argument-error"),bo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function xo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return po.create.apply(po,[e].concat(n))}function Eo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xo.apply(void 0,[t].concat(r))}}function _o(e){var t="INTERNAL ASSERTION FAILED: "+e;throw yo(t),new Error(t)}function So(e,t){e||_o(t)}function Io(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function To(){return"http:"===Co()||"https:"===Co()}function Co(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var No=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,So(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(si())||fi()}return y(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(To()||li()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ao(e,t){So(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Oo=function(){function e(){d(this,e)}return y(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void _o("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void _o("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void _o("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ro=(Ze(uo={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ze(uo,"MISSING_CUSTOM_TOKEN","internal-error"),Ze(uo,"INVALID_IDENTIFIER","invalid-email"),Ze(uo,"MISSING_CONTINUE_URI","internal-error"),Ze(uo,"INVALID_PASSWORD","wrong-password"),Ze(uo,"MISSING_PASSWORD","missing-password"),Ze(uo,"EMAIL_EXISTS","email-already-in-use"),Ze(uo,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ze(uo,"INVALID_IDP_RESPONSE","invalid-credential"),Ze(uo,"INVALID_PENDING_TOKEN","invalid-credential"),Ze(uo,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ze(uo,"MISSING_REQ_TYPE","internal-error"),Ze(uo,"EMAIL_NOT_FOUND","user-not-found"),Ze(uo,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ze(uo,"EXPIRED_OOB_CODE","expired-action-code"),Ze(uo,"INVALID_OOB_CODE","invalid-action-code"),Ze(uo,"MISSING_OOB_CODE","internal-error"),Ze(uo,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ze(uo,"INVALID_ID_TOKEN","invalid-user-token"),Ze(uo,"TOKEN_EXPIRED","user-token-expired"),Ze(uo,"USER_NOT_FOUND","user-token-expired"),Ze(uo,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ze(uo,"INVALID_CODE","invalid-verification-code"),Ze(uo,"INVALID_SESSION_INFO","invalid-verification-id"),Ze(uo,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ze(uo,"MISSING_SESSION_INFO","missing-verification-id"),Ze(uo,"SESSION_EXPIRED","code-expired"),Ze(uo,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ze(uo,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ze(uo,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ze(uo,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ze(uo,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ze(uo,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ze(uo,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ze(uo,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ze(uo,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ze(uo,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ze(uo,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ze(uo,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Ze(uo,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Ze(uo,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Ze(uo,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Ze(uo,"MISSING_CLIENT_TYPE","missing-client-type"),Ze(uo,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Ze(uo,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Ze(uo,"INVALID_REQ_TYPE","invalid-req-type"),uo),Do=new No(3e4,6e4);function Po(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Lo(e,t,n,r){return Mo.apply(this,arguments)}function Mo(){return Mo=fn(cn().mark((function e(t,n,r,i){var a,o=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Fo(t,a,fn(cn().mark((function e(){var a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=xi(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Oo.fetch()(Bo(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function Fo(e,t,n){return jo.apply(this,arguments)}function jo(){return jo=fn(cn().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ro),n),e.prev=2,a=new zo(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw qo(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw qo(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw qo(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw qo(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw bo(t,p,d);case 34:go(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof vi)){e.next=41;break}throw e.t0;case 41:go(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),jo.apply(this,arguments)}function Vo(e,t,n,r){return Uo.apply(this,arguments)}function Uo(){return Uo=fn(cn().mark((function e(t,n,r,i){var a,o,u=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Lo(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&go(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function Bo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ao(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var zo=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ko(n.auth,"network-request-failed"))}),Do.get())}))}return y(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function qo(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ko(e,t,r);return i.customData._tokenResponse=n,i}function Ko(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t){return Go.apply(this,arguments)}function Go(){return(Go=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(e,t){return $o.apply(this,arguments)}function $o(){return($o=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Yo(){return Yo=fn(cn().mark((function e(t){var n,r,i,a,o,u,s=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Ci(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Eo((a=Zo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Xo(Jo(a.auth_time)),issuedAtTime:Xo(Jo(a.iat)),expirationTime:Xo(Jo(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Yo.apply(this,arguments)}function Jo(e){return 1e3*Number(e)}function Zo(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return yo("JWT malformed, contained fewer than 3 sections"),null;try{var a=ni(r);return a?JSON.parse(a):(yo("Failed to decode base64 JWT payload"),null)}catch(o){return yo("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function eu(e,t){return tu.apply(this,arguments)}function tu(){return tu=fn(cn().mark((function e(t,n){var r=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof vi&&nu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),tu.apply(this,arguments)}function nu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ru=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return y(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(fn(cn().mark((function t(){return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),iu=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return y(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function au(e){return ou.apply(this,arguments)}function ou(){return ou=fn(cn().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,eu(t,Qo(r,{idToken:i}));case 6:Eo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=oo(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=su(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new iu(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function uu(){return(uu=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ci(t),e.next=3,au(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function su(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function cu(e,t){return lu.apply(this,arguments)}function lu(){return(lu=fn(cn().mark((function e(t,n){var r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fo(t,{},fn(cn().mark((function e(){var r,i,a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xi({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Bo(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Oo.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fu=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return y(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Eo(e.idToken,"internal-error"),Eo("undefined"!==typeof e.idToken,"internal-error"),Eo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Zo(e);return Eo(t,"internal-error"),Eo("undefined"!==typeof t.exp,"internal-error"),Eo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=fn(cn().mark((function e(t){var n,r=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Eo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=fn(cn().mark((function e(t,n){var r,i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cu(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return _o("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Eo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Eo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Eo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function hu(e,t){Eo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var du=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=oo(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ru(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new iu(a.createdAt||void 0,a.lastLoginAt||void 0)}return y(e,[{key:"getIdToken",value:function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Eo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Yo.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return uu.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Eo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Eo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=fn(cn().mark((function e(t){var n,r,i=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,au(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=fn(cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,eu(this,Ko(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Eo(k&&E,t,"internal-error");var _=fu.fromJSON(this.name,E);Eo("string"===typeof k,t,"internal-error"),hu(f,t.name),hu(h,t.name),Eo("boolean"===typeof b,t,"internal-error"),Eo("boolean"===typeof w,t,"internal-error"),hu(d,t.name),hu(p,t.name),hu(v,t.name),hu(m,t.name),hu(y,t.name),hu(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=fn(cn().mark((function t(n,r){var i,a,o,u=arguments;return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new fu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,au(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),pu=new Map;function vu(e){So(e instanceof Function,"Expected a class definition");var t=pu.get(e);return t?(So(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pu.set(e,t),t)}var mu=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return y(e,[{key:"_isAvailable",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();mu.type="NONE";var yu=mu;function gu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ku=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=gu(this.userKey,a.apiKey,o),this.fullPersistenceKey=gu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return y(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=fn(cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?du._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=fn(cn().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(vu(yu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||vu(yu),u=gu(i,n.config.apiKey,n.name),s=null,c=T(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=du._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function bu(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_u(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Iu(t))return"Blackberry";if(Tu(t))return"Webos";if(xu(t))return"Safari";if((t.includes("chrome/")||Eu(t))&&!t.includes("edge/"))return"Chrome";if(Su(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function wu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si();return/firefox\//i.test(e)}function xu(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:si()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si();return/crios\//i.test(e)}function _u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si();return/iemobile/i.test(e)}function Su(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si();return/android/i.test(e)}function Iu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si();return/blackberry/i.test(e)}function Tu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si();return/webos/i.test(e)}function Cu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Nu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si();return Cu(e)||Su(e)||Tu(e)||Iu(e)||/windows phone/i.test(e)||_u(e)}function Au(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=bu(si());break;case"Worker":t="".concat(bu(si()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ea,"/").concat(r)}function Ou(e){return Ru.apply(this,arguments)}function Ru(){return(Ru=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lo(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(e,t){return Pu.apply(this,arguments)}function Pu(){return(Pu=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"GET","/v2/recaptchaConfig",Po(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e){return void 0!==e&&void 0!==e.getResponse}function Mu(e){return void 0!==e&&void 0!==e.enterprise}var Fu=y((function e(t){if(d(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function ju(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ko("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Vu(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Uu="https://www.google.com/recaptcha/enterprise.js?render=",Bu="recaptcha-enterprise",zu="NO_RECAPTCHA",qu=function(){function e(t){d(this,e),this.type=Bu,this.auth=Qu(t)}return y(e,[{key:"verify",value:function(){var e=fn(cn().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Mu(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n(zu)}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=fn(cn().mark((function e(n,r){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Du(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Fu(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Mu(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));ju(Uu+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ku(e,t,n){return Hu.apply(this,arguments)}function Hu(){return Hu=fn(cn().mark((function e(t,n,r){var i,a,o,u,s=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new qu(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Hu.apply(this,arguments)}var Wu=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return y(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=fn(cn().mark((function e(t){var n,r,i,a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=T(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=T(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Gu=function(){function e(t,n,r,i){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $u(this),this.idTokenSubscription=new $u(this),this.beforeStateQueue=new Wu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=po,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return y(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=vu(t)),this._initializationPromise=this.queue(fn(cn().mark((function r(){var i,a;return cn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ku.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=fn(cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=fn(cn().mark((function e(t){var n,r,i,a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Eo(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,au(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ci(t):null)&&Eo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=fn(cn().mark((function e(t){var n,r=this,i=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Eo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(fn(cn().mark((function n(){return cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(vu(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=fn(cn().mark((function e(){var t,n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Fu(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new qu(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new mi("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=fn(cn().mark((function e(t,n){var r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Eo(n=t&&vu(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ku.create(this,[vu(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=fn(cn().mark((function e(t){var n=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Eo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Eo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Au(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=fn(cn().mark((function e(){var t,n,r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ze({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=fn(cn().mark((function e(){var t,n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&mo("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qu(e){return Ci(e)}var $u=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=Si((function(e){return n.observer=e}))}return y(e,[{key:"next",get:function(){return Eo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Xu(e,t,n){var r=Qu(e);Eo(r._canInitEmulator,r,"emulator-config-failed"),Eo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Yu(t),o=function(e){var t=Yu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ju(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:Ju(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Yu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ju(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Zu=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return y(e,[{key:"toJSON",value:function(){return _o("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return _o("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return _o("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return _o("not implemented")}}]),e}();function es(e,t){return ts.apply(this,arguments)}function ts(){return(ts=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:resetPassword",Po(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return(rs=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return(as=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:update",Po(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(e,t){return us.apply(this,arguments)}function us(){return(us=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:signInWithPassword",Po(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ss(e,t){return cs.apply(this,arguments)}function cs(){return(cs=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:sendOobCode",Po(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ls(e,t){return fs.apply(this,arguments)}function fs(){return(fs=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ss(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hs(e,t){return ds.apply(this,arguments)}function ds(){return(ds=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ss(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return(vs=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ss(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ms(e,t){return ys.apply(this,arguments)}function ys(){return(ys=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ss(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gs(e,t){return ks.apply(this,arguments)}function ks(){return(ks=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:signInWithEmailLink",Po(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bs(e,t){return ws.apply(this,arguments)}function ws(){return(ws=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:signInWithEmailLink",Po(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xs=function(e){k(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return y(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=fn(cn().mark((function e(t){var n,r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Ku(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",os(t,i));case 11:return e.abrupt("return",os(t,r).catch(function(){var e=fn(cn().mark((function e(n){var i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Ku(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",os(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",gs(t,{email:this._email,oobCode:this._password}));case 13:go(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ns(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",bs(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:go(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Zu);function Es(e,t){return _s.apply(this,arguments)}function _s(){return(_s=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:signInWithIdp",Po(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ss=function(e){k(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return y(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Es(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Es(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Es(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xi(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):go("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=oo(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Zu);function Is(e,t){return Ts.apply(this,arguments)}function Ts(){return(Ts=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:sendVerificationCode",Po(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cs(){return(Cs=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:signInWithPhoneNumber",Po(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ns(){return(Ns=fn(cn().mark((function e(t,n){var r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vo(t,"POST","/v1/accounts:signInWithPhoneNumber",Po(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw qo(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var As=Ze({},"USER_NOT_FOUND","user-not-found");function Os(){return(Os=fn(cn().mark((function e(t,n){var r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Vo(t,"POST","/v1/accounts:signInWithPhoneNumber",Po(t,r),As));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rs=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Cs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ns.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Os.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Zu);var Ds=function(){function e(t){var n,r,i,a,o,u;d(this,e);var s=Ei(_i(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Eo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return y(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ei(_i(e)).link,n=t?Ei(_i(t)).deep_link_id:null,r=Ei(_i(e)).deep_link_id;return(r?Ei(_i(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(kC){return null}}}]),e}();var Ps=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return y(e,null,[{key:"credential",value:function(e,t){return xs._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ds.parseLink(t);return Eo(n,"argument-error"),xs._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ps.PROVIDER_ID="password",Ps.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ps.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ls=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return y(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ms=function(e){k(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return y(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(Ls),Fs=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Eo(e.idToken||e.accessToken,"argument-error"),Ss._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Eo("providerId"in t&&"signInMethod"in t,"argument-error"),Ss._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ms),js=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.call(this,"facebook.com")}return y(n,null,[{key:"credential",value:function(e){return Ss._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(kC){return null}}}]),n}(Ms);js.FACEBOOK_SIGN_IN_METHOD="facebook.com",js.PROVIDER_ID="facebook.com";var Vs=function(e){k(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return y(n,null,[{key:"credential",value:function(e,t){return Ss._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(kC){return null}}}]),n}(Ms);Vs.GOOGLE_SIGN_IN_METHOD="google.com",Vs.PROVIDER_ID="google.com";var Us=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.call(this,"github.com")}return y(n,null,[{key:"credential",value:function(e){return Ss._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(kC){return null}}}]),n}(Ms);Us.GITHUB_SIGN_IN_METHOD="github.com",Us.PROVIDER_ID="github.com";var Bs=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return y(n,[{key:"_getIdTokenResponse",value:function(e){return Es(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Es(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Es(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Zu),zs="saml.",qs=function(e){k(n,e);var t=E(n);function n(e){return d(this,n),Eo(e.startsWith(zs),"argument-error"),t.call(this,e)}return y(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Bs.fromJSON(e);return Eo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Bs._create(r,n)}catch(i){return null}}}]),n}(Ls),Ks=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.call(this,"twitter.com")}return y(n,null,[{key:"credential",value:function(e,t){return Ss._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(kC){return null}}}]),n}(Ms);function Hs(e,t){return Ws.apply(this,arguments)}function Ws(){return(Ws=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:signUp",Po(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ks.TWITTER_SIGN_IN_METHOD="twitter.com",Ks.PROVIDER_ID="twitter.com";var Gs=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return y(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=fn(cn().mark((function t(n,r,i){var a,o,u,s,c=arguments;return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,du._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Qs(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=fn(cn().mark((function t(n,r,i){var a;return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Qs(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Qs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function $s(){return $s=fn(cn().mark((function e(t){var n,r,i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qu(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Gs({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Hs(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Gs._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}var Xs=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o,u;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return y(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(vi);function Ys(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Xs._fromErrorAndOperation(e,n,t,r);throw n}))}function Js(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Zs(e,t){return ec.apply(this,arguments)}function ec(){return ec=fn(cn().mark((function e(t,n){var r,i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ci(t),e.next=3,rc(!0,r,n);case 3:return e.t0=Wo,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Js(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}function tc(e,t){return nc.apply(this,arguments)}function nc(){return nc=fn(cn().mark((function e(t,n){var r,i,a=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=eu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Gs._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),nc.apply(this,arguments)}function rc(e,t,n){return ic.apply(this,arguments)}function ic(){return(ic=fn(cn().mark((function e(t,n,r){var i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,au(n);case 2:i=Js(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Eo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return oc=fn(cn().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,eu(t,Ys(i,a,n,t),r);case 6:return Eo((o=e.sent).idToken,i,"internal-error"),Eo(u=Zo(o.idToken),i,"internal-error"),s=u.sub,Eo(t.uid===s,i,"user-mismatch"),e.abrupt("return",Gs._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&go(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),oc.apply(this,arguments)}function uc(e,t){return sc.apply(this,arguments)}function sc(){return sc=fn(cn().mark((function e(t,n){var r,i,a,o,u=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Ys(t,i,n);case 4:return a=e.sent,e.next=7,Gs._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return(lc=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uc(Qu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fc(e,t){return hc.apply(this,arguments)}function hc(){return(hc=fn(cn().mark((function e(t,n){var r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ci(t),e.next=3,rc(!1,r,n.providerId);case 3:return e.abrupt("return",tc(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dc(e,t){return pc.apply(this,arguments)}function pc(){return(pc=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ac(Ci(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vc(e,t){return mc.apply(this,arguments)}function mc(){return(mc=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:signInWithCustomToken",Po(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yc(){return(yc=fn(cn().mark((function e(t,n){var r,i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qu(t),e.next=3,vc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Gs._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gc=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return y(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?kc._fromServerResponse(e,t):"totpInfo"in t?bc._fromServerResponse(e,t):go(e,"internal-error")}}]),e}(),kc=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(gc),bc=function(e){k(n,e);var t=E(n);function n(e){return d(this,n),t.call(this,"totp",e)}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(gc);function wc(e,t,n){var r;Eo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Eo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Eo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Eo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function xc(){return xc=fn(cn().mark((function e(t,n,r){var i,a,o,u;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Qu(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Ku(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&wc(a,u,r),e.next=9,hs(a,u);case 9:e.next=14;break;case 11:return r&&wc(a,o,r),e.next=14,hs(a,o).catch(function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Ku(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&wc(a,n,r),e.next=8,hs(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function Ec(){return(Ec=fn(cn().mark((function e(t,n,r){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,es(Ci(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(){return(_c=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,is(Ci(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sc(e,t){return Ic.apply(this,arguments)}function Ic(){return(Ic=fn(cn().mark((function e(t,n){var r,i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ci(t),e.next=3,es(r,{oobCode:n});case 3:i=e.sent,Eo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Eo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Eo(i.mfaInfo,r,"internal-error");case 13:Eo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=gc._fromServerResponse(Qu(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tc(){return(Tc=fn(cn().mark((function e(t,n){var r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sc(Ci(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cc(e,t,n){return Nc.apply(this,arguments)}function Nc(){return Nc=fn(cn().mark((function e(t,n,r){var i,a,o,u,s,c,l;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Qu(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Ku(a,o,"signUpPassword");case 5:s=e.sent,u=Hs(a,s),e.next=10;break;case 9:u=Hs(a,o).catch(function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Ku(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Hs(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Gs._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Ac(){return Ac=fn(cn().mark((function e(t,n,r){var i,a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Eo(t.handleCodeInApp,a,"argument-error"),t&&wc(a,e,t)},a=Qu(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Ku(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,ps(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,ps(a,o).catch(function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Ku(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,ps(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Oc(){return(Oc=fn(cn().mark((function e(t,n,r){var i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ci(t),Eo((a=Ps.credentialWithLink(n,r||Io()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",cc(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rc(e,t){return Dc.apply(this,arguments)}function Dc(){return(Dc=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:createAuthUri",Po(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pc(){return(Pc=fn(cn().mark((function e(t,n){var r,i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=To()?Io():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Rc(Ci(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lc(){return(Lc=fn(cn().mark((function e(t,n){var r,i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ci(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&wc(r.auth,a,n),e.next=8,ls(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mc(){return(Mc=fn(cn().mark((function e(t,n,r){var i,a,o,u;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ci(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&wc(i.auth,o,r),e.next=8,ms(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fc(e,t){return jc.apply(this,arguments)}function jc(){return(jc=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vc(){return(Vc=fn(cn().mark((function e(t,n){var r,i,a,o,u,s,c;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ci(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,eu(a,Fc(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uc(e,t,n){return Bc.apply(this,arguments)}function Bc(){return(Bc=fn(cn().mark((function e(t,n,r){var i,a,o,u;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,eu(t,ns(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zc=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),qc=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return y(n)}(zc),Kc=function(e){k(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return y(n)}(zc),Hc=function(e){k(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return y(n)}(qc),Wc=function(e){k(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return y(n)}(zc),Gc=function(e){k(n,e);var t=E(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return y(n)}(qc);function Qc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Zo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new zc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Kc(a,i);case"github.com":return new Hc(a,i);case"google.com":return new Wc(a,i);case"twitter.com":return new Gc(a,i,e.screenName||null);case"custom":case"anonymous":return new zc(a,null);default:return new zc(a,r,i)}}(n)}var $c=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.auth=r}return y(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ze({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Xc=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return y(e,[{key:"resolveSignIn",value:function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Qu(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return gc._fromServerResponse(r,e)}));Eo(i.mfaPendingCredential,r,"internal-error");var o=$c._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=fn(cn().mark((function e(t){var a,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Gs._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Eo(n.user,r,"internal-error"),e.abrupt("return",Gs._forOperation(n.user,n.operationType,u));case 17:go(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Yc(e,t){return Lo(e,"POST","/v2/accounts/mfaEnrollment:start",Po(e,t))}function Jc(e,t){return Lo(e,"POST","/v2/accounts/mfaEnrollment:finalize",Po(e,t))}var Zc=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return gc._fromServerResponse(t.auth,e)})))}))}return y(e,[{key:"getSession",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=$c,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=fn(cn().mark((function e(t,n){var r,i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,eu(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=fn(cn().mark((function e(t){var n,r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,eu(this.user,Lo(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Po(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),el=new WeakMap;var tl="__sak",nl=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return y(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(tl,"1"),this.storage.removeItem(tl),Promise.resolve(!0)):Promise.resolve(!1)}catch(kC){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var rl=10,il=function(e){k(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=si();return xu(e)||Cu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Nu(),e._shouldAllowMigration=!0,e}return y(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);hi()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,rl):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=fn(cn().mark((function e(t,r){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ao(b(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=fn(cn().mark((function e(t){var r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ao(b(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ao(b(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(nl);il.type="LOCAL";var al=il,ol=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return y(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(nl);ol.type="SESSION";var ul=ol;function sl(e){return Promise.all(e.map(function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var cl=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return y(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=fn(cn().mark((function e(t){var n,r,i,a,o,u,s,c;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,sl(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ll(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}cl.receivers=[];var fl=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return y(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=fn(cn().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=ll("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function hl(){return window}function dl(e){hl().location.href=e}function pl(){return"undefined"!==typeof hl().WorkerGlobalScope&&"function"===typeof hl().importScripts}function vl(){return ml.apply(this,arguments)}function ml(){return(ml=fn(cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function yl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var gl="firebaseLocalStorageDb",kl=1,bl="firebaseLocalStorage",wl="fbase_key",xl=function(){function e(t){d(this,e),this.request=t}return y(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function El(e,t){return e.transaction([bl],t?"readwrite":"readonly").objectStore(bl)}function _l(){var e=indexedDB.deleteDatabase(gl);return new xl(e).toPromise()}function Sl(){var e=indexedDB.open(gl,kl);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(bl,{keyPath:wl})}catch(r){n(r)}})),e.addEventListener("success",fn(cn().mark((function n(){var r;return cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(bl)){n.next=12;break}return r.close(),n.next=5,_l();case 5:return n.t0=t,n.next=8,Sl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Il(e,t,n){return Tl.apply(this,arguments)}function Tl(){return Tl=fn(cn().mark((function e(t,n,r){var i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=El(t,!0).put((Ze(i={},wl,n),Ze(i,"value",r),i)),e.abrupt("return",new xl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Cl(e,t){return Nl.apply(this,arguments)}function Nl(){return Nl=fn(cn().mark((function e(t,n){var r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=El(t,!1).get(n),e.next=3,new xl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Nl.apply(this,arguments)}function Al(e,t){var n=El(e,!0).delete(t);return new xl(n).toPromise()}var Ol=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return y(e,[{key:"_openDb",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Sl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pl()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=fn(cn().mark((function e(){var t=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=cl._getInstance(pl()?self:null),this.receiver._subscribe("keyChanged",function(){var e=fn(cn().mark((function e(n,r){var i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=fn(cn().mark((function e(){var t,n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new fl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&yl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=fn(cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Sl();case 5:return t=e.sent,e.next=8,Il(t,tl,"1");case 8:return e.next=10,Al(t,tl);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=fn(cn().mark((function e(t,n){var r=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Il(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Cl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=fn(cn().mark((function e(t){var n=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Al(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=fn(cn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=El(e,!1).getAll();return new xl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=T(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(fn(cn().mark((function t(){return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ol.type="LOCAL";var Rl=Ol;function Dl(e,t){return Lo(e,"POST","/v2/accounts/mfaSignIn:start",Po(e,t))}function Pl(e,t){return Lo(e,"POST","/v2/accounts/mfaSignIn:finalize",Po(e,t))}var Ll=1e12,Ml=function(){function e(t){d(this,e),this.auth=t,this.counter=Ll,this._widgets=new Map}return y(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Fl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ll;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ll;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Ll,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Fl=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Eo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return y(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var jl=Vu("rcb"),Vl=new No(3e4,6e4),Ul="https://www.google.com/recaptcha/api.js?",Bl=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=hl().grecaptcha)||void 0===t?void 0:t.render)}return y(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Eo(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Lu(hl().grecaptcha)?Promise.resolve(hl().grecaptcha):new Promise((function(r,i){var a=hl().setTimeout((function(){i(ko(e,"network-request-failed"))}),Vl.get());hl()[jl]=function(){hl().clearTimeout(a),delete hl()[jl];var o=hl().grecaptcha;if(o&&Lu(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ko(e,"internal-error"))},ju("".concat(Ul,"?").concat(xi({onload:jl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ko(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=hl().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var zl=function(){function e(){d(this,e)}return y(e,[{key:"load",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ml(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ql="recaptcha",Kl={theme:"light",type:"image"},Hl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Kl),r=arguments.length>2?arguments[2]:void 0;d(this,e),this.parameters=n,this.type=ql,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qu(r),this.isInvisible="invisible"===this.parameters.size,Eo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Eo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zl:new Bl,this.validateStartingState()}return y(e,[{key:"verify",value:function(){var e=fn(cn().mark((function e(){var t,n,r,i=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Eo(!this.parameters.sitekey,this.auth,"argument-error"),Eo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Eo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=hl()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Eo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=fn(cn().mark((function e(){var t,n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=fn(cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eo(To()&&!pl(),this.auth,"internal-error"),e.next=3,Wl();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ou(this.auth);case 8:Eo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Eo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Wl(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Gl=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return y(e,[{key:"confirm",value:function(e){var t=Rs._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ql(){return(Ql=fn(cn().mark((function e(t,n,r){var i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qu(t),e.next=3,Jl(i,n,Ci(r));case 3:return a=e.sent,e.abrupt("return",new Gl(a,(function(e){return cc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $l(e,t,n){return Xl.apply(this,arguments)}function Xl(){return(Xl=fn(cn().mark((function e(t,n,r){var i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ci(t),e.next=3,rc(!1,i,"phone");case 3:return e.next=5,Jl(i.auth,n,Ci(r));case 5:return a=e.sent,e.abrupt("return",new Gl(a,(function(e){return fc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yl(){return(Yl=fn(cn().mark((function e(t,n,r){var i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ci(t),e.next=3,Jl(i.auth,n,Ci(r));case 3:return a=e.sent,e.abrupt("return",new Gl(a,(function(e){return dc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jl(e,t,n){return Zl.apply(this,arguments)}function Zl(){return Zl=fn(cn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Eo("string"===typeof a,t,"argument-error"),Eo(r.type===ql,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Eo("enroll"===u.type,t,"internal-error"),e.next=13,Yc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Eo("signin"===u.type,t,"internal-error"),Eo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Dl(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Is(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Zl.apply(this,arguments)}function ef(){return(ef=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tc(Ci(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tf=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=Qu(t)}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return Jl(this.auth,e,Ci(t))}}],[{key:"credential",value:function(e,t){return Rs._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Rs._fromTokenResponse(n,r):null}}]),e}();function nf(e,t){return t?vu(t):(Eo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}tf.PROVIDER_ID="phone",tf.PHONE_SIGN_IN_METHOD="phone";var rf=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return Es(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Es(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Es(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Zu);function af(e){return uc(e.auth,new rf(e),e.bypassAuthState)}function of(e){var t=e.auth,n=e.user;return Eo(n,t,"internal-error"),ac(n,new rf(e),e.bypassAuthState)}function uf(e){return sf.apply(this,arguments)}function sf(){return(sf=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Eo(r=t.user,n,"internal-error"),e.abrupt("return",tc(r,new rf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return y(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=fn(cn().mark((function t(n,r){return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=fn(cn().mark((function e(t){var n,r,i,a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return af;case"linkViaPopup":case"linkViaRedirect":return uf;case"reauthViaPopup":case"reauthViaRedirect":return of;default:go(this.auth,"internal-error")}}},{key:"resolve",value:function(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){So(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),lf=new No(2e3,1e4);function ff(e,t,n){return hf.apply(this,arguments)}function hf(){return(hf=fn(cn().mark((function e(t,n,r){var i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qu(t),wo(t,n,Ls),a=nf(i,r),o=new mf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function df(){return(df=fn(cn().mark((function e(t,n,r){var i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wo((i=Ci(t)).auth,n,Ls),a=nf(i.auth,r),o=new mf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pf(e,t,n){return vf.apply(this,arguments)}function vf(){return(vf=fn(cn().mark((function e(t,n,r){var i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wo((i=Ci(t)).auth,n,Ls),a=nf(i.auth,r),o=new mf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mf=function(e){k(n,e);var t=E(n);function n(e,r,i,a,o){var u;return d(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(u),u}return y(n,[{key:"executeNotNull",value:function(){var e=fn(cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Eo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=fn(cn().mark((function e(){var t,n=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return So(1===this.filter.length,"Popup operations only handle one event"),t=ll(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ko(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ko(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ko(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,lf.get())}()}}]),n}(cf);mf.currentPopupAction=null;var yf="pendingRedirect",gf=new Map,kf=function(e){k(n,e);var t=E(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return y(n,[{key:"execute",value:function(){var e=fn(cn().mark((function e(){var t,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=gf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,bf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ao(b(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:gf.set(this.auth._key(),t);case 21:return this.bypassAuthState||gf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=fn(cn().mark((function e(t){var r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ao(b(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ao(b(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(cf);function bf(e,t){return wf.apply(this,arguments)}function wf(){return(wf=fn(cn().mark((function e(t,n){var r,i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=If(n),i=Sf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xf(e,t){return Ef.apply(this,arguments)}function Ef(){return(Ef=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf(t)._set(If(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _f(e,t){gf.set(e._key(),t)}function Sf(e){return vu(e._redirectPersistence)}function If(e){return gu(yf,e.config.apiKey,e.name)}function Tf(e,t,n){return function(e,t,n){return Cf.apply(this,arguments)}(e,t,n)}function Cf(){return(Cf=fn(cn().mark((function e(t,n,r){var i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qu(t),wo(t,n,Ls),e.next=4,i._initializationPromise;case 4:return a=nf(i,r),e.next=7,xf(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nf(e,t,n){return function(e,t,n){return Af.apply(this,arguments)}(e,t,n)}function Af(){return(Af=fn(cn().mark((function e(t,n,r){var i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wo((i=Ci(t)).auth,n,Ls),e.next=4,i.auth._initializationPromise;case 4:return a=nf(i.auth,r),e.next=7,xf(a,i.auth);case 7:return e.next=9,Ff(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Of(e,t,n){return function(e,t,n){return Rf.apply(this,arguments)}(e,t,n)}function Rf(){return(Rf=fn(cn().mark((function e(t,n,r){var i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wo((i=Ci(t)).auth,n,Ls),e.next=4,i.auth._initializationPromise;case 4:return a=nf(i.auth,r),e.next=7,rc(!1,i,n.providerId);case 7:return e.next=9,xf(a,i.auth);case 9:return e.next=11,Ff(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Df(e,t){return Pf.apply(this,arguments)}function Pf(){return(Pf=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qu(t)._initializationPromise;case 2:return e.abrupt("return",Lf(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lf(e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=fn(cn().mark((function e(t,n){var r,i,a,o,u,s=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Qu(t),a=nf(i,n),o=new kf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}function Ff(e){return jf.apply(this,arguments)}function jf(){return(jf=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ll("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vf=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return y(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Bf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ko(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Uf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Uf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Bf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function zf(e){return qf.apply(this,arguments)}function qf(){return qf=fn(cn().mark((function e(t){var n,r=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Lo(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}var Kf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hf=/^https?/;function Wf(){return(Wf=fn(cn().mark((function e(t){var n,r,i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,zf(t);case 4:n=e.sent,r=n.authorizedDomains,i=T(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Gf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:go(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Gf(e){var t=Io(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Hf.test(r))return!1;if(Kf.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Qf=new No(3e4,6e4);function $f(){var e=hl().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Xf=null;function Yf(e){return Xf=Xf||function(e){return new Promise((function(t,n){var r,i,a;function o(){$f(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){$f(),n(ko(e,"network-request-failed"))},timeout:Qf.get()})}if(null===(i=null===(r=hl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=hl().gapi)||void 0===a?void 0:a.load)){var u=Vu("iframefcb");return hl()[u]=function(){gapi.load?o():n(ko(e,"network-request-failed"))},ju("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Xf=null,e}))}(e),Xf}var Jf=new No(5e3,15e3),Zf="__/auth/iframe",eh="emulator/auth/iframe",th={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rh(e){var t=e.config;Eo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ao(t,eh):"https://".concat(e.config.authDomain,"/").concat(Zf),r={apiKey:t.apiKey,appName:e.name,v:Ea},i=nh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(xi(r).slice(1))}function ih(e){return ah.apply(this,arguments)}function ah(){return ah=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yf(t);case 2:return n=e.sent,Eo(r=hl().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:rh(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:th,dontclear:!0},(function(e){return new Promise(function(){var n=fn(cn().mark((function n(r,i){var a,o,u;return cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){hl().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ko(t,"network-request-failed"),o=hl().setTimeout((function(){i(a)}),Jf.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),ah.apply(this,arguments)}var oh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uh=500,sh=600,ch="_blank",lh="http://localhost",fh=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return y(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function hh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:uh,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sh,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},oh),{width:r.toString(),height:i.toString(),top:a,left:o}),c=si().toLowerCase();n&&(u=Eu(c)?ch:n),wu(c)&&(t=t||lh,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Cu(arguments.length>0&&void 0!==arguments[0]?arguments[0]:si())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new fh(null);var h=window.open(t||"",u,f);Eo(h,e,"popup-blocked");try{h.focus()}catch(d){}return new fh(h)}var dh="__/auth/handler",ph="emulator/auth/handler",vh=encodeURIComponent("fac");function mh(e,t,n,r,i,a){return yh.apply(this,arguments)}function yh(){return(yh=fn(cn().mark((function e(t,n,r,i,a,o){var u,s,c,f,h,d,p,v,m,y,g,k,b;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Eo(t.config.authDomain,t,"auth-domain-config-required"),Eo(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Ea,eventId:a},n instanceof Ls)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",ki(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)f=l(c[s],2),h=f[0],d=f[1],u[h]=d;for(n instanceof Ms&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(vh,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(gh(t),"?").concat(xi(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gh(e){var t=e.config;return t.emulator?Ao(t,ph):"https://".concat(t.authDomain,"/").concat(dh)}var kh="webStorageSupport",bh=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ul,this._completeRedirectFn=Lf,this._overrideRedirectResult=_f}return y(e,[{key:"_openPopup",value:function(){var e=fn(cn().mark((function e(t,n,r,i){var a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return So(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,mh(t,n,r,Io(),i);case 3:return o=e.sent,e.abrupt("return",hh(t,o,ll()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=fn(cn().mark((function e(t,n,r,i){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,mh(t,n,r,Io(),i);case 4:return dl(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(So(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ih(t);case 2:return n=e.sent,r=new Vf(t),n.register("authEvent",(function(e){return Eo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(kh,{type:kh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[kh];void 0!==i&&t(!!i),go(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Nu()||xu()||Cu()}}]),e}(),wh=bh,xh=function(){function e(t){d(this,e),this.factorId=t}return y(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return _o("unexpected MultiFactorSessionType")}}}]),e}(),Eh=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return y(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Lo(e,"POST","/v2/accounts/mfaEnrollment:finalize",Po(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Lo(e,"POST","/v2/accounts/mfaSignIn:finalize",Po(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(xh),_h=function(){function e(){d(this,e)}return y(e,null,[{key:"assertion",value:function(e){return Eh._fromCredential(e)}}]),e}();_h.FACTOR_ID="phone";var Sh=function(){function e(){d(this,e)}return y(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Ih._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Ih._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eo("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},Lo(i,"POST","/v2/accounts/mfaEnrollment:start",Po(i,a));case 4:return r=e.sent,e.abrupt("return",Th._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Sh.FACTOR_ID="totp";var Ih=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return y(n,[{key:"_finalizeEnroll",value:function(){var e=fn(cn().mark((function e(t,n,r){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eo("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Jc(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=fn(cn().mark((function e(t,n){var r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eo(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Pl(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(xh),Th=function(){function e(t,n,r,i,a,o,u){d(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return y(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Ch(e)||Ch(t))&&(r=!0),r&&(Ch(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Ch(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Ch(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Nh="@firebase/auth",Ah="0.23.1",Oh=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return y(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Eo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Rh;!function(e){var t;null===(t=ai())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Dh(){return window}Rh="Browser",ma(new Ni("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Eo(u&&!u.includes(":"),"invalid-api-key",{appName:r.name}),Eo(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Rh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Au(Rh)},l=new Gu(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ma(new Ni("auth-internal",(function(e){return function(e){return new Oh(e)}(Qu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Na(Nh,Ah,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Rh)),Na(Nh,Ah,"esm2017");var Ph=2e3;function Lh(e,t,n){return Mh.apply(this,arguments)}function Mh(){return Mh=fn(cn().mark((function e(t,n,r){var i,a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Dh(),o=a.BuildInfo,So(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,zh(n.sessionId);case 4:return u=e.sent,s={},Cu()?s.ibi=o.packageName:Su()?s.apn=o.packageName:go(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",mh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}function Fh(){return(Fh=fn(cn().mark((function e(t){var n,r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dh(),r=n.BuildInfo,i={},Cu()?i.iosBundleId=r.packageName:Su()?i.androidPackageName=r.packageName:go(t,"operation-not-supported-in-this-environment"),e.next=5,zf(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jh(e){var t=Dh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Vh(e,t,n){return Uh.apply(this,arguments)}function Uh(){return Uh=fn(cn().mark((function e(t,n,r){var i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(ko(t,"redirect-cancelled-by-user"))}),Ph))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Su()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Uh.apply(this,arguments)}function Bh(e){var t,n,r,i,a,o,u,s,c,l,f=Dh();Eo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Eo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Eo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Eo("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Eo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function zh(e){return qh.apply(this,arguments)}function qh(){return(qh=fn(cn().mark((function e(t){var n,r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kh(e){if(So(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Hh=20,Wh=function(e){k(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return y(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ao(b(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Vf);function Gh(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Jh(),postBody:null,tenantId:e.tenantId,error:ko(e,"no-auth-event")}}function Qh(e,t){return Zh()._set(ed(e),t)}function $h(e){return Xh.apply(this,arguments)}function Xh(){return(Xh=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zh()._get(ed(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Zh()._remove(ed(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yh(e,t){var n,r,i=function(e){var t=td(e),n=t.link?decodeURIComponent(t.link):void 0,r=td(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return td(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=td(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?ko(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Jh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Hh;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Zh(){return vu(al)}function ed(e){return gu("authEvent",e.config.apiKey,e.name)}function td(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=I(e.split("?"));t[0];return Ei(t.slice(1).join("?"))}var nd=function(){function e(){d(this,e),this._redirectPersistence=ul,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lf,this._overrideRedirectResult=_f}return y(e,[{key:"_initialize",value:function(){var e=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Wh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){go(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=fn(cn().mark((function e(t,n,r,i){var a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),gf.clear(),e.next=10,this._originValidation(t);case 10:return o=Gh(t,r,i),e.next=13,Qh(t,o);case 13:return e.next=15,Lh(t,o,n);case 15:return u=e.sent,e.next=18,jh(u);case 18:return s=e.sent,e.abrupt("return",Vh(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Fh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Dh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(fn(cn().mark((function n(){return cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$h(e);case 2:t.onEvent(id());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=fn(cn().mark((function n(r){var i,a;return cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,$h(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Yh(i,r.url)),t.onEvent(a||id());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Dh().handleOpenURL=function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),rd=nd;function id(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ko("no-auth-event")}}var ad="@firebase/auth-compat",od="0.4.1",ud=1e3;function sd(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function cd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si();return!("file:"!==sd()&&"ionic:"!==sd()&&"capacitor:"!==sd()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ld(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si();return hi()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si();return/Edge\/\d+/.test(e)}(e)}function fd(){try{var e=self.localStorage,t=ll();if(e)return e.setItem(t,"1"),e.removeItem(t),!ld()||di()}catch(n){return hd()&&di()}return!1}function hd(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function dd(){return("http:"===sd()||"https:"===sd()||li()||cd())&&!(fi()||ci())&&fd()&&!hd()}function pd(){return cd()&&"undefined"!==typeof document}function vd(){return md.apply(this,arguments)}function md(){return(md=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pd()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),ud);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yd={LOCAL:"local",NONE:"none",SESSION:"session"},gd=Eo,kd="persistence";function bd(e,t){gd(Object.values(yd).includes(t),e,"invalid-persistence-type"),fi()?gd(t!==yd.SESSION,e,"unsupported-persistence-type"):ci()?gd(t===yd.NONE,e,"unsupported-persistence-type"):hd()?gd(t===yd.NONE||t===yd.LOCAL&&di(),e,"unsupported-persistence-type"):gd(t===yd.NONE||fd(),e,"unsupported-persistence-type")}function wd(e){return xd.apply(this,arguments)}function xd(){return(xd=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Ed(),r=gu(kd,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ed(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var _d=Eo,Sd=function(){function e(){d(this,e),this.browserResolver=vu(wh),this.cordovaResolver=vu(rd),this.underlyingResolver=null,this._redirectPersistence=ul,this._completeRedirectFn=Lf,this._overrideRedirectResult=_f}return y(e,[{key:"_initialize",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=fn(cn().mark((function e(t,n,r,i){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=fn(cn().mark((function e(t,n,r,i){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return pd()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return _d(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=fn(cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,vd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Id(e){return e.unwrap()}function Td(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Rd(e,function(e,t){var n,r=Ci(e),i=t;return Eo(t.customData.operationType,r,"argument-error"),Eo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Xc._fromError(r,i)}(e,t));else if(r){var i=Cd(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Cd(e){var t=(e instanceof vi?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof vi)&&"temporaryProof"in t&&"phoneNumber"in t)return tf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===so.PASSWORD)return null;switch(r){case so.GOOGLE:n=Vs;break;case so.FACEBOOK:n=js;break;case so.GITHUB:n=Us;break;case so.TWITTER:n=Ks;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Bs._create(r,u):Ss._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Fs(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof vi?n.credentialFromError(e):n.credentialFromResult(e)}function Nd(e,t){return t.catch((function(t){throw t instanceof vi&&Td(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Cd(t)),additionalUserInfo:Qc(e),user:Dd.getOrCreate(r)}}))}function Ad(e,t){return Od.apply(this,arguments)}function Od(){return(Od=fn(cn().mark((function e(t,n){var r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Nd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rd=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return y(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Nd(Id(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Dd=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ci(e);return el.has(t)||el.set(t,Zc._fromUser(t)),el.get(t)}(t)}return y(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(this.auth,fc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ad(this.auth,$l(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(this.auth,pf(this._delegate,t,Sd)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wd(Qu(this.auth));case 2:return e.abrupt("return",Of(this._delegate,t,Sd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(this.auth,dc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Ad(this.auth,function(e,t,n){return Yl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Nd(this.auth,function(e,t,n){return df.apply(this,arguments)}(this._delegate,e,Sd))}},{key:"reauthenticateWithRedirect",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wd(Qu(this.auth));case 2:return e.abrupt("return",Nf(this._delegate,t,Sd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Lc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zs(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Uc(Ci(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Uc(Ci(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return ef.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Vc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Mc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Dd.USER_MAP=new WeakMap;var Pd=Eo,Ld=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Pd(r,"invalid-api-key",{appName:t.name}),Pd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Sd:void 0;this._delegate=n.initialize({options:{persistence:Fd(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(fo),this.linkUnderlyingAuth()}return y(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Dd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Xu(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return _c.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Sc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ec.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(this._delegate,Cc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Pc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ds.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=fn(cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pd(dd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Df(this._delegate,Sd);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Nd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Qu(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Md(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Md(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Ac.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return xc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bd(this._delegate,t),e.t0=t,e.next=e.t0===yd.SESSION?4:e.t0===yd.LOCAL?6:e.t0===yd.NONE?11:13;break;case 4:return n=ul,e.abrupt("break",14);case 6:return e.next=8,vu(Rl)._isAvailable();case 8:return r=e.sent,n=r?Rl:al,e.abrupt("break",14);case 11:return n=yu,e.abrupt("break",14);case 13:return e.abrupt("return",go("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Nd(this._delegate,function(e){return $s.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Nd(this._delegate,cc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Nd(this._delegate,function(e,t){return yc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Nd(this._delegate,function(e,t,n){return cc(Ci(e),Ps.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Nd(this._delegate,function(e,t,n){return Oc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Ad(this._delegate,function(e,t,n){return Ql.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pd(dd(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Nd(this._delegate,ff(this._delegate,t,Sd)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pd(dd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,wd(this._delegate);case 3:return e.abrupt("return",Tf(this._delegate,t,Sd));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Tc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Md(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Dd.getOrCreate(e))},error:t,complete:n}}function Fd(e,t){var n=function(e,t){var n=Ed();if(!n)return[];var r=gu(kd,e,t);switch(n.getItem(r)){case yd.NONE:return[yu];case yd.LOCAL:return[Rl,ul];case yd.SESSION:return[ul];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Rl)||n.push(Rl),"undefined"!==typeof window)for(var r=0,i=[al,ul];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(yu)||n.push(yu),n}Ld.Persistence=yd;var jd=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new tf(Id(io.auth()))}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return tf.credential(e,t)}}]),e}();jd.PHONE_SIGN_IN_METHOD=tf.PHONE_SIGN_IN_METHOD,jd.PROVIDER_ID=tf.PROVIDER_ID;var Vd,Ud=Eo,Bd=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:io.app();d(this,e),Ud(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Hl(t,n,i.auth()),this.type=this._delegate.type}return y(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),zd="auth-compat";(Vd=io).INTERNAL.registerComponent(new Ni(zd,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ld(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:co.EMAIL_SIGNIN,PASSWORD_RESET:co.PASSWORD_RESET,RECOVER_EMAIL:co.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:co.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:co.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:co.VERIFY_EMAIL}},EmailAuthProvider:Ps,FacebookAuthProvider:js,GithubAuthProvider:Us,GoogleAuthProvider:Vs,OAuthProvider:Fs,SAMLAuthProvider:qs,PhoneAuthProvider:jd,PhoneMultiFactorGenerator:_h,RecaptchaVerifier:Bd,TwitterAuthProvider:Ks,Auth:Ld,AuthCredential:Zu,Error:vi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Vd.registerVersion(ad,od);var qd,Kd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Hd={},Wd=Wd||{},Gd=Kd||self;function Qd(){}function $d(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Xd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Yd="closure_uid_"+(1e9*Math.random()>>>0),Jd=0;function Zd(e,t,n){return e.call.apply(e.bind,arguments)}function ep(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function tp(e,t,n){return(tp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zd:ep).apply(null,arguments)}function np(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function rp(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ip(){this.s=this.s,this.o=this.o}ip.prototype.s=!1,ip.prototype.ra=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Yd)&&e[Yd]||(e[Yd]=++Jd))},ip.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ap=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function op(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function up(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if($d(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function sp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}sp.prototype.h=function(){this.defaultPrevented=!0};var cp=function(){if(!Gd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Gd.addEventListener("test",Qd,t),Gd.removeEventListener("test",Qd,t)}catch(n){}return e}();function lp(e){return/^[\s\xa0]*$/.test(e)}var fp=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function hp(e,t){return e<t?-1:e>t?1:0}function dp(){var e=Gd.navigator;return e&&(e=e.userAgent)?e:""}function pp(e){return-1!=dp().indexOf(e)}function vp(e){return vp[" "](e),e}function mp(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}vp[" "]=Qd;var yp,gp=pp("Opera"),kp=pp("Trident")||pp("MSIE"),bp=pp("Edge"),wp=bp||kp,xp=pp("Gecko")&&!(-1!=dp().toLowerCase().indexOf("webkit")&&!pp("Edge"))&&!(pp("Trident")||pp("MSIE"))&&!pp("Edge"),Ep=-1!=dp().toLowerCase().indexOf("webkit")&&!pp("Edge");function _p(){var e=Gd.document;return e?e.documentMode:void 0}e:{var Sp="",Ip=function(){var e=dp();return xp?/rv:([^\);]+)(\)|;)/.exec(e):bp?/Edge\/([\d\.]+)/.exec(e):kp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ep?/WebKit\/(\S+)/.exec(e):gp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ip&&(Sp=Ip?Ip[1]:""),kp){var Tp=_p();if(null!=Tp&&Tp>parseFloat(Sp)){yp=String(Tp);break e}}yp=Sp}var Cp,Np={};if(Gd.document&&kp){var Ap=_p();Cp=Ap||(parseInt(yp,10)||void 0)}else Cp=void 0;var Op=Cp;function Rp(e,t){if(sp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xp){e:{try{vp(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Dp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Rp.$.h.call(this)}}rp(Rp,sp);var Dp={2:"touch",3:"pen",4:"mouse"};Rp.prototype.h=function(){Rp.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Pp="closure_listenable_"+(1e6*Math.random()|0),Lp=0;function Mp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Lp,this.fa=this.ia=!1}function Fp(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function jp(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Vp(e){var t={};for(var n in e)t[n]=e[n];return t}var Up="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bp(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Up.length;a++)n=Up[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zp(e){this.src=e,this.g={},this.h=0}function qp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ap(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Fp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Kp(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}zp.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Kp(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Mp(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Hp="closure_lm_"+(1e6*Math.random()|0),Wp={};function Gp(e,t,n,r,i){if(r&&r.once)return $p(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Gp(e,t[a],n,r,i);return null}return n=nv(n),e&&e[Pp]?e.O(t,n,Xd(r)?!!r.capture:!!r,i):Qp(e,t,n,!1,r,i)}function Qp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Xd(i)?!!i.capture:!!i,u=ev(e);if(u||(e[Hp]=u=new zp(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Zp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)cp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Jp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $p(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)$p(e,t[a],n,r,i);return null}return n=nv(n),e&&e[Pp]?e.P(t,n,Xd(r)?!!r.capture:!!r,i):Qp(e,t,n,!0,r,i)}function Xp(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Xp(e,t[a],n,r,i);else r=Xd(r)?!!r.capture:!!r,n=nv(n),e&&e[Pp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Kp(a=e.g[t],n,r,i))&&(Fp(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ev(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Kp(t,n,r,i)),(n=-1<e?t[e]:null)&&Yp(n))}function Yp(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Pp])qp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Jp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ev(t))?(qp(n,e),0==n.h&&(n.src=null,t[Hp]=null)):Fp(e)}}}function Jp(e){return e in Wp?Wp[e]:Wp[e]="on"+e}function Zp(e,t){if(e.fa)e=!0;else{t=new Rp(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Yp(e),e=n.call(r,t)}return e}function ev(e){return(e=e[Hp])instanceof zp?e:null}var tv="__closure_events_fn_"+(1e9*Math.random()>>>0);function nv(e){return"function"===typeof e?e:(e[tv]||(e[tv]=function(t){return e.handleEvent(t)}),e[tv])}function rv(){ip.call(this),this.i=new zp(this),this.S=this,this.J=null}function iv(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new sp(t,e);else if(t instanceof sp)t.target=t.target||e;else{var i=t;Bp(t=new sp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=av(o,r,!0,t)&&i}if(i=av(o=t.g=e,r,!0,t)&&i,i=av(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=av(o=t.g=n[a],r,!1,t)&&i}function av(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&qp(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}rp(rv,ip),rv.prototype[Pp]=!0,rv.prototype.removeEventListener=function(e,t,n,r){Xp(this,e,t,n,r)},rv.prototype.N=function(){if(rv.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Fp(n[r]);delete t.g[e],t.h--}}this.J=null},rv.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},rv.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ov=Gd.JSON.stringify;function uv(){var e=vv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var sv,cv=function(){function e(){d(this,e),this.h=this.g=null}return y(e,[{key:"add",value:function(e,t){var n=lv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),lv=new(function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return y(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new fv}),(function(e){return e.reset()})),fv=function(){function e(){d(this,e),this.next=this.g=this.h=null}return y(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function hv(e){Gd.setTimeout((function(){throw e}),0)}function dv(e,t){sv||function(){var e=Gd.Promise.resolve(void 0);sv=function(){e.then(mv)}}(),pv||(sv(),pv=!0),vv.add(e,t)}var pv=!1,vv=new cv;function mv(){for(var e;e=uv();){try{e.h.call(e.g)}catch(n){hv(n)}var t=lv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}pv=!1}function yv(e,t){rv.call(this),this.h=e||1,this.g=t||Gd,this.j=tp(this.qb,this),this.l=Date.now()}function gv(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function kv(e,t,n){if("function"===typeof e)n&&(e=tp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=tp(e.handleEvent,e)}return 2147483647<Number(t)?-1:Gd.setTimeout(e,t||0)}function bv(e){e.g=kv((function(){e.g=null,e.i&&(e.i=!1,bv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}rp(yv,rv),(qd=yv.prototype).ga=!1,qd.T=null,qd.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),iv(this,"tick"),this.ga&&(gv(this),this.start()))}},qd.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qd.N=function(){yv.$.N.call(this),gv(this),delete this.g};var wv=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return y(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:bv(this)}},{key:"N",value:function(){ao(b(n.prototype),"N",this).call(this),this.g&&(Gd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ip);function xv(e){ip.call(this),this.h=e,this.g={}}rp(xv,ip);var Ev=[];function _v(e,t,n,r){Array.isArray(n)||(n&&(Ev[0]=n.toString()),n=Ev);for(var i=0;i<n.length;i++){var a=Gp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Sv(e){jp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Yp(e)}),e),e.g={}}function Iv(){this.g=!0}function Tv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ov(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}xv.prototype.N=function(){xv.$.N.call(this),Sv(this)},xv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Iv.prototype.Ea=function(){this.g=!1},Iv.prototype.info=function(){};var Cv={},Nv=null;function Av(){return Nv=Nv||new rv}function Ov(e){sp.call(this,Cv.Ta,e)}function Rv(e){var t=Av();iv(t,new Ov(t))}function Dv(e,t){sp.call(this,Cv.STAT_EVENT,e),this.stat=t}function Pv(e){var t=Av();iv(t,new Dv(t,e))}function Lv(e,t){sp.call(this,Cv.Ua,e),this.size=t}function Mv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Gd.setTimeout((function(){e()}),t)}Cv.Ta="serverreachability",rp(Ov,sp),Cv.STAT_EVENT="statevent",rp(Dv,sp),Cv.Ua="timingevent",rp(Lv,sp);var Fv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Vv(){}function Uv(e){return e.h||(e.h=e.i())}function Bv(){}Vv.prototype.h=null;var zv,qv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Kv(){sp.call(this,"d")}function Hv(){sp.call(this,"c")}function Wv(){}function Gv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new xv(this),this.P=$v,e=wp?125:void 0,this.V=new yv(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Qv}function Qv(){this.i=null,this.g="",this.h=!1}rp(Kv,sp),rp(Hv,sp),rp(Wv,Vv),Wv.prototype.g=function(){return new XMLHttpRequest},Wv.prototype.i=function(){return{}},zv=new Wv;var $v=45e3,Xv={},Yv={};function Jv(e,t,n){e.L=1,e.v=ym(hm(t)),e.s=n,e.S=!0,Zv(e,null)}function Zv(e,t){e.G=Date.now(),rm(e),e.A=hm(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Am(n.i,"t",r),e.C=0,n=e.l.I,e.h=new Qv,e.g=Oy(e.l,n?t:null,!e.s),0<e.O&&(e.M=new wv(tp(e.Pa,e,e.g),e.O)),_v(e.U,e.g,"readystatechange",e.nb),t=e.I?Vp(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Rv(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function em(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function tm(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=nm(e,n))==Yv){4==t&&(e.o=4,Pv(14),i=!1),Tv(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xv){e.o=4,Pv(15),Tv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Tv(e.j,e.m,r,null),sm(e,r)}em(e)&&r!=Yv&&r!=Xv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Pv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ey(t),t.L=!0,Pv(11))):(Tv(e.j,e.m,n,"[Invalid Chunked Response]"),um(e),om(e))}function nm(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Yv:(n=Number(t.substring(n,r)),isNaN(n)?Xv:(r+=1)+n>t.length?Yv:(t=t.substr(r,n),e.C=r+n,t))}function rm(e){e.Y=Date.now()+e.P,im(e,e.P)}function im(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Mv(tp(e.lb,e),t)}function am(e){e.B&&(Gd.clearTimeout(e.B),e.B=null)}function om(e){0==e.l.H||e.J||Iy(e.l,e)}function um(e){am(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,gv(e.V),Sv(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function sm(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||jm(n.h,e)))if(!e.K&&jm(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Sy(n),vy(n)}xy(n),Pv(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=Mv(tp(n.ib,n),6e3));if(1>=Fm(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else Cy(n,11)}else if((e.K||n.g==e)&&Sy(n),!lp(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var u=a[4];null!=u&&(n.Ga=u,n.j.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Vm(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,mm(r.G,r.F,h))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Ay(r,r.I?r.oa:null,r.Y),d.K){Um(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(am(p),rm(p)),r.g=d}else wy(r);0<n.i.length&&yy(n)}else"stop"!=a[0]&&"close"!=a[0]||Cy(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Cy(n,7):py(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}Rv()}catch(a){}}function cm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if($d(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if($d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if($d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(qd=Gv.prototype).setTimeout=function(e){this.P=e},qd.nb=function(e){e=e.target;var t=this.M;t&&3==sy(e)?t.l():this.Pa(e)},qd.Pa=function(e){try{if(e==this.g)e:{var t=sy(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||wp||this.g&&(this.h.h||this.g.ja()||cy(this.g)))){this.J||4!=t||7==n||Rv(),am(this);var r=this.g.da();this.aa=r;t:if(em(this)){var i=cy(this.g);e="";var a=i.length,o=4==sy(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){um(this),om(this);var u="";break t}this.h.i=new Gd.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lp(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Pv(12),um(this),om(this);break e}Tv(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sm(this,r)}this.S?(tm(this,t,u),wp&&this.i&&3==t&&(_v(this.U,this.V,"tick",this.mb),this.V.start())):(Tv(this.j,this.m,u,null),sm(this,u)),4==t&&um(this),this.i&&!this.J&&(4==t?Iy(this.l,this):(this.i=!1,rm(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Pv(12)):(this.o=0,Pv(13)),um(this),om(this)}}}catch(t){}},qd.mb=function(){if(this.g){var e=sy(this.g),t=this.g.ja();this.C<t.length&&(am(this),tm(this,e,t),this.i&&4!=e&&rm(this))}},qd.cancel=function(){this.J=!0,um(this)},qd.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Rv(),Pv(17)),um(this),this.o=2,om(this)):im(this,this.Y-e)};var lm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fm(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof fm){this.h=void 0!==t?t:e.h,dm(this,e.j),this.s=e.s,this.g=e.g,pm(this,e.m),this.l=e.l,t=e.i;var n=new Im;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),vm(this,n),this.o=e.o}else e&&(n=String(e).match(lm))?(this.h=!!t,dm(this,n[1]||"",!0),this.s=gm(n[2]||""),this.g=gm(n[3]||"",!0),pm(this,n[4]),this.l=gm(n[5]||"",!0),vm(this,n[6]||"",!0),this.o=gm(n[7]||"")):(this.h=!!t,this.i=new Im(null,this.h))}function hm(e){return new fm(e)}function dm(e,t,n){e.j=n?gm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function vm(e,t,n){t instanceof Im?(e.i=t,function(e,t){t&&!e.j&&(Tm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Cm(this,t),Am(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=km(t,_m)),e.i=new Im(t,e.h))}function mm(e,t,n){e.i.set(t,n)}function ym(e){return mm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function gm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function km(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,bm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function bm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}fm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(km(t,wm,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(km(t,wm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(km(n,"/"==n.charAt(0)?Em:xm,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",km(n,Sm)),e.join("")};var wm=/[#\/\?@]/g,xm=/[#\?:]/g,Em=/[#\?]/g,_m=/[#\?@]/g,Sm=/#/g;function Im(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tm(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Cm(e,t){Tm(e),t=Om(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nm(e,t){return Tm(e),t=Om(e,t),e.g.has(t)}function Am(e,t,n){Cm(e,t),0<n.length&&(e.i=null,e.g.set(Om(e,t),op(n)),e.h+=n.length)}function Om(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(qd=Im.prototype).add=function(e,t){Tm(this),this.i=null,e=Om(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},qd.forEach=function(e,t){Tm(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},qd.sa=function(){Tm(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},qd.Z=function(e){Tm(this);var t=[];if("string"===typeof e)Nm(this,e)&&(t=t.concat(this.g.get(Om(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},qd.set=function(e,t){return Tm(this),this.i=null,Nm(this,e=Om(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},qd.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},qd.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Rm=y((function e(t,n){d(this,e),this.h=t,this.g=n}));function Dm(e){this.l=e||Lm,Gd.PerformanceNavigationTiming?e=0<(e=Gd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Gd.g&&Gd.g.Ka&&Gd.g.Ka()&&Gd.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pm,Lm=10;function Mm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Fm(e){return e.h?1:e.g?e.g.size:0}function jm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Vm(e,t){e.g?e.g.add(t):e.h=t}function Um(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Bm(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=T(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return op(e.i)}function zm(){}function qm(){this.g=new zm}function Km(e,t,n){var r=n||"";try{cm(e,(function(e,n){var i=e;Xd(e)&&(i=ov(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Wm(e){this.l=e.fc||null,this.j=e.ob||!1}function Gm(e,t){rv.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Qm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dm.prototype.cancel=function(){if(this.i=Bm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=T(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},zm.prototype.stringify=function(e){return Gd.JSON.stringify(e,void 0)},zm.prototype.parse=function(e){return Gd.JSON.parse(e,void 0)},rp(Wm,Vv),Wm.prototype.g=function(){return new Gm(this.l,this.j)},Wm.prototype.i=(Pm={},function(){return Pm}),rp(Gm,rv);var Qm=0;function $m(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Xm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ym(e)}function Ym(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(qd=Gm.prototype).open=function(e,t){if(this.readyState!=Qm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ym(this)},qd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Gd).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},qd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xm(this)),this.readyState=Qm},qd.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ym(this)),this.g&&(this.readyState=3,Ym(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Gd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$m(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},qd.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Xm(this):Ym(this),3==this.readyState&&$m(this)}},qd.Za=function(e){this.g&&(this.response=this.responseText=e,Xm(this))},qd.Ya=function(e){this.g&&(this.response=e,Xm(this))},qd.ka=function(){this.g&&Xm(this)},qd.setRequestHeader=function(e,t){this.v.append(e,t)},qd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},qd.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Gm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Jm=Gd.JSON.parse;function Zm(e){rv.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ey,this.L=this.M=!1}rp(Zm,rv);var ey="",ty=/^https?$/i,ny=["POST","PUT"];function ry(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,iy(e),oy(e)}function iy(e){e.F||(e.F=!0,iv(e,"complete"),iv(e,"error"))}function ay(e){if(e.h&&"undefined"!=typeof Wd&&(!e.C[1]||4!=sy(e)||2!=e.da()))if(e.v&&4==sy(e))kv(e.La,0,e);else if(iv(e,"readystatechange"),4==sy(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(lm)[1]||null;if(!a&&Gd.self&&Gd.self.location){var o=Gd.self.location.protocol;a=o.substr(0,o.length-1)}i=!ty.test(a?a.toLowerCase():"")}t=i}if(t)iv(e,"complete"),iv(e,"success");else{e.m=6;try{var u=2<sy(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.da()+"]",iy(e)}}finally{oy(e)}}}function oy(e,t){if(e.g){uy(e);var n=e.g,r=e.C[0]?Qd:null;e.g=null,e.C=null,t||iv(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function uy(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Gd.clearTimeout(e.A),e.A=null)}function sy(e){return e.g?e.g.readyState:0}function cy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ey:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(pg){return null}}function ly(e){var t="";return jp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function fy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ly(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):mm(e,t,n))}function hy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function dy(e){this.Ga=0,this.i=[],this.j=new Iv,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hy("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hy("baseRetryDelayMs",5e3,e),this.hb=hy("retryDelaySeedMs",1e4,e),this.eb=hy("forwardChannelMaxRetries",2,e),this.xa=hy("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new Dm(e&&e.concurrentRequestLimit),this.Ja=new qm,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function py(e){if(my(e),3==e.H){var t=e.W++,n=hm(e.G);mm(n,"SID",e.J),mm(n,"RID",t),mm(n,"TYPE","terminate"),ky(e,n),(t=new Gv(e,e.j,t,void 0)).L=2,t.v=ym(hm(n)),n=!1,Gd.navigator&&Gd.navigator.sendBeacon&&(n=Gd.navigator.sendBeacon(t.v.toString(),"")),!n&&Gd.Image&&((new Image).src=t.v,n=!0),n||(t.g=Oy(t.l,null),t.g.ha(t.v)),t.G=Date.now(),rm(t)}Ny(e)}function vy(e){e.g&&(Ey(e),e.g.cancel(),e.g=null)}function my(e){vy(e),e.u&&(Gd.clearTimeout(e.u),e.u=null),Sy(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Gd.clearTimeout(e.m),e.m=null)}function yy(e){Mm(e.h)||e.m||(e.m=!0,dv(e.Na,e),e.C=0)}function gy(e,t){var n;n=t?t.m:e.W++;var r=hm(e.G);mm(r,"SID",e.J),mm(r,"RID",n),mm(r,"AID",e.V),ky(e,r),e.o&&e.s&&fy(r,e.o,e.s),n=new Gv(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=by(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Vm(e.h,n),Jv(n,r,t)}function ky(e,t){e.ma&&jp(e.ma,(function(e,n){mm(t,n,e)})),e.l&&cm({},(function(e,n){mm(t,n,e)}))}function by(e,t,n){n=Math.min(e.i.length,n);var r=e.l?tp(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Km(l,o,"req"+c+"_")}catch(Sg){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function wy(e){e.g||e.u||(e.ba=1,dv(e.Ma,e),e.A=0)}function xy(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Mv(tp(e.Ma,e),Ty(e,e.A)),e.A++,!0)}function Ey(e){null!=e.B&&(Gd.clearTimeout(e.B),e.B=null)}function _y(e){e.g=new Gv(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=hm(e.wa);mm(t,"RID","rpc"),mm(t,"SID",e.J),mm(t,"CI",e.M?"0":"1"),mm(t,"AID",e.V),mm(t,"TYPE","xmlhttp"),ky(e,t),e.o&&e.s&&fy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=ym(hm(t)),n.s=null,n.S=!0,Zv(n,e)}function Sy(e){null!=e.v&&(Gd.clearTimeout(e.v),e.v=null)}function Iy(e,t){var n=null;if(e.g==t){Sy(e),Ey(e),e.g=null;var r=2}else{if(!jm(e.h,t))return;n=t.F,Um(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;iv(r=Av(),new Lv(r,n)),yy(e)}else wy(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(Fm(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Mv(tp(e.Na,e,t),Ty(e,e.C)),e.C++,!0))}(e,t)||2==r&&xy(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Cy(e,5);break;case 4:Cy(e,10);break;case 3:Cy(e,6);break;default:Cy(e,2)}}function Ty(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function Cy(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=tp(e.pb,e);n||(n=new fm("//www.google.com/images/cleardot.gif"),Gd.location&&"http"==Gd.location.protocol||dm(n,"https"),ym(n)),function(e,t){var n=new Iv;if(Gd.Image){var r=new Image;r.onload=np(Hm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=np(Hm,n,r,"TestLoadImage: error",!1,t),r.onabort=np(Hm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=np(Hm,n,r,"TestLoadImage: timeout",!1,t),Gd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Pv(2);e.H=0,e.l&&e.l.za(t),Ny(e),my(e)}function Ny(e){if(e.H=0,e.pa=[],e.l){var t=Bm(e.h);0==t.length&&0==e.i.length||(up(e.pa,t),up(e.pa,e.i),e.h.i.length=0,op(e.i),e.i.length=0),e.l.ya()}}function Ay(e,t,n){var r=n instanceof fm?hm(n):new fm(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),pm(r,r.m);else{var i=Gd.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new fm(null,void 0);r&&dm(a,r),t&&(a.g=t),i&&pm(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&mm(r,n,t),mm(r,"VER",e.qa),ky(e,r),r}function Oy(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Zm(new Wm({ob:!0})):new Zm(e.va)).Oa(e.I),t}function Ry(){}function Dy(){if(kp&&!(10<=Number(Op)))throw Error("Environmental error: no available transport.")}function Py(e,t){rv.call(this),this.g=new dy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!lp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!lp(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Fy(this)}function Ly(e){Kv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function My(){Hv.call(this),this.status=1}function Fy(e){this.g=e}function jy(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Vy(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Uy(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(qd=Zm.prototype).Oa=function(e){this.M=e},qd.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zv.g(),this.C=this.u?Uv(this.u):Uv(zv),this.g.onreadystatechange=tp(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void ry(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=T(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Gd.FormData&&e instanceof Gd.FormData,!(0<=ap(ny,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=T(n);try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uy(this),0<this.B&&((this.L=function(e){return kp&&mp(Np,9,(function(){for(var e=0,t=fp(String(yp)).split("."),n=fp("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=hp(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||hp(0==a[2].length,0==o[2].length)||hp(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tp(this.ua,this)):this.A=kv(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){ry(this,u)}},qd.ua=function(){"undefined"!=typeof Wd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,iv(this,"timeout"),this.abort(8))},qd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,iv(this,"complete"),iv(this,"abort"),oy(this))},qd.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oy(this,!0)),Zm.$.N.call(this)},qd.La=function(){this.s||(this.G||this.v||this.l?ay(this):this.kb())},qd.kb=function(){ay(this)},qd.da=function(){try{return 2<sy(this)?this.g.status:-1}catch(Pm){return-1}},qd.ja=function(){try{return this.g?this.g.responseText:""}catch(Pm){return""}},qd.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Jm(t)}},qd.Ia=function(){return this.m},qd.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(qd=dy.prototype).qa=8,qd.H=1,qd.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Gv(this,this.j,e,void 0),n=this.s;if(this.U&&(n?Bp(n=Vp(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=by(this,t,r),mm(i=hm(this.G),"RID",e),mm(i,"CVER",22),this.F&&mm(i,"X-HTTP-Session-Id",this.F),ky(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(ly(n)))+"&"+r:this.o&&fy(i,this.o,n)),Vm(this.h,t),this.bb&&mm(i,"TYPE","init"),this.P?(mm(i,"$req",r),mm(i,"SID","null"),t.ba=!0,Jv(t,i,null)):Jv(t,i,r),this.H=2}}else 3==this.H&&(e?gy(this,e):0==this.i.length||Mm(this.h)||gy(this))},qd.Ma=function(){if(this.u=null,_y(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=Mv(tp(this.jb,this),e)}},qd.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Pv(10),vy(this),_y(this))},qd.ib=function(){null!=this.v&&(this.v=null,vy(this),xy(this),Pv(19))},qd.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Pv(2)):(this.j.info("Failed to ping google.com"),Pv(1))},(qd=Ry.prototype).Ba=function(){},qd.Aa=function(){},qd.za=function(){},qd.ya=function(){},qd.Va=function(){},Dy.prototype.g=function(e,t){return new Py(e,t)},rp(Py,rv),Py.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;Pv(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=Ay(e,null,e.Y),yy(e)},Py.prototype.close=function(){py(this.g)},Py.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ov(e),e=n);t.i.push(new Rm(t.fb++,e)),3==t.H&&yy(t)},Py.prototype.N=function(){this.g.l=null,delete this.j,py(this.g),delete this.g,Py.$.N.call(this)},rp(Ly,Kv),rp(My,Hv),rp(Fy,Ry),Fy.prototype.Ba=function(){iv(this.g,"a")},Fy.prototype.Aa=function(e){iv(this.g,new Ly(e))},Fy.prototype.za=function(e){iv(this.g,new My)},Fy.prototype.ya=function(){iv(this.g,"b")},rp(jy,(function(){this.blockSize=-1})),jy.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},jy.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Vy(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Vy(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Vy(this,r),i=0;break}}this.h=i,this.i+=t},jy.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var By={};function zy(e){return-128<=e&&128>e?mp(By,e,(function(e){return new Uy([0|e],0>e?-1:0)})):new Uy([0|e],0>e?-1:0)}function qy(e){if(isNaN(e)||!isFinite(e))return Hy;if(0>e)return Xy(qy(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ky;return new Uy(t,0)}var Ky=4294967296,Hy=zy(0),Wy=zy(1),Gy=zy(16777216);function Qy(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function $y(e){return-1==e.h}function Xy(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Uy(n,~e.h).add(Wy)}function Yy(e,t){return e.add(Xy(t))}function Jy(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Zy(e,t){this.g=e,this.h=t}function eg(e,t){if(Qy(t))throw Error("division by zero");if(Qy(e))return new Zy(Hy,Hy);if($y(e))return t=eg(Xy(e),t),new Zy(Xy(t.g),Xy(t.h));if($y(t))return t=eg(e,Xy(t)),new Zy(Xy(t.g),t.h);if(30<e.g.length){if($y(e)||$y(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Wy,r=t;0>=r.X(e);)n=tg(n),r=tg(r);var i=ng(n,1),a=ng(r,1);for(r=ng(r,2),n=ng(n,2);!Qy(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=ng(r,1),n=ng(n,1)}return t=Yy(e,i.R(t)),new Zy(i,t)}for(i=Hy;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=qy(n)).R(t);$y(o)||0<o.X(e);)o=(a=qy(n-=r)).R(t);Qy(a)&&(a=Wy),i=i.add(a),e=Yy(e,o)}return new Zy(i,e)}function tg(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Uy(n,e.h)}function ng(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Uy(i,e.h)}(qd=Uy.prototype).ea=function(){if($y(this))return-Xy(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ky+r)*t,t*=Ky}return e},qd.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Qy(this))return"0";if($y(this))return"-"+Xy(this).toString(e);for(var t=qy(Math.pow(e,6)),n=this,r="";;){var i=eg(n,t).g,a=((0<(n=Yy(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Qy(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},qd.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},qd.X=function(e){return $y(e=Yy(this,e))?-1:Qy(e)?0:1},qd.abs=function(){return $y(this)?Xy(this):this},qd.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Uy(n,-2147483648&n[n.length-1]?-1:0)},qd.R=function(e){if(Qy(this)||Qy(e))return Hy;if($y(this))return $y(e)?Xy(this).R(Xy(e)):Xy(Xy(this).R(e));if($y(e))return Xy(this.R(Xy(e)));if(0>this.X(Gy)&&0>e.X(Gy))return qy(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Jy(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Jy(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Jy(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Jy(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Uy(n,0)},qd.gb=function(e){return eg(this,e).h},qd.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Uy(n,this.h&e.h)},qd.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Uy(n,this.h|e.h)},qd.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Uy(n,this.h^e.h)},Dy.prototype.createWebChannel=Dy.prototype.g,Py.prototype.send=Py.prototype.u,Py.prototype.open=Py.prototype.m,Py.prototype.close=Py.prototype.close,Fv.NO_ERROR=0,Fv.TIMEOUT=8,Fv.HTTP_ERROR=6,jv.COMPLETE="complete",Bv.EventType=qv,qv.OPEN="a",qv.CLOSE="b",qv.ERROR="c",qv.MESSAGE="d",rv.prototype.listen=rv.prototype.O,Zm.prototype.listenOnce=Zm.prototype.P,Zm.prototype.getLastError=Zm.prototype.Sa,Zm.prototype.getLastErrorCode=Zm.prototype.Ia,Zm.prototype.getStatus=Zm.prototype.da,Zm.prototype.getResponseJson=Zm.prototype.Wa,Zm.prototype.getResponseText=Zm.prototype.ja,Zm.prototype.send=Zm.prototype.ha,Zm.prototype.setWithCredentials=Zm.prototype.Oa,jy.prototype.digest=jy.prototype.l,jy.prototype.reset=jy.prototype.reset,jy.prototype.update=jy.prototype.j,Uy.prototype.add=Uy.prototype.add,Uy.prototype.multiply=Uy.prototype.R,Uy.prototype.modulo=Uy.prototype.gb,Uy.prototype.compare=Uy.prototype.X,Uy.prototype.toNumber=Uy.prototype.ea,Uy.prototype.toString=Uy.prototype.toString,Uy.prototype.getBits=Uy.prototype.D,Uy.fromNumber=qy,Uy.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Xy(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=qy(Math.pow(n,8)),i=Hy,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=qy(Math.pow(n,o)),i=i.R(o).add(qy(u))):i=(i=i.R(r)).add(qy(u))}return i};var rg=Hd.createWebChannelTransport=function(){return new Dy},ig=Hd.getStatEventTarget=function(){return Av()},ag=Hd.ErrorCode=Fv,og=Hd.EventType=jv,ug=Hd.Event=Cv,sg=Hd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},cg=Hd.FetchXmlHttpFactory=Wm,lg=Hd.WebChannel=Bv,fg=Hd.XhrIo=Zm,hg=Hd.Md5=jy,dg=Hd.Integer=Uy,pg="@firebase/firestore",vg=function(){function e(t){d(this,e),this.uid=t}return y(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();vg.UNAUTHENTICATED=new vg(null),vg.GOOGLE_CREDENTIALS=new vg("google-credentials-uid"),vg.FIRST_PARTY=new vg("first-party-uid"),vg.MOCK_USER=new vg("mock-user");var mg="9.21.0",yg=new Ui("@firebase/firestore");function gg(){return yg.logLevel}function kg(e){if(yg.logLevel<=Di.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(xg);yg.debug.apply(yg,["Firestore (".concat(mg,"): ").concat(e)].concat(h(i)))}}function bg(e){if(yg.logLevel<=Di.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(xg);yg.error.apply(yg,["Firestore (".concat(mg,"): ").concat(e)].concat(h(i)))}}function wg(e){if(yg.logLevel<=Di.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(xg);yg.warn.apply(yg,["Firestore (".concat(mg,"): ").concat(e)].concat(h(i)))}}function xg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Eg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(mg,") INTERNAL ASSERTION FAILED: ")+e;throw bg(t),new Error(t)}function _g(e,t){e||Eg()}function Sg(e,t){return e}var Ig={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Tg=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return y(n)}(vi),Cg=y((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ng=y((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ag=function(){function e(){d(this,e)}return y(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(vg.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Og=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return y(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Rg=function(){function e(t){d(this,e),this.t=t,this.currentUser=vg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Cg;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Cg,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){kg("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(kg("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Cg)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(kg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_g("string"==typeof n.accessToken),new Ng(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return _g(null===e||"string"==typeof e),new vg(e)}}]),e}(),Dg=function(){function e(t,n,r){d(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=vg.FIRST_PARTY,this.g=new Map}return y(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Pg=function(){function e(t,n,r){d(this,e),this.h=t,this.l=n,this.m=r}return y(e,[{key:"getToken",value:function(){return Promise.resolve(new Dg(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(vg.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Lg=y((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Mg=function(){function e(t){d(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&kg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,kg("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){kg("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):kg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(_g("string"==typeof t.token),e.T=t.token,new Lg(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Fg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var jg=function(){function e(){d(this,e)}return y(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Fg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Vg(e,t){return e<t?-1:e>t?1:0}function Ug(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Bg(e){return e+"\0"}var zg=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Tg(Ig.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tg(Ig.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Tg(Ig.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tg(Ig.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return y(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Vg(this.nanoseconds,e.nanoseconds):Vg(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),qg=function(){function e(t){d(this,e),this.timestamp=t}return y(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new zg(0,0))}},{key:"max",value:function(){return new e(new zg(253402300799,999999999))}}]),e}(),Kg=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&Eg(),void 0===r?r=t.length-n:r>t.length-n&&Eg(),this.segments=t,this.offset=n,this.len=r}return y(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Hg=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Tg(Ig.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,h(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Kg),Wg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gg=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Wg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Tg(Ig.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Tg(Ig.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Tg(Ig.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Tg(Ig.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Kg),Qg=function(){function e(t){d(this,e),this.path=t}return y(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Hg.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Hg.fromString(t))}},{key:"fromName",value:function(t){return new e(Hg.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Hg.emptyPath())}},{key:"comparator",value:function(e,t){return Hg.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Hg(t.slice()))}}]),e}(),$g=y((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Xg(e){return e.fields.find((function(e){return 2===e.kind}))}function Yg(e){return e.fields.filter((function(e){return 2!==e.kind}))}$g.UNKNOWN_ID=-1;var Jg=y((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var Zg=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return y(e,null,[{key:"empty",value:function(){return new e(0,nk.min())}}]),e}();function ek(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=qg.fromTimestamp(1e9===r?new zg(n+1,0):new zg(n,r));return new nk(i,Qg.empty(),t)}function tk(e){return new nk(e.readTime,e.key,-1)}var nk=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return y(e,null,[{key:"min",value:function(){return new e(qg.min(),Qg.empty(),-1)}},{key:"max",value:function(){return new e(qg.max(),Qg.empty(),-1)}}]),e}();function rk(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Qg.comparator(e.documentKey,t.documentKey))?n:Vg(e.largestBatchId,t.largestBatchId)}var ik="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ak=function(){function e(){d(this,e),this.onCommittedListeners=[]}return y(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ok(e){return uk.apply(this,arguments)}function uk(){return(uk=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ig.FAILED_PRECONDITION&&t.message===ik){e.next=2;break}throw t;case 2:kg("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sk=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return y(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Eg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=T(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),ck=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new Cg,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new hk(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=yk(e.target.error);r.R.reject(new hk(t,n))}}return y(e,[{key:"v",get:function(){return this.R.promise}},{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(kg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new pk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new hk(n,t)}}}]),e}(),lk=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(si())&&bg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return y(e,[{key:"O",value:function(){var e=fn(cn().mark((function e(t){var n=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return kg("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new hk(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Tg(Ig.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Tg(Ig.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new hk(t,n))},i.onupgradeneeded=function(e){kg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.$(t,i.transaction,e.oldVersion,n.version).next((function(){kg("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=fn(cn().mark((function e(t,n,r,i){var a,o,u,s,c=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=cn().mark((function e(){var n,u,s,l;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=ck.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),sk.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,kg("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return kg("SimpleDb","Removing database:",e),vk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!di())return!1;if(e.C())return!0;var t=si(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/e-commerce",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),fk=function(){function e(t){d(this,e),this.L=t,this.q=!1,this.U=null}return y(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return vk(this.L.delete())}}]),e}(),hk=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,Ig.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return y(n)}(Tg);function dk(e){return"IndexedDbTransactionError"===e.name}var pk=function(){function e(t){d(this,e),this.store=t}return y(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(kg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(kg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vk(n)}},{key:"add",value:function(e){return kg("SimpleDb","ADD",this.store.name,e,e),vk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return vk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),kg("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return kg("SimpleDb","DELETE",this.store.name,e),vk(this.store.delete(e))}},{key:"count",value:function(){return kg("SimpleDb","COUNT",this.store.name),vk(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new sk((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new sk((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){kg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new sk((function(n,r){t.onerror=function(e){var t=yk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new sk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new fk(i),o=t(i.primaryKey,i.value,a);if(o instanceof sk){var u=o.catch((function(e){return a.done(),sk.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return sk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function vk(e){return new sk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=yk(e.target.error);n(t)}}))}var mk=!1;function yk(e){var t=lk.S(si());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Tg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return mk||(mk=!0,setTimeout((function(){throw r}),0)),r}}return e}var gk=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return y(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;kg("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=kg,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!dk(e.t4)){e.next=17;break}kg("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ok(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),kk=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return y(e,[{key:"nt",value:function(){var e=fn(cn().mark((function e(){var t,n=this,r=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return sk.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return kg("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return kg("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=tk(t);rk(r,n)>0&&(n=r)})),new nk(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),bk=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return y(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function wk(e){return null==e}function xk(e){return 0===e&&1/e==-1/0}function Ek(e){return"number"==typeof e&&Number.isInteger(e)&&!xk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function _k(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ik(t)),t=Sk(e.get(n),t);return Ik(t)}function Sk(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ik(e){return e+"\x01\x01"}function Tk(e){var t=e.length;if(_g(t>=2),2===t)return _g("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Hg.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Eg(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Eg()}a=o+2}return new Hg(r)}bk.ct=-1;var Ck=["userId","batchId"];function Nk(e,t){return[e,_k(t)]}function Ak(e,t,n){return[e,_k(t),n]}var Ok={},Rk=["prefixPath","collectionGroup","readTime","documentId"],Dk=["prefixPath","collectionGroup","documentId"],Pk=["collectionGroup","readTime","prefixPath","documentId"],Lk=["canonicalId","targetId"],Mk=["targetId","path"],Fk=["path","targetId"],jk=["collectionId","parent"],Vk=["indexId","uid"],Uk=["uid","sequenceNumber"],Bk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zk=["indexId","uid","orderedDocumentKey"],qk=["userId","collectionPath","documentId"],Kk=["userId","collectionPath","largestBatchId"],Hk=["userId","collectionGroup","largestBatchId"],Wk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Gk=[].concat(h(Wk),["documentOverlays"]),Qk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$k=Qk,Xk=[].concat($k,["indexConfiguration","indexState","indexEntries"]),Yk=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).at=e,i.currentSequenceNumber=r,i}return y(n)}(ak);function Jk(e,t){var n=Sg(e);return lk.M(n.at,t)}function Zk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function eb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function tb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var nb=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||ib.EMPTY}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ib.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ib.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new rb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new rb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new rb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new rb(this.root,e,this.comparator,!0)}}]),e}(),rb=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return y(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ib=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return y(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Eg();if(this.right.isRed())throw Eg();var e=this.left.check();if(e!==this.right.check())throw Eg();return e+(this.isRed()?0:1)}}]),e}();ib.EMPTY=null,ib.RED=!0,ib.BLACK=!1,ib.EMPTY=new(function(){function e(){d(this,e),this.size=0}return y(e,[{key:"key",get:function(){throw Eg()}},{key:"value",get:function(){throw Eg()}},{key:"color",get:function(){throw Eg()}},{key:"left",get:function(){throw Eg()}},{key:"right",get:function(){throw Eg()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ib(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ab=function(){function e(t){d(this,e),this.comparator=t,this.data=new nb(this.comparator)}return y(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ob(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ob(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ob=function(){function e(t){d(this,e),this.iter=t}return y(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function ub(e){return e.hasNext()?e.getNext():void 0}var sb=function(){function e(t){d(this,e),this.fields=t,t.sort(Gg.comparator)}return y(e,[{key:"unionWith",value:function(t){var n,r=new ab(Gg.comparator),i=T(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=T(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=T(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ug(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),cb=function(e){k(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return y(n)}(S(Error));var lb=function(e){function t(e){d(this,t),this.binaryString=e}return y(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Vg(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new cb("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();lb.EMPTY_BYTE_STRING=new lb("");var fb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hb(e){if(_g(!!e),"string"==typeof e){var t=0,n=fb.exec(e);if(_g(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:db(e.seconds),nanos:db(e.nanos)}}function db(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function pb(e){return"string"==typeof e?lb.fromBase64String(e):lb.fromUint8Array(e)}function vb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mb(e){var t=e.mapValue.fields.__previous_value__;return vb(t)?mb(t):t}function yb(e){var t=hb(e.mapValue.fields.__local_write_time__.timestampValue);return new zg(t.seconds,t.nanos)}var gb=y((function e(t,n,r,i,a,o,u,s){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),kb=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return y(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),bb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wb={nullValue:"NULL_VALUE"};function xb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vb(e)?4:Mb(e)?9007199254740991:10:Eg()}function Eb(e,t){if(e===t)return!0;var n=xb(e);if(n!==xb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yb(e).isEqual(yb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=hb(e.timestampValue),r=hb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return pb(e.bytesValue).isEqual(pb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return db(e.geoPointValue.latitude)===db(t.geoPointValue.latitude)&&db(e.geoPointValue.longitude)===db(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return db(e.integerValue)===db(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=db(e.doubleValue),r=db(t.doubleValue);return n===r?xk(n)===xk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ug(e.arrayValue.values||[],t.arrayValue.values||[],Eb);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Zk(n)!==Zk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Eb(n[i],r[i])))return!1;return!0}(e,t);default:return Eg()}}function _b(e,t){return void 0!==(e.values||[]).find((function(e){return Eb(e,t)}))}function Sb(e,t){if(e===t)return 0;var n=xb(e),r=xb(t);if(n!==r)return Vg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vg(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=db(e.integerValue||e.doubleValue),r=db(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ib(e.timestampValue,t.timestampValue);case 4:return Ib(yb(e),yb(t));case 5:return Vg(e.stringValue,t.stringValue);case 6:return function(e,t){var n=pb(e),r=pb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Vg(n[i],r[i]);if(0!==a)return a}return Vg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Vg(db(e.latitude),db(t.latitude));return 0!==n?n:Vg(db(e.longitude),db(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Sb(n[i],r[i]);if(a)return a}return Vg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===bb.mapValue&&t===bb.mapValue)return 0;if(e===bb.mapValue)return 1;if(t===bb.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Vg(r[o],a[o]);if(0!==u)return u;var s=Sb(n[r[o]],i[a[o]]);if(0!==s)return s}return Vg(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Eg()}}function Ib(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Vg(e,t);var n=hb(e),r=hb(t),i=Vg(n.seconds,r.seconds);return 0!==i?i:Vg(n.nanos,r.nanos)}function Tb(e){return Cb(e)}function Cb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=hb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?pb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Qg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=T(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Cb(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=T(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Cb(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Eg();var t,n}function Nb(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ab(e){return!!e&&"integerValue"in e}function Ob(e){return!!e&&"arrayValue"in e}function Rb(e){return!!e&&"nullValue"in e}function Db(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pb(e){return!!e&&"mapValue"in e}function Lb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return eb(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Lb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Lb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Mb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fb(e){return"nullValue"in e?wb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Nb(kb.empty(),Qg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Eg()}function jb(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Nb(kb.empty(),Qg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?bb:Eg()}function Vb(e,t){var n=Sb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ub(e,t){var n=Sb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Bb=function(){function e(t){d(this,e),this.value=t}return y(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Pb(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lb(t)}},{key:"setAll",value:function(e){var t=this,n=Gg.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Lb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Pb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Eb(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Pb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){eb(t,(function(t,n){return e[t]=n}));var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Lb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function zb(e){var t=[];return eb(e.fields,(function(e,n){var r=new Gg([e]);if(Pb(n)){var i=zb(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=T(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new sb(t)}var qb=function(){function e(t,n,r,i,a,o,u){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return y(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(qg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Bb.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Bb.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=qg.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,qg.min(),qg.min(),qg.min(),Bb.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,qg.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,qg.min(),qg.min(),Bb.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,qg.min(),qg.min(),Bb.empty(),2)}}]),e}(),Kb=y((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function Hb(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Qg.comparator(Qg.fromName(o.referenceValue),n.key):Sb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Wb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Eb(e.position[n],t.position[n]))return!1;return!0}var Gb=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function Qb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var $b=y((function e(){d(this,e)})),Xb=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Sb(t,this.value)):null!==t&&xb(this.value)===xb(t)&&this.matchesComparison(Sb(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Eg()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ow(e,t,r):"array-contains"===t?new lw(e,r):"in"===t?new fw(e,r):"not-in"===t?new hw(e,r):"array-contains-any"===t?new dw(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new uw(e,n):new sw(e,n)}}]),n}($b),Yb=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return y(n,[{key:"matches",value:function(e){return Jb(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=T(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}($b);function Jb(e){return"and"===e.op}function Zb(e){return"or"===e.op}function ew(e){return tw(e)&&Jb(e)}function tw(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Yb)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function nw(e){if(e instanceof Xb)return e.field.canonicalString()+e.op.toString()+Tb(e.value);if(ew(e))return e.filters.map((function(e){return nw(e)})).join(",");var t=e.filters.map((function(e){return nw(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function rw(e,t){return e instanceof Xb?function(e,t){return t instanceof Xb&&e.op===t.op&&e.field.isEqual(t.field)&&Eb(e.value,t.value)}(e,t):e instanceof Yb?function(e,t){return t instanceof Yb&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&rw(n,t.filters[r])}),!0)}(e,t):void Eg()}function iw(e,t){var n=e.filters.concat(t);return Yb.create(n,e.op)}function aw(e){return e instanceof Xb?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Tb(e.value))}(e):e instanceof Yb?function(e){return e.op.toString()+" {"+e.getFilters().map(aw).join(" ,")+"}"}(e):"Filter"}var ow=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=Qg.fromName(i.referenceValue),a}return y(n,[{key:"matches",value:function(e){var t=Qg.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Xb),uw=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=cw("in",r),i}return y(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Xb),sw=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=cw("not-in",r),i}return y(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Xb);function cw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Qg.fromName(e.referenceValue)}))}var lw=function(e){k(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ob(t)&&_b(t.arrayValue,this.value)}}]),n}(Xb),fw=function(e){k(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&_b(this.value.arrayValue,t)}}]),n}(Xb),hw=function(e){k(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return y(n,[{key:"matches",value:function(e){if(_b(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!_b(this.value.arrayValue,t)}}]),n}(Xb),dw=function(e){k(n,e);var t=E(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return y(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ob(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return _b(t.value.arrayValue,e)}))}}]),n}(Xb),pw=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function vw(e){return new pw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function mw(e){var t=Sg(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return nw(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),wk(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Tb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Tb(e)})).join(",")),t.ft=n}return t.ft}function yw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Qb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!rw(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wb(e.startAt,t.startAt)&&Wb(e.endAt,t.endAt)}function gw(e){return Qg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function kw(e,t){return e.filters.filter((function(e){return e instanceof Xb&&e.field.isEqual(t)}))}function bw(e,t,n){var r,i=wb,a=!0,o=T(kw(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=wb,c=!0;switch(u.op){case"<":case"<=":s=Fb(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=wb}Vb({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Vb({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ww(e,t,n){var r,i=bb,a=!0,o=T(kw(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=bb,c=!0;switch(u.op){case">=":case">":s=jb(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=bb}Ub({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ub({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var xw=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function Ew(e,t,n,r,i,a,o,u){return new xw(e,t,n,r,i,a,o,u)}function _w(e){return new xw(e)}function Sw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Iw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Tw(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Cw(e){return null!==e.collectionGroup}function Nw(e){var t=Sg(e);if(null===t.dt){t.dt=[];var n=Tw(t),r=Iw(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Gb(n)),t.dt.push(new Gb(Gg.keyField(),"asc"));else{var i,a=!1,o=T(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Gb(Gg.keyField(),s))}}}return t.dt}function Aw(e){var t=Sg(e);if(!t._t)if("F"===t.limitType)t._t=vw(t.path,t.collectionGroup,Nw(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=T(Nw(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Gb(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Kb(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Kb(t.startAt.position,t.startAt.inclusive):null;t._t=vw(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function Ow(e,t){t.getFirstInequalityField(),Tw(e);var n=e.filters.concat([t]);return new xw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Rw(e,t,n){return new xw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Dw(e,t){return yw(Aw(e),Aw(t))&&e.limitType===t.limitType}function Pw(e){return"".concat(mw(Aw(e)),"|lt:").concat(e.limitType)}function Lw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return aw(e)})).join(", "),"]")),wk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Tb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Tb(e)})).join(",")),"Target(".concat(t,")")}(Aw(e)),"; limitType=").concat(e.limitType,")")}function Mw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Qg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=T(Nw(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=T(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Hb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Nw(e),t))&&!(e.endAt&&!function(e,t,n){var r=Hb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Nw(e),t))}(e,t)}function Fw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jw(e){return function(t,n){var r,i=!1,a=T(Nw(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Vw(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Vw(e,t,n){var r=e.field.isKeyField()?Qg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Sb(r,i):Eg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Eg()}}var Uw=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return y(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){eb(this.inner,(function(t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return tb(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Bw=new nb(Qg.comparator);function zw(){return Bw}var qw=new nb(Qg.comparator);function Kw(){for(var e=qw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Hw(e){var t=qw;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ww(){return Qw()}function Gw(){return Qw()}function Qw(){return new Uw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var $w=new nb(Qg.comparator),Xw=new ab(Qg.comparator);function Yw(){for(var e=Xw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Jw=new ab(Vg);function Zw(){return Jw}function ex(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xk(t)?"-0":t}}function tx(e){return{integerValue:""+e}}function nx(e,t){return Ek(t)?tx(t):ex(e,t)}var rx=y((function e(){d(this,e),this._=void 0}));function ix(e,t,n){return e instanceof ux?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vb(t)&&(t=mb(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sx?cx(e,t):e instanceof lx?fx(e,t):function(e,t){var n=ox(e,t),r=dx(n)+dx(e.wt);return Ab(n)&&Ab(e.wt)?tx(r):ex(e.serializer,r)}(e,t)}function ax(e,t,n){return e instanceof sx?cx(e,t):e instanceof lx?fx(e,t):n}function ox(e,t){return e instanceof hx?Ab(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ux=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(rx),sx=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(rx);function cx(e,t){var n,r=px(t),i=T(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Eb(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var lx=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(rx);function fx(e,t){var n,r=px(t),i=T(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Eb(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var hx=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).serializer=e,i.wt=r,i}return y(n)}(rx);function dx(e){return db(e.integerValue||e.doubleValue)}function px(e){return Ob(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var vx=y((function e(t,n){d(this,e),this.field=t,this.transform=n}));var mx=y((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),yx=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return y(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function gx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var kx=y((function e(){d(this,e)}));function bx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Rx(e.key,yx.none()):new Sx(e.key,e.data,yx.none());var n,r=e.data,i=Bb.empty(),a=new ab(Gg.comparator),o=T(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Ix(e.key,i,new sb(a.toArray()),yx.none())}function wx(e,t,n){e instanceof Sx?function(e,t,n){var r=e.value.clone(),i=Cx(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ix?function(e,t,n){if(gx(e.precondition,t)){var r=Cx(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Tx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function xx(e,t,n,r){return e instanceof Sx?function(e,t,n,r){if(!gx(e.precondition,t))return n;var i=e.value.clone(),a=Nx(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ix?function(e,t,n,r){if(!gx(e.precondition,t))return n;var i=Nx(e.fieldTransforms,r,t),a=t.data;return a.setAll(Tx(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return gx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ex(e,t){var n,r=null,i=T(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ox(a.transform,o||null);null!=u&&(null===r&&(r=Bb.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function _x(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ug(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sx&&t instanceof sx||e instanceof lx&&t instanceof lx?Ug(e.elements,t.elements,Eb):e instanceof hx&&t instanceof hx?Eb(e.wt,t.wt):e instanceof ux&&t instanceof ux}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Sx=function(e){k(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kx),Ix=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return y(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(kx);function Tx(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Cx(e,t,n){var r=new Map;_g(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,ax(o,u,n[i]))}return r}function Nx(e,t,n){var r,i=new Map,a=T(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,ix(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ax,Ox,Rx=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kx),Dx=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kx),Px=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return y(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&wx(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=T(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=xx(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=T(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=xx(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Gw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=bx(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(qg.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Yw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ug(this.mutations,e.mutations,(function(e,t){return _x(e,t)}))&&Ug(this.baseMutations,e.baseMutations,(function(e,t){return _x(e,t)}))}}]),e}(),Lx=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return y(e,null,[{key:"from",value:function(t,n,r){_g(t.mutations.length===r.length);for(var i=$w,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Mx=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return y(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Fx=y((function e(t,n){d(this,e),this.count=t,this.unchangedNames=n}));function jx(e){switch(e){default:return Eg();case Ig.CANCELLED:case Ig.UNKNOWN:case Ig.DEADLINE_EXCEEDED:case Ig.RESOURCE_EXHAUSTED:case Ig.INTERNAL:case Ig.UNAVAILABLE:case Ig.UNAUTHENTICATED:return!1;case Ig.INVALID_ARGUMENT:case Ig.NOT_FOUND:case Ig.ALREADY_EXISTS:case Ig.PERMISSION_DENIED:case Ig.FAILED_PRECONDITION:case Ig.ABORTED:case Ig.OUT_OF_RANGE:case Ig.UNIMPLEMENTED:case Ig.DATA_LOSS:return!0}}function Vx(e){if(void 0===e)return bg("GRPC error has no .code"),Ig.UNKNOWN;switch(e){case Ax.OK:return Ig.OK;case Ax.CANCELLED:return Ig.CANCELLED;case Ax.UNKNOWN:return Ig.UNKNOWN;case Ax.DEADLINE_EXCEEDED:return Ig.DEADLINE_EXCEEDED;case Ax.RESOURCE_EXHAUSTED:return Ig.RESOURCE_EXHAUSTED;case Ax.INTERNAL:return Ig.INTERNAL;case Ax.UNAVAILABLE:return Ig.UNAVAILABLE;case Ax.UNAUTHENTICATED:return Ig.UNAUTHENTICATED;case Ax.INVALID_ARGUMENT:return Ig.INVALID_ARGUMENT;case Ax.NOT_FOUND:return Ig.NOT_FOUND;case Ax.ALREADY_EXISTS:return Ig.ALREADY_EXISTS;case Ax.PERMISSION_DENIED:return Ig.PERMISSION_DENIED;case Ax.FAILED_PRECONDITION:return Ig.FAILED_PRECONDITION;case Ax.ABORTED:return Ig.ABORTED;case Ax.OUT_OF_RANGE:return Ig.OUT_OF_RANGE;case Ax.UNIMPLEMENTED:return Ig.UNIMPLEMENTED;case Ax.DATA_LOSS:return Ig.DATA_LOSS;default:return Eg()}}(Ox=Ax||(Ax={}))[Ox.OK=0]="OK",Ox[Ox.CANCELLED=1]="CANCELLED",Ox[Ox.UNKNOWN=2]="UNKNOWN",Ox[Ox.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ox[Ox.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ox[Ox.NOT_FOUND=5]="NOT_FOUND",Ox[Ox.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ox[Ox.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ox[Ox.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ox[Ox.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ox[Ox.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ox[Ox.ABORTED=10]="ABORTED",Ox[Ox.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ox[Ox.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ox[Ox.INTERNAL=13]="INTERNAL",Ox[Ox.UNAVAILABLE=14]="UNAVAILABLE",Ox[Ox.DATA_LOSS=15]="DATA_LOSS";var Ux=function(){function e(){d(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return y(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Bx}},{key:"getOrCreateInstance",value:function(){return null===Bx&&(Bx=new e),Bx}}]),e}(),Bx=null;function zx(){return new TextEncoder}var qx=new dg([4294967295,4294967295],0);function Kx(e){var t=zx().encode(e),n=new hg;return n.update(t),new Uint8Array(n.digest())}function Hx(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new dg([n,r],0),new dg([i,a],0)]}var Wx=function(){function e(t,n,r){if(d(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gx("Invalid padding: ".concat(n));if(r<0)throw new Gx("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Gx("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Gx("Invalid padding when bitmap length is 0: ".concat(n));this.yt=8*t.length-n,this.It=dg.fromNumber(this.yt)}return y(e,[{key:"Tt",value:function(e,t,n){var r=e.add(t.multiply(dg.fromNumber(n)));return 1===r.compare(qx)&&(r=new dg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}},{key:"Et",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"At",value:function(e){if(0===this.yt)return!1;for(var t=l(Hx(Kx(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);if(!this.Et(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.yt)for(var t=l(Hx(Kx(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Gx=function(e){k(n,e);var t=E(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return y(n)}(S(Error)),Qx=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return y(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,$x.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(qg.min(),i,new nb(Vg),zw(),Yw())}}]),e}(),$x=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return y(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Yw(),Yw(),Yw())}}]),e}(),Xx=y((function e(t,n,r,i){d(this,e),this.vt=t,this.removedTargetIds=n,this.key=r,this.Pt=i})),Yx=y((function e(t,n){d(this,e),this.targetId=t,this.bt=n})),Jx=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lb.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Zx=function(){function e(){d(this,e),this.Vt=0,this.St=nE(),this.Dt=lb.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}return y(e,[{key:"current",get:function(){return this.Ct}},{key:"resumeToken",get:function(){return this.Dt}},{key:"Nt",get:function(){return 0!==this.Vt}},{key:"kt",get:function(){return this.xt}},{key:"Mt",value:function(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}},{key:"Ot",value:function(){var e=Yw(),t=Yw(),n=Yw();return this.St.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Eg()}})),new $x(this.Dt,this.Ct,e,t,n)}},{key:"$t",value:function(){this.xt=!1,this.St=nE()}},{key:"Ft",value:function(e,t){this.xt=!0,this.St=this.St.insert(e,t)}},{key:"Bt",value:function(e){this.xt=!0,this.St=this.St.remove(e)}},{key:"Lt",value:function(){this.Vt+=1}},{key:"qt",value:function(){this.Vt-=1}},{key:"Ut",value:function(){this.xt=!0,this.Ct=!0}}]),e}(),eE=function(){function e(t){d(this,e),this.Kt=t,this.Gt=new Map,this.Qt=zw(),this.jt=tE(),this.zt=new nb(Vg)}return y(e,[{key:"Wt",value:function(e){var t,n=T(e.vt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Pt&&e.Pt.isFoundDocument()?this.Ht(r,e.Pt):this.Jt(r,e.key,e.Pt)}}catch(u){n.e(u)}finally{n.f()}var i,a=T(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Jt(o,e.key,e.Pt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Yt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Xt(n);switch(e.state){case 0:t.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||t.removeTarget(n);break;case 3:t.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:t.Zt(n)&&(t.te(n),r.Mt(e.resumeToken));break;default:Eg()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((function(e,r){n.Zt(r)&&t(r)}))}},{key:"ee",value:function(e){var t,n=e.targetId,r=e.bt.count,i=this.ne(n);if(i){var a=i.target;if(gw(a))if(0===r){var o=new Qg(a.path);this.Jt(n,o,qb.newNoDocument(o,qg.min()))}else _g(1===r);else{var u=this.se(n);if(u!==r){var s=this.ie(e,u);if(0!==s){this.te(n);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(n,c)}null===(t=Ux.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,u,s,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(s=null===(u=null==l?void 0:l.bits)||void 0===u?void 0:u.padding)&&void 0!==s?s:0}),c}(s,u,e.bt))}}}}},{key:"ie",value:function(e,t){var n=e.bt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,u=r.bits,s=u.bitmap,c=void 0===s?"":s,l=u.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=pb(c).toUint8Array()}catch(e){if(e instanceof cb)return wg("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new Wx(a,f,d)}catch(e){return wg(e instanceof Gx?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.yt?1:i!==t-this.re(e.targetId,o)?2:0}},{key:"re",value:function(e,t){var n=this,r=this.Kt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Kt.oe(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.At(o)||(n.Jt(e,r,null),i++)})),i}},{key:"ue",value:function(e){var t=this,n=new Map;this.Gt.forEach((function(r,i){var a=t.ne(i);if(a){if(r.current&&gw(a.target)){var o=new Qg(a.target.path);null!==t.Qt.get(o)||t.ce(i,o)||t.Jt(i,o,qb.newNoDocument(o,e))}r.kt&&(n.set(i,r.Ot()),r.$t())}}));var r=Yw();this.jt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ne(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Qx(e,n,this.zt,this.Qt,r);return this.Qt=zw(),this.jt=tE(),this.zt=new nb(Vg),i}},{key:"Ht",value:function(e,t){if(this.Zt(e)){var n=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,n),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}}},{key:"Jt",value:function(e,t,n){if(this.Zt(e)){var r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),n&&(this.Qt=this.Qt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Gt.delete(e)}},{key:"se",value:function(e){var t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Lt",value:function(e){this.Xt(e).Lt()}},{key:"Xt",value:function(e){var t=this.Gt.get(e);return t||(t=new Zx,this.Gt.set(e,t)),t}},{key:"ae",value:function(e){var t=this.jt.get(e);return t||(t=new ab(Vg),this.jt=this.jt.insert(e,t)),t}},{key:"Zt",value:function(e){var t=null!==this.ne(e);return t||kg("WatchChangeAggregator","Detected inactive target",e),t}},{key:"ne",value:function(e){var t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}},{key:"te",value:function(e){var t=this;this.Gt.set(e,new Zx),this.Kt.getRemoteKeysForTarget(e).forEach((function(n){t.Jt(e,n,null)}))}},{key:"ce",value:function(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}]),e}();function tE(){return new nb(Qg.comparator)}function nE(){return new nb(Qg.comparator)}var rE={asc:"ASCENDING",desc:"DESCENDING"},iE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aE={and:"AND",or:"OR"},oE=y((function e(t,n){d(this,e),this.databaseId=t,this.useProto3Json=n}));function uE(e,t){return e.useProto3Json||wk(t)?t:{value:t}}function sE(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function cE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lE(e,t){return sE(e,t.toTimestamp())}function fE(e){return _g(!!e),qg.fromTimestamp(function(e){var t=hb(e);return new zg(t.seconds,t.nanos)}(e))}function hE(e,t){return function(e){return new Hg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function dE(e){var t=Hg.fromString(e);return _g(ME(t)),t}function pE(e,t){return hE(e.databaseId,t.path)}function vE(e,t){var n=dE(t);if(n.get(1)!==e.databaseId.projectId)throw new Tg(Ig.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Tg(Ig.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Qg(kE(n))}function mE(e,t){return hE(e.databaseId,t)}function yE(e){var t=dE(e);return 4===t.length?Hg.emptyPath():kE(t)}function gE(e){return new Hg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function kE(e){return _g(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function bE(e,t,n){return{name:pE(e,t),fields:n.value.mapValue.fields}}function wE(e,t,n){var r=vE(e,t.name),i=fE(t.updateTime),a=t.createTime?fE(t.createTime):qg.min(),o=new Bb({mapValue:{fields:t.fields}}),u=qb.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function xE(e,t){return"found"in t?function(e,t){_g(!!t.found),t.found.name,t.found.updateTime;var n=vE(e,t.found.name),r=fE(t.found.updateTime),i=t.found.createTime?fE(t.found.createTime):qg.min(),a=new Bb({mapValue:{fields:t.found.fields}});return qb.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){_g(!!t.missing),_g(!!t.readTime);var n=vE(e,t.missing),r=fE(t.readTime);return qb.newNoDocument(n,r)}(e,t):Eg()}function EE(e,t){var n;if(t instanceof Sx)n={update:bE(e,t.key,t.value)};else if(t instanceof Rx)n={delete:pE(e,t.key)};else if(t instanceof Ix)n={update:bE(e,t.key,t.data),updateMask:LE(t.fieldMask)};else{if(!(t instanceof Dx))return Eg();n={verify:pE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ux)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sx)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hx)return{fieldPath:t.field.canonicalString(),increment:n.wt};throw Eg()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:lE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Eg()}(e,t.precondition)),n}function _E(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?yx.updateTime(fE(e.updateTime)):void 0!==e.exists?yx.exists(e.exists):yx.none()}(t.currentDocument):yx.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)_g("REQUEST_TIME"===t.setToServerValue),n=new ux;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new sx(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new lx(i)}else"increment"in t?n=new hx(e,t.increment):Eg();var a=Gg.fromServerFormat(t.fieldPath);return new vx(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=vE(e,t.update.name),a=new Bb({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new sb(t.map((function(e){return Gg.fromServerFormat(e)})))}(t.updateMask);return new Ix(i,a,o,n,r)}return new Sx(i,a,n,r)}if(t.delete){var u=vE(e,t.delete);return new Rx(u,n)}if(t.verify){var s=vE(e,t.verify);return new Dx(s,n)}return Eg()}function SE(e,t){return{documents:[mE(e,t.path)]}}function IE(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=mE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=mE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return PE(Yb.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:RE(e.field),direction:NE(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=uE(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function TE(e){var t=yE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_g(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=CE(e);return t instanceof Yb&&ew(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Gb(DE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return wk(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Kb(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Kb(n,t)}(n.endAt)),Ew(t,i,u,o,s,"F",c,l)}function CE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=DE(e.unaryFilter.field);return Xb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=DE(e.unaryFilter.field);return Xb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=DE(e.unaryFilter.field);return Xb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=DE(e.unaryFilter.field);return Xb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Eg()}}(e):void 0!==e.fieldFilter?function(e){return Xb.create(DE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Eg()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Yb.create(e.compositeFilter.filters.map((function(e){return CE(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Eg()}}(e.compositeFilter.op))}(e):Eg()}function NE(e){return rE[e]}function AE(e){return iE[e]}function OE(e){return aE[e]}function RE(e){return{fieldPath:e.canonicalString()}}function DE(e){return Gg.fromServerFormat(e.fieldPath)}function PE(e){return e instanceof Xb?function(e){if("=="===e.op){if(Db(e.value))return{unaryFilter:{field:RE(e.field),op:"IS_NAN"}};if(Rb(e.value))return{unaryFilter:{field:RE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Db(e.value))return{unaryFilter:{field:RE(e.field),op:"IS_NOT_NAN"}};if(Rb(e.value))return{unaryFilter:{field:RE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:RE(e.field),op:AE(e.op),value:e.value}}}(e):e instanceof Yb?function(e){var t=e.getFilters().map((function(e){return PE(e)}));return 1===t.length?t[0]:{compositeFilter:{op:OE(e.op),filters:t}}}(e):Eg()}function LE(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ME(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var FE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:qg.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:lb.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return y(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),jE=y((function e(t){d(this,e),this.le=t}));function VE(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:UE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:pE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:sE(e,t.version.toTimestamp()),createTime:sE(e,t.createTime.toTimestamp())}}(e.le,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:BE(t.version)};else{if(!t.isUnknownDocument())return Eg();r.unknownDocument={path:n.path.toArray(),version:BE(t.version)}}return r}function UE(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function BE(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function zE(e){var t=new zg(e.seconds,e.nanoseconds);return qg.fromTimestamp(t)}function qE(e,t){for(var n=(t.baseMutations||[]).map((function(t){return _E(e.le,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return _E(e.le,t)})),u=zg.fromMillis(t.localWriteTimeMs);return new Px(t.batchId,u,n,o)}function KE(e){var t,n,r=zE(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?zE(e.lastLimboFreeSnapshotVersion):qg.min();return void 0!==e.query.documents?(_g(1===(n=e.query).documents.length),t=Aw(_w(yE(n.documents[0])))):t=function(e){return Aw(TE(e))}(e.query),new FE(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,lb.fromBase64String(e.resumeToken))}function HE(e,t){var n,r=BE(t.snapshotVersion),i=BE(t.lastLimboFreeSnapshotVersion);n=gw(t.target)?SE(e.le,t.target):IE(e.le,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:mw(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function WE(e){var t=TE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Rw(t,t.limit,"L"):t}function GE(e,t){return new Mx(t.largestBatchId,_E(e.le,t.overlayMutation))}function QE(e,t){var n=t.path.lastSegment();return[e,_k(t.path.popLast()),n]}function $E(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:BE(r.readTime),documentKey:_k(r.documentKey.path),largestBatchId:r.largestBatchId}}var XE=function(){function e(){d(this,e)}return y(e,[{key:"getBundleMetadata",value:function(e,t){return YE(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:zE(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return YE(e).put({bundleId:(n=t).id,createTime:BE(fE(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return JE(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:WE(t.bundledQuery),readTime:zE(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return JE(e).put(function(e){return{name:e.name,readTime:BE(fE(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function YE(e){return Jk(e,"bundles")}function JE(e){return Jk(e,"namedQueries")}var ZE=function(){function e(t,n){d(this,e),this.serializer=t,this.userId=n}return y(e,[{key:"getOverlay",value:function(e,t){var n=this;return e_(e).get(QE(this.userId,t)).next((function(e){return e?GE(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ww();return sk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Mx(t,a);i.push(r.de(e,o))})),sk.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(_k(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(e_(e).J("collectionPathOverlayIndex",i))})),sk.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Ww(),a=_k(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return e_(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=GE(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Ww(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return e_(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=GE(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"de",value:function(e,t){return e_(e).put(function(e,t,n){var r=l(QE(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:EE(e.le,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"fe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function e_(e){return Jk(e,"documentOverlays")}var t_=function(){function e(){d(this,e)}return y(e,[{key:"_e",value:function(e,t){this.we(e,t),t.me()}},{key:"we",value:function(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(db(e.integerValue));else if("doubleValue"in e){var n=db(e.doubleValue);isNaN(n)?this.ge(t,13):(this.ge(t,15),xk(n)?t.ye(0):t.ye(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe("".concat(r.seconds||"")),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(pb(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?Mb(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):Eg()}},{key:"Ie",value:function(e,t){this.ge(t,25),this.Pe(e,t)}},{key:"Pe",value:function(e,t){t.pe(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ge(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Ie(a,t),this.we(n[a],t)}}},{key:"ve",value:function(e,t){var n=e.values||[];this.ge(t,50);var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.we(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"Ae",value:function(e,t){var n=this;this.ge(t,37),Qg.fromName(e).path.forEach((function(e){n.ge(t,60),n.Pe(e,t)}))}},{key:"ge",value:function(e,t){e.ye(t)}},{key:"Te",value:function(e){e.ye(2)}}]),e}();function n_(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function r_(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=n_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}t_.be=new t_;var i_=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return y(e,[{key:"Ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Se(n.value),n=t.next();this.De()}},{key:"Ce",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.xe(n.value),n=t.next();this.Ne()}},{key:"ke",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{var a=r.codePointAt(0);this.Se(240|a>>>18),this.Se(128|63&a>>>12),this.Se(128|63&a>>>6),this.Se(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.De()}},{key:"Me",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{var a=r.codePointAt(0);this.xe(240|a>>>18),this.xe(128|63&a>>>12),this.xe(128|63&a>>>6),this.xe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ne()}},{key:"Oe",value:function(e){var t=this.$e(e),n=r_(t);this.Fe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Be",value:function(e){var t=this.$e(e),n=r_(t);this.Fe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Le",value:function(){this.qe(255),this.qe(255)}},{key:"Ue",value:function(){this.Ke(255),this.Ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ge",value:function(){return this.buffer.slice(0,this.position)}},{key:"$e",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Se",value:function(e){var t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}},{key:"xe",value:function(e){var t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}},{key:"De",value:function(){this.qe(0),this.qe(1)}},{key:"Ne",value:function(){this.Ke(0),this.Ke(1)}},{key:"qe",value:function(e){this.Fe(1),this.buffer[this.position++]=e}},{key:"Ke",value:function(e){this.Fe(1),this.buffer[this.position++]=~e}},{key:"Fe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),a_=function(){function e(t){d(this,e),this.Qe=t}return y(e,[{key:"Ee",value:function(e){this.Qe.Ve(e)}},{key:"pe",value:function(e){this.Qe.ke(e)}},{key:"ye",value:function(e){this.Qe.Oe(e)}},{key:"me",value:function(){this.Qe.Le()}}]),e}(),o_=function(){function e(t){d(this,e),this.Qe=t}return y(e,[{key:"Ee",value:function(e){this.Qe.Ce(e)}},{key:"pe",value:function(e){this.Qe.Me(e)}},{key:"ye",value:function(e){this.Qe.Be(e)}},{key:"me",value:function(){this.Qe.Ue()}}]),e}(),u_=function(){function e(){d(this,e),this.Qe=new i_,this.je=new a_(this.Qe),this.ze=new o_(this.Qe)}return y(e,[{key:"seed",value:function(e){this.Qe.seed(e)}},{key:"We",value:function(e){return 0===e?this.je:this.ze}},{key:"Ge",value:function(){return this.Qe.Ge()}},{key:"reset",value:function(){this.Qe.reset()}}]),e}(),s_=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return y(e,[{key:"He",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function c_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=l_(e.arrayValue,t.arrayValue))?n:0!==(n=l_(e.directionalValue,t.directionalValue))?n:Qg.comparator(e.documentKey,t.documentKey)}function l_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var f_=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Je=t.orderBy,this.Ye=[];var n,r=T(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Xe=i:this.Ye.push(i)}}catch(a){r.e(a)}finally{r.f()}}return y(e,[{key:"Ze",value:function(e){_g(e.collectionGroup===this.collectionId);var t=Xg(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=Yg(e),r=0,i=0;r<n.length&&this.tn(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Xe){var a=n[r];if(!this.en(this.Xe,a)||!this.nn(this.Je[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Je.length||!this.nn(this.Je[i++],o))return!1}return!0}},{key:"tn",value:function(e){var t,n=T(this.Ye);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.en(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"en",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"nn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function h_(e){var t,n;if(_g(e instanceof Xb||e instanceof Yb),e instanceof Xb){if(e instanceof fw){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Xb.create(e.field,"==",t)})))||[];return Yb.create(r,"or")}return e}var i=e.filters.map((function(e){return h_(e)}));return Yb.create(i,e.op)}function d_(e){if(0===e.getFilters().length)return[];var t=y_(h_(e));return _g(m_(t)),p_(t)||v_(t)?[t]:t.getFilters()}function p_(e){return e instanceof Xb}function v_(e){return e instanceof Yb&&ew(e)}function m_(e){return p_(e)||v_(e)||function(e){if(e instanceof Yb&&Zb(e)){var t,n=T(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!p_(r)&&!v_(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function y_(e){if(_g(e instanceof Xb||e instanceof Yb),e instanceof Xb)return e;if(1===e.filters.length)return y_(e.filters[0]);var t=e.filters.map((function(e){return y_(e)})),n=Yb.create(t,e.op);return m_(n=b_(n))?n:(_g(n instanceof Yb),_g(Jb(n)),_g(n.filters.length>1),n.filters.reduce((function(e,t){return g_(e,t)})))}function g_(e,t){var n;return _g(e instanceof Xb||e instanceof Yb),_g(t instanceof Xb||t instanceof Yb),n=e instanceof Xb?t instanceof Xb?function(e,t){return Yb.create([e,t],"and")}(e,t):k_(e,t):t instanceof Xb?k_(t,e):function(e,t){if(_g(e.filters.length>0&&t.filters.length>0),Jb(e)&&Jb(t))return iw(e,t.getFilters());var n=Zb(e)?e:t,r=Zb(e)?t:e,i=n.filters.map((function(e){return g_(e,r)}));return Yb.create(i,"or")}(e,t),b_(n)}function k_(e,t){if(Jb(t))return iw(t,e.getFilters());var n=t.filters.map((function(t){return g_(e,t)}));return Yb.create(n,"or")}function b_(e){if(_g(e instanceof Xb||e instanceof Yb),e instanceof Xb)return e;var t=e.getFilters();if(1===t.length)return b_(t[0]);if(tw(e))return e;var n=t.map((function(e){return b_(e)})),r=[];return n.forEach((function(t){t instanceof Xb?r.push(t):t instanceof Yb&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:Yb.create(r,e.op)}var w_=function(){function e(){d(this,e),this.sn=new x_}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),sk.resolve()}},{key:"getCollectionParents",value:function(e,t){return sk.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return sk.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return sk.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return sk.resolve(null)}},{key:"getIndexType",value:function(e,t){return sk.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return sk.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return sk.resolve(null)}},{key:"getMinOffset",value:function(e,t){return sk.resolve(nk.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return sk.resolve(nk.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return sk.resolve()}},{key:"updateIndexEntries",value:function(e,t){return sk.resolve()}}]),e}(),x_=function(){function e(){d(this,e),this.index={}}return y(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ab(Hg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ab(Hg.comparator)).toArray()}}]),e}(),E_=new Uint8Array(0),__=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.rn=new x_,this.on=new Uw((function(e){return mw(e)}),(function(e,t){return yw(e,t)})),this.uid=t.uid||""}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.rn.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.rn.add(t)}));var a={collectionId:r,parent:_k(i)};return S_(e).put(a)}return sk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Bg(t),""],!1,!0);return S_(e).j(r).next((function(e){var r,i=T(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Tk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=T_(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=C_(e);return a.next((function(e){o.put($E(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=T_(e),r=C_(e),i=I_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=I_(e),i=!0,a=new Map;return sk.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Yw(),o=[];return sk.forEach(a,(function(i,a){var u;kg("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(mw(t)));var s=function(e,t){var n=Xg(t);if(void 0===n)return null;var r,i=T(kw(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=T(Yg(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=T(kw(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=T(Yg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?bw(e,o.fieldPath,e.startAt):ww(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Kb(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=T(Yg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ww(e,o.fieldPath,e.endAt):bw(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Kb(r,i)}(a,i),h=n.an(i,a,l),d=n.an(i,a,f),p=n.hn(i,a,c),v=n.ln(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return sk.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Qg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return sk.resolve(null)}))}},{key:"un",value:function(e){var t=this.on.get(e);return t||(t=0===e.filters.length?[e]:d_(Yb.create(e.filters,"and")).map((function(t){return vw(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.on.set(e,t),t)}},{key:"ln",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.fn(t[d/c]):E_,f=u.dn(e,s,n[d%c],r),p=u._n(e,s,i[d%c],a),v=o.map((function(t){return u.dn(e,s,t,!0)}));l.push.apply(l,h(u.createRange(f,p,v)))},d=0;d<s;++d)f();return l}},{key:"dn",value:function(e,t,n,r){var i=new s_(e,Qg.empty(),t,n);return r?i:i.He()}},{key:"_n",value:function(e,t,n,r){var i=new s_(e,Qg.empty(),t,n);return r?i.He():i}},{key:"cn",value:function(e,t){var n=new f_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ze(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return sk.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new ab(Gg.comparator),r=!1,i=T(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=T(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=T(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"wn",value:function(e,t){var n,r=new u_,i=T(Yg(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.We(a.kind);t_.be._e(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Ge()}},{key:"fn",value:function(e){var t=new u_;return t_.be._e(e,t.We(0)),t.Ge()}},{key:"mn",value:function(e,t){var n=new u_;return t_.be._e(Nb(this.databaseId,t),n.We(function(e){var t=Yg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ge()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new u_);var i,a=0,o=T(Yg(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=T(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.gn(t,s.fieldPath)&&Ob(c))r=this.yn(r,s,c);else{var h=f.We(s.kind);t_.be._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.pn(r)}},{key:"an",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"pn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Ge();return t}},{key:"yn",value:function(e,t,n){var r,i=h(e),a=[],o=T(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=T(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new u_;f.seed(l.Ge()),t_.be._e(s,f.We(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"gn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Xb&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=T_(e),i=C_(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return sk.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Zg(t.sequenceNumber,new nk(zE(t.readTime),new Qg(Tk(t.documentKey)),t.largestBatchId)):Zg.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Jg(Gg.fromServerFormat(n),r)}));return new $g(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Vg(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=T_(e),a=C_(e);return this.In(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return sk.forEach(t,(function(t){return a.put($E(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return sk.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?sk.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),sk.forEach(a,(function(r){return n.Tn(e,t,r).next((function(t){var a=n.En(i,r);return t.isEqual(a)?sk.resolve():n.An(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return I_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"vn",value:function(e,t,n,r){return I_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(n,t.key),t.key.path.toArray()])}},{key:"Tn",value:function(e,t,n){var r=I_(e),i=new ab(c_);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,t)])},(function(e,r){i=i.add(new s_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"En",value:function(e,t){var n=new ab(c_),r=this.wn(t,e);if(null==r)return n;var i=Xg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ob(a)){var o,u=T(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new s_(t.indexId,e.key,this.fn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new s_(t.indexId,e.key,E_,r));return n}},{key:"An",value:function(e,t,n,r,i){var a=this;kg("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=ub(a),s=ub(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=ub(o)):l?(i(u),u=ub(a)):(u=ub(a),s=ub(o))}}(r,i,c_,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.vn(e,t,n,r))})),sk.waitFor(o)}},{key:"In",value:function(e){var t=1;return C_(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return c_(e,t)})).filter((function(e,t,n){return!t||0!==c_(e,n[t-1])}));var r=[];r.push(e);var i,a=T(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=c_(o,e),s=c_(o,t);if(0===u)r[0]=e.He();else if(u>0&&s<0)r.push(o),r.push(o.He());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,E_,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,E_,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Pn",value:function(e,t){return c_(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(N_)}},{key:"getMinOffset",value:function(e,t){var n=this;return sk.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||Eg()}))})).next(N_)}}]),e}();function S_(e){return Jk(e,"collectionParents")}function I_(e){return Jk(e,"indexEntries")}function T_(e){return Jk(e,"indexConfiguration")}function C_(e){return Jk(e,"indexState")}function N_(e){_g(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;rk(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new nk(t.readTime,t.documentKey,n)}var A_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O_=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return y(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function R_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){_g(1===u)})));var c,l=[],f=T(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ak(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return sk.waitFor(a).next((function(){return l}))}function D_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Eg();t=e.noDocument}return JSON.stringify(t).length}O_.DEFAULT_COLLECTION_PERCENTILE=10,O_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,O_.DEFAULT=new O_(41943040,O_.DEFAULT_COLLECTION_PERCENTILE,O_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),O_.DISABLED=new O_(-1,0,0);var P_=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}return y(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return M_(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=F_(e),o=M_(e);return o.add({}).next((function(u){_g("number"==typeof u);var s,c=new Px(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return EE(e.le,t)})),i=n.mutations.map((function(t){return EE(e.le,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new ab((function(e,t){return Vg(e.canonicalString(),t.canonicalString())})),d=T(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Ak(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Ok))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.bn[u]=c.keys()})),sk.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return M_(e).get(t).next((function(e){return e?(_g(e.userId===n.userId),qE(n.serializer,e)):null}))}},{key:"Vn",value:function(e,t){var n=this;return this.bn[t]?sk.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.bn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return M_(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(_g(t.batchId>=r),a=qE(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return M_(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return M_(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return qE(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Nk(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return F_(e).X({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=Tk(c);if(s===n.userId&&t.path.isEqual(h))return M_(e).get(f).next((function(e){if(!e)throw Eg();_g(e.userId===n.userId),a.push(qE(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ab(Vg),i=[];return t.forEach((function(t){var a=Nk(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=F_(e).X({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=Tk(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),sk.waitFor(i).next((function(){return n.Sn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Nk(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new ab(Vg);return F_(e).X({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=Tk(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.Sn(e,u)}))}},{key:"Sn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(M_(e).get(t).next((function(e){if(null===e)throw Eg();_g(e.userId===n.userId),r.push(qE(n.serializer,e))})))})),sk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return R_(e.at,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Dn(t.batchId)})),sk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Dn",value:function(e){delete this.bn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return sk.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return F_(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Tk(e[1]);i.push(a)}else r.done()})).next((function(){_g(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return L_(e,this.userId,t)}},{key:"Cn",value:function(e){var t=this;return j_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"fe",value:function(t,n,r,i){return _g(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function L_(e,t,n){var r=Nk(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return F_(e).X({range:a,Y:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function M_(e){return Jk(e,"mutations")}function F_(e){return Jk(e,"documentMutations")}function j_(e){return Jk(e,"mutationQueues")}var V_=function(){function e(t){d(this,e),this.xn=t}return y(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"Nn",value:function(){return new e(0)}},{key:"kn",value:function(){return new e(-1)}}]),e}(),U_=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.serializer=n}return y(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Mn(e).next((function(n){var r=new V_(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Mn(e).next((function(e){return qg.fromTimestamp(new zg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Mn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Mn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.$n(e,t).next((function(){return n.Mn(e).next((function(r){return r.targetCount+=1,n.Fn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.$n(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return B_(e).delete(t.targetId)})).next((function(){return n.Mn(e)})).next((function(t){return _g(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return B_(e).X((function(o,u){var s=KE(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return sk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return B_(e).X((function(e,n){var r=KE(n);t(r)}))}},{key:"Mn",value:function(e){return z_(e).get("targetGlobalKey").next((function(e){return _g(null!==e),e}))}},{key:"On",value:function(e,t){return z_(e).put("targetGlobalKey",t)}},{key:"$n",value:function(e,t){return B_(e).put(HE(this.serializer,t))}},{key:"Fn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Mn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=mw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return B_(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=KE(n);yw(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=q_(e);return t.forEach((function(t){var o=_k(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),sk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=q_(e);return sk.forEach(t,(function(t){var a=_k(t.path);return sk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=q_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=q_(e),i=Yw();return r.X({range:n,Y:!0},(function(e,t,n){var r=Tk(e[1]),a=new Qg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=_k(t.path),r=IDBKeyRange.bound([n],[Bg(n)],!1,!0),i=0;return q_(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"he",value:function(e,t){return B_(e).get(t).next((function(e){return e?KE(e):null}))}}]),e}();function B_(e){return Jk(e,"targets")}function z_(e){return Jk(e,"targetGlobal")}function q_(e){return Jk(e,"targetDocuments")}function K_(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=Vg(r,o);return 0===s?Vg(i,u):s}var H_=function(){function e(t){d(this,e),this.Bn=t,this.buffer=new ab(K_),this.Ln=0}return y(e,[{key:"qn",value:function(){return++this.Ln}},{key:"Un",value:function(e){var t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();K_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),W_=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Kn=null}return y(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}},{key:"started",get:function(){return null!==this.Kn}},{key:"Gn",value:function(e){var t=this;kg("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Kn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!dk(e.t0)){e.next=12;break}kg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ok(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),G_=function(){function e(t,n){d(this,e),this.Qn=t,this.params=n}return y(e,[{key:"calculateTargetCount",value:function(e,t){return this.Qn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return sk.resolve(bk.ct);var r=new H_(t);return this.Qn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.Qn.zn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Qn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Qn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(kg("LruGarbageCollector","Garbage collection skipped; disabled"),sk.resolve(A_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(kg("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),A_):n.Wn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Qn.getCacheSize(e)}},{key:"Wn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(kg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),gg()<=Di.DEBUG&&kg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),sk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function Q_(e,t){return new G_(e,t)}var $_=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=Q_(this,n)}return y(e,[{key:"jn",value:function(e){var t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Hn",value:function(e){var t=0;return this.zn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"zn",value:function(e,t){return this.Jn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return X_(e,n)}},{key:"removeReference",value:function(e,t,n){return X_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return X_(e,t)}},{key:"Yn",value:function(e,t){return function(e,t){var n=!1;return j_(e).Z((function(r){return L_(e,r,t).next((function(e){return e&&(n=!0),sk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Jn(e,(function(o,u){if(u<=t){var s=n.Yn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,qg.min()),q_(e).delete([0,_k(o.path)])}))}));i.push(s)}})).next((function(){return sk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return X_(e,t)}},{key:"Jn",value:function(e,t){var n,r=q_(e),i=bk.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==bk.ct&&t(new Qg(Tk(n)),i),i=s,n=u):i=bk.ct})).next((function(){i!==bk.ct&&t(new Qg(Tk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function X_(e,t){return q_(e).put(function(e,t){return{targetId:0,path:_k(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Y_=function(){function e(){d(this,e),this.changes=new Uw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return y(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,qb.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?sk.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),J_=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return nS(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return nS(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],UE(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Xn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=qb.newInvalidDocument(t);return nS(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(rS(t))},(function(e,i){r=n.Zn(t,i)})).next((function(){return r}))}},{key:"ts",value:function(e,t){var n=this,r={size:0,document:qb.newInvalidDocument(t)};return nS(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(rS(t))},(function(e,i){r={document:n.Zn(t,i),size:D_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=zw();return this.es(e,t,(function(e,t){var i=n.Zn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ns",value:function(e,t){var n=this,r=zw(),i=new nb(Qg.comparator);return this.es(e,t,(function(e,t){var a=n.Zn(e,t);r=r.insert(e,a),i=i.insert(e,D_(t))})).next((function(){return{documents:r,ss:i}}))}},{key:"es",value:function(e,t,n){if(t.isEmpty())return sk.resolve();var r=new ab(aS);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(rS(r.first()),rS(r.last())),a=r.getIterator(),o=a.getNext();return nS(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Qg.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&aS(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(rS(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),UE(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nS(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=zw(),o=T(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Zn(Qg.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(Mw(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=zw(),o=iS(t,n),u=iS(t,nk.max());return nS(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Zn(Qg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new eS(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return tS(e).get("remoteDocumentGlobalKey").next((function(e){return _g(!!e),e}))}},{key:"Xn",value:function(e,t){return tS(e).put("remoteDocumentGlobalKey",t)}},{key:"Zn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=wE(e.le,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Qg.fromSegments(t.noDocument.path),i=zE(t.noDocument.readTime);n=qb.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Eg();var a=Qg.fromSegments(t.unknownDocument.path),o=zE(t.unknownDocument.version);n=qb.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new zg(e[0],e[1]);return qg.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(qg.min()))return n}return qb.newInvalidDocument(e)}}]),e}();function Z_(e){return new J_(e)}var eS=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).rs=e,i.trackRemovals=r,i.os=new Uw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ab((function(e,t){return Vg(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.os.get(a);if(n.push(t.rs.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=VE(t.rs.serializer,o);i=i.add(a.path.popLast());var c=D_(s);r+=c-u.size,n.push(t.rs.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=VE(t.rs.serializer,o.convertToNoDocument(qg.min()));n.push(t.rs.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.rs.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.rs.updateMetadata(e,r)),sk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.rs.ts(e,t).next((function(e){return n.os.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.rs.ns(e,t).next((function(e){var t=e.documents;return e.ss.forEach((function(e,r){n.os.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Y_);function tS(e){return Jk(e,"remoteDocumentGlobal")}function nS(e){return Jk(e,"remoteDocumentsV14")}function rS(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function iS(e,t){var n=t.documentKey.path.toArray();return[e,UE(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function aS(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Vg(n[a],r[a]))return i;return(i=Vg(n.length,r.length))||((i=Vg(n[n.length-2],r[r.length-2]))||Vg(n[n.length-1],r[r.length-1]))}var oS=y((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),uS=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return y(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&xx(r.mutation,e,sb.empty(),zg.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Yw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yw(),i=Ww();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Kw();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ww();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Yw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=zw(),a=Qw(),o=Qw();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ix)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),xx(o.mutation,t,o.mutation.getFieldMask(),zg.now())):a.set(t.key,sb.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new oS(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Qw(),i=new nb((function(e,t){return e-t})),a=Yw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=T(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||sb.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Yw()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Gw();c.forEach((function(e){if(!a.has(e)){var n=bx(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return sk.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Qg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):sk.resolve(Ww()),u=-1,s=a;return o.next((function(t){return sk.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?sk.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Yw())})).next((function(e){return{batchId:u,changes:Hw(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Qg(t)).next((function(e){var t=Kw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Kw();return this.indexManager.getCollectionParents(e,i).next((function(o){return sk.forEach(o,(function(o){var u=function(e,t){return new xw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,qb.newInvalidDocument(r)))}));var n=Kw();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&xx(a.mutation,i,sb.empty(),zg.now()),Mw(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),sS=function(){function e(t){d(this,e),this.serializer=t,this.us=new Map,this.cs=new Map}return y(e,[{key:"getBundleMetadata",value:function(e,t){return sk.resolve(this.us.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.us.set(t.id,{id:(n=t).id,version:n.version,createTime:fE(n.createTime)}),sk.resolve()}},{key:"getNamedQuery",value:function(e,t){return sk.resolve(this.cs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cs.set(t.name,function(e){return{name:e.name,query:WE(e.bundledQuery),readTime:fE(e.readTime)}}(t)),sk.resolve()}}]),e}(),cS=function(){function e(){d(this,e),this.overlays=new nb(Qg.comparator),this.hs=new Map}return y(e,[{key:"getOverlay",value:function(e,t){return sk.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ww();return sk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.de(e,t,i)})),sk.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hs.delete(n)),sk.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ww(),i=t.length+1,a=new Qg(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return sk.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new nb((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Ww(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Ww(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return sk.resolve(s)}},{key:"de",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hs.get(r.largestBatchId).delete(n.key);this.hs.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Mx(t,n));var a=this.hs.get(t);void 0===a&&(a=Yw(),this.hs.set(t,a)),this.hs.set(t,a.add(n.key))}}]),e}(),lS=function(){function e(){d(this,e),this.ls=new ab(fS.fs),this.ds=new ab(fS._s)}return y(e,[{key:"isEmpty",value:function(){return this.ls.isEmpty()}},{key:"addReference",value:function(e,t){var n=new fS(e,t);this.ls=this.ls.add(n),this.ds=this.ds.add(n)}},{key:"ws",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.gs(new fS(e,t))}},{key:"ys",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ps",value:function(e){var t=this,n=new Qg(new Hg([])),r=new fS(n,e),i=new fS(n,e+1),a=[];return this.ds.forEachInRange([r,i],(function(e){t.gs(e),a.push(e.key)})),a}},{key:"Is",value:function(){var e=this;this.ls.forEach((function(t){return e.gs(t)}))}},{key:"gs",value:function(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}},{key:"Ts",value:function(e){var t=new Qg(new Hg([])),n=new fS(t,e),r=new fS(t,e+1),i=Yw();return this.ds.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new fS(e,0),n=this.ls.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),fS=function(){function e(t,n){d(this,e),this.key=t,this.Es=n}return y(e,null,[{key:"fs",value:function(e,t){return Qg.comparator(e.key,t.key)||Vg(e.Es,t.Es)}},{key:"_s",value:function(e,t){return Vg(e.Es,t.Es)||Qg.comparator(e.key,t.key)}}]),e}(),hS=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new ab(fS.fs)}return y(e,[{key:"checkEmpty",value:function(e){return sk.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Px(i,t,n,r);this.mutationQueue.push(a);var o,u=T(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Rs=this.Rs.add(new fS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return sk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return sk.resolve(this.vs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ps(n),i=r<0?0:r;return sk.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return sk.resolve(0===this.mutationQueue.length?-1:this.As-1)}},{key:"getAllMutationBatches",value:function(e){return sk.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new fS(t,0),i=new fS(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.vs(e.Es);a.push(t)})),sk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ab(Vg);return t.forEach((function(e){var t=new fS(e,0),i=new fS(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.Es)}))})),sk.resolve(this.bs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Qg.isDocumentKey(i)||(i=i.child(""));var a=new fS(new Qg(i),0),o=new ab(Vg);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Es)),!0)}),a),sk.resolve(this.bs(o))}},{key:"bs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.vs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;_g(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return sk.forEach(t.mutations,(function(i){var a=new fS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new fS(t,0),r=this.Rs.firstAfterOrEqual(n);return sk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,sk.resolve()}},{key:"Vs",value:function(e,t){return this.Ps(e)}},{key:"Ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"vs",value:function(e){var t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),dS=function(){function e(t){d(this,e),this.Ss=t,this.docs=new nb(Qg.comparator),this.size=0}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ss(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return sk.resolve(n?n.document.mutableCopy():qb.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=zw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():qb.newInvalidDocument(e))})),sk.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=zw(),a=t.path,o=new Qg(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||rk(tk(l),n)<=0||(r.has(l.key)||Mw(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return sk.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Eg()}},{key:"Ds",value:function(e,t){return sk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new pS(this)}},{key:"getSize",value:function(e){return sk.resolve(this.size)}}]),e}(),pS=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).rs=e,r}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.rs.addEntry(e,i)):t.rs.removeEntry(r)})),sk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.rs.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.rs.getEntries(e,t)}}]),n}(Y_),vS=function(){function e(t){d(this,e),this.persistence=t,this.Cs=new Uw((function(e){return mw(e)}),yw),this.lastRemoteSnapshotVersion=qg.min(),this.highestTargetId=0,this.xs=0,this.Ns=new lS,this.targetCount=0,this.ks=V_.Nn()}return y(e,[{key:"forEachTarget",value:function(e,t){return this.Cs.forEach((function(e,n){return t(n)})),sk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return sk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return sk.resolve(this.xs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.ks.next(),sk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.xs&&(this.xs=t),sk.resolve()}},{key:"$n",value:function(e){this.Cs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ks=new V_(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.$n(t),this.targetCount+=1,sk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.$n(t),sk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,sk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Cs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),sk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return sk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cs.get(t)||null;return sk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ns.ws(t,n),sk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ns.ys(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),sk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ns.ps(t),sk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ns.Ts(t);return sk.resolve(n)}},{key:"containsKey",value:function(e,t){return sk.resolve(this.Ns.containsKey(t))}}]),e}(),mS=function(){function e(t,n){var r=this;d(this,e),this.Ms={},this.overlays={},this.Os=new bk(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new vS(this),this.indexManager=new w_,this.remoteDocumentCache=new dS((function(e){return r.referenceDelegate.Bs(e)})),this.serializer=new jE(n),this.Ls=new sS(this.serializer)}return y(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.$s=!1,Promise.resolve()}},{key:"started",get:function(){return this.$s}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new cS,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ms[e.toKey()];return n||(n=new hS(t,this.referenceDelegate),this.Ms[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;kg("MemoryPersistence","Starting transaction:",e);var i=new yS(this.Os.next());return this.referenceDelegate.qs(),n(i).next((function(e){return r.referenceDelegate.Us(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ks",value:function(e,t){return sk.or(Object.values(this.Ms).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),yS=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return y(n)}(ak),gS=function(){function e(t){d(this,e),this.persistence=t,this.Gs=new lS,this.Qs=null}return y(e,[{key:"zs",get:function(){if(this.Qs)return this.Qs;throw Eg()}},{key:"addReference",value:function(e,t,n){return this.Gs.addReference(n,t),this.zs.delete(n.toString()),sk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gs.removeReference(n,t),this.zs.add(n.toString()),sk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zs.add(t.toString()),sk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gs.ps(t.targetId).forEach((function(e){return n.zs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qs",value:function(){this.Qs=new Set}},{key:"Us",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sk.forEach(this.zs,(function(r){var i=Qg.fromPath(r);return t.Ws(e,i).next((function(e){e||n.removeEntry(i,qg.min())}))})).next((function(){return t.Qs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ws(e,t).next((function(e){e?n.zs.delete(t.toString()):n.zs.add(t.toString())}))}},{key:"Bs",value:function(e){return 0}},{key:"Ws",value:function(e,t){var n=this;return sk.or([function(){return sk.resolve(n.Gs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ks(e,t)}])}}],[{key:"js",value:function(t){return new e(t)}}]),e}(),kS=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new ck("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ck,{unique:!0}),e.createObjectStore("documentMutations")}(e),bS(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=sk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),bS(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:qg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ck,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return sk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Js(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ys(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Xs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ti(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:qk});t.createIndex("collectionPathOverlayIndex",Kk,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Hk,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Rk});t.createIndex("documentKeyIndex",Dk),t.createIndex("collectionGroupIndex",Pk)}(e)})).next((function(){return i.ei(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ni(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Vk}).createIndex("sequenceNumberIndex",Uk,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Bk}).createIndex("documentKeyIndex",zk,{unique:!1})}(e)}))),o}},{key:"Ys",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=D_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Js",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return sk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return sk.forEach(r,(function(r){_g(r.userId===n.userId);var i=qE(t.serializer,r);return R_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Xs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new Hg(n),o=function(e){return[0,_k(e)]}(a);r.push(t.get(o).next((function(n){return n?sk.resolve():function(n){return t.put({targetId:0,path:_k(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return sk.waitFor(r)}))}))}},{key:"Zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:jk});var n=t.store("collectionParents"),r=new x_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:_k(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new Hg(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Tk(r));return i(a.popLast())}))}))}},{key:"ti",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=KE(r),a=HE(t.serializer,i);return n.put(a)}))}},{key:"ei",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Qg(Hg.fromString(i.document.name).popFirst(5)):i.noDocument?Qg.fromSegments(i.noDocument.path):i.unknownDocument?Qg.fromSegments(i.unknownDocument.path):Eg()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return sk.waitFor(r)}))}},{key:"ni",value:function(e,t){var n=this,r=t.store("mutations"),i=Z_(this.serializer),a=new mS(gS.js,this.serializer.le);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Yw();qE(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),sk.forEach(r,(function(e,r){var o=new vg(r),u=ZE.fe(n.serializer,o),s=a.getIndexManager(o),c=P_.fe(o,n.serializer,s,a.referenceDelegate);return new uS(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Yk(t,bk.ct),e).next()}))}))}}]),e}();function bS(e){e.createObjectStore("targetDocuments",{keyPath:Mk}).createIndex("documentTargetsIndex",Fk,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Lk,{unique:!0}),e.createObjectStore("targetGlobal")}var wS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xS=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=u,this.ii=c,this.ri=l,this.oi=f,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=function(e){return Promise.resolve()},!e.D())throw new Tg(Ig.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $_(this,i),this.fi=n+"main",this.serializer=new jE(s),this.di=new lk(this.fi,this.oi,new kS(this.serializer)),this.Fs=new U_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Z_(this.serializer),this.Ls=new XE,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&bg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return y(e,[{key:"start",value:function(){var e=this;return this.wi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Tg(Ig.FAILED_PRECONDITION,wS);return e.mi(),e.gi(),e.yi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Fs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new bk(t,e.ii)})).then((function(){e.$s=!0})).catch((function(t){return e.di&&e.di.close(),Promise.reject(t)}))}},{key:"pi",value:function(e){var t=this;return this.li=function(){var n=fn(cn().mark((function n(r){return cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.di.B(function(){var t=fn(cn().mark((function t(n){return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.wi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"wi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return _S(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ii(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.li(!1)})))}))})).next((function(){return e.Ti(t)})).next((function(n){return e.isPrimary&&!n?e.Ei(t).next((function(){return!1})):!!n&&e.Ai(t).next((function(){return!0}))}))})).catch((function(t){if(dk(t))return kg("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return kg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.li(t)})),e.isPrimary=t}))}},{key:"Ii",value:function(e){var t=this;return ES(e).get("owner").next((function(e){return sk.resolve(t.Ri(e))}))}},{key:"vi",value:function(e){return _S(e).delete(this.clientId)}},{key:"Pi",value:function(){var e=fn(cn().mark((function e(){var t,n,r,i,a=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.bi(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Jk(e,"clientMetadata");return t.j().next((function(e){var n=a.Vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return sk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=T(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Si(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yi",value:function(){var e=this;this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.wi().then((function(){return e.Pi()})).then((function(){return e.yi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ti",value:function(e){var t=this;return this.ri?sk.resolve(!0):ES(e).get("owner").next((function(n){if(null!==n&&t.bi(n.leaseTimestampMs,5e3)&&!t.Di(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new Tg(Ig.FAILED_PRECONDITION,wS);return!1}}return!(!t.networkEnabled||!t.inForeground)||_S(e).j().next((function(e){return void 0===t.Vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&kg("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=fn(cn().mark((function e(){var t=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$s=!1,this.Ci(),this.ai&&(this.ai.cancel(),this.ai=null),this.xi(),this.Ni(),e.next=7,this.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Yk(e,bk.ct);return t.Ei(n).next((function(){return t.vi(n)}))}));case 7:this.di.close(),this.ki();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(e,t){var n=this;return e.filter((function(e){return n.bi(e.updateTimeMs,t)&&!n.Di(e.clientId)}))}},{key:"Mi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return _S(t).j().next((function(t){return e.Vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.$s}},{key:"getMutationQueue",value:function(e,t){return P_.fe(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new __(e,this.serializer.le.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return ZE.fe(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;kg("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.oi)?Xk:14===i?$k:13===i?Qk:12===i?Gk:11===i?Wk:void Eg();return this.di.runTransaction(e,o,u,(function(i){return a=new Yk(i,r.Os?r.Os.next():bk.ct),"readwrite-primary"===t?r.Ii(a).next((function(e){return!!e||r.Ti(a)})).next((function(t){if(!t)throw bg("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.li(!1)})),new Tg(Ig.FAILED_PRECONDITION,ik);return n(a)})).next((function(e){return r.Ai(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return ES(e).get("owner").next((function(e){if(null!==e&&t.bi(e.leaseTimestampMs,5e3)&&!t.Di(e.ownerId)&&!t.Ri(e)&&!(t.ri||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Tg(Ig.FAILED_PRECONDITION,wS)}))}},{key:"Ai",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ES(e).put("owner",t)}},{key:"Ei",value:function(e){var t=this,n=ES(e);return n.get("owner").next((function(e){return t.Ri(e)?(kg("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):sk.resolve()}))}},{key:"bi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(bg("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"mi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.wi()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"gi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Ci();var e=/(?:Version|Mobile)\/1[456]/;!ci()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Ni",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Di",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return kg("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return bg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ci",value:function(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){bg("Failed to set zombie client id.",e)}}},{key:"ki",value:function(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch(e){}}},{key:"Si",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return lk.D()}}]),e}();function ES(e){return Jk(e,"owner")}function _S(e){return Jk(e,"clientMetadata")}function SS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var IS=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.$i=r,this.Fi=i}return y(e,null,[{key:"Bi",value:function(t,n){var r,i=Yw(),a=Yw(),o=T(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),TS=function(){function e(){d(this,e),this.Li=!1}return y(e,[{key:"initialize",value:function(e,t){this.qi=e,this.indexManager=t,this.Li=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ui(e,t).next((function(a){return a||i.Ki(e,t,r,n)})).next((function(n){return n||i.Gi(e,t)}))}},{key:"Ui",value:function(e,t){var n=this;if(Sw(t))return sk.resolve(null);var r=Aw(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Rw(t,null,"F"),r=Aw(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Yw.apply(void 0,h(i));return n.qi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Qi(t,i);return n.ji(t,o,a,r.readTime)?n.Ui(e,Rw(t,null,"F")):n.zi(e,o,t,r)}))}))})))}))}},{key:"Ki",value:function(e,t,n,r){var i=this;return Sw(t)||r.isEqual(qg.min())?this.Gi(e,t):this.qi.getDocuments(e,n).next((function(a){var o=i.Qi(t,a);return i.ji(t,o,n,r)?i.Gi(e,t):(gg()<=Di.DEBUG&&kg("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lw(t)),i.zi(e,o,t,ek(r,-1)))}))}},{key:"Qi",value:function(e,t){var n=new ab(jw(e));return t.forEach((function(t,r){Mw(e,r)&&(n=n.add(r))})),n}},{key:"ji",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Gi",value:function(e,t){return gg()<=Di.DEBUG&&kg("QueryEngine","Using full collection scan to execute query:",Lw(t)),this.qi.getDocumentsMatchingQuery(e,t,nk.min())}},{key:"zi",value:function(e,t,n,r){return this.qi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),CS=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Wi=n,this.serializer=i,this.Hi=new nb(Vg),this.Ji=new Uw((function(e){return mw(e)}),yw),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(r)}return y(e,[{key:"Zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uS(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Hi)}))}}]),e}();function NS(e,t,n,r){return new CS(e,t,n,r)}function AS(e,t){return OS.apply(this,arguments)}function OS(){return OS=fn(cn().mark((function e(t,n){var r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sg(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Yw(),s=T(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=T(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=T(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=T(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{tr:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function RS(e,t){var n=Sg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=sk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);_g(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Yw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function DS(e){var t=Sg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Fs.getLastRemoteSnapshotVersion(e)}))}function PS(e,t){var n=Sg(e),r=t.snapshotVersion,i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(lb.EMPTY_BYTE_STRING,qg.min()).withLastLimboFreeSnapshotVersion(qg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Fs.updateTargetData(e,c))}}));var u=zw(),s=Yw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(LS(e,a,t.documentUpdates).next((function(e){u=e.er,s=e.nr}))),!r.isEqual(qg.min())){var c=n.Fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return sk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Hi=i,e}))}function LS(e,t,n){var r=Yw(),i=Yw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=zw();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(qg.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):kg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{er:r,nr:i}}))}function MS(e,t){var n=Sg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function FS(e,t){var n=Sg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Fs.getTargetData(e,t).next((function(i){return i?(r=i,sk.resolve(r)):n.Fs.allocateTargetId(e).next((function(i){return r=new FE(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Hi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(e.targetId,e),n.Ji.set(t,e.targetId)),e}))}function jS(e,t,n){return VS.apply(this,arguments)}function VS(){return VS=fn(cn().mark((function e(t,n,r){var i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sg(t),a=i.Hi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),dk(e.t1)){e.next=12;break}throw e.t1;case 12:kg("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Hi=i.Hi.remove(n),i.Ji.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),VS.apply(this,arguments)}function US(e,t,n){var r=Sg(e),i=qg.min(),a=Yw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Sg(e),i=r.Ji.get(n);return void 0!==i?sk.resolve(r.Hi.get(i)):r.Fs.getTargetData(t,n)}(r,e,Aw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Wi.getDocumentsMatchingQuery(e,t,n?i:qg.min(),n?a:Yw())})).next((function(e){return qS(r,Fw(t),e),{documents:e,sr:a}}))}))}function BS(e,t){var n=Sg(e),r=Sg(n.Fs),i=n.Hi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.he(e,t).next((function(e){return e?e.target:null}))}))}function zS(e,t){var n=Sg(e),r=n.Yi.get(t)||qg.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Xi.getAllFromCollectionGroup(e,t,ek(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return qS(n,t,e),e}))}function qS(e,t,n){var r=e.Yi.get(t)||qg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Yi.set(t,r)}function KS(e,t,n,r){return HS.apply(this,arguments)}function HS(){return HS=fn(cn().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Sg(t),o=Yw(),u=zw(),s=T(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.ir(l.metadata.name),l.document&&(o=o.add(f)),(h=n.rr(l)).setReadTime(n.ur(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Xi.newChangeBuffer({trackRemovals:!0}),e.next=7,FS(a,function(e){return Aw(_w(Hg.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return LS(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.er,t.nr)})).next((function(){return t.er}))}))})));case 9:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function WS(e,t){return GS.apply(this,arguments)}function GS(){return GS=fn(cn().mark((function e(t,n){var r,i,a,o=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Yw(),e.next=3,FS(t,Aw(WE(n.bundledQuery)));case 3:return i=e.sent,a=Sg(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=fE(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ls.saveNamedQuery(e,n);var o=i.withResumeToken(lb.EMPTY_BYTE_STRING,t);return a.Hi=a.Hi.insert(o.targetId,o),a.Fs.updateTargetData(e,o).next((function(){return a.Fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ls.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function QS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function $S(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function XS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var YS=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return y(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Tg(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(bg("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),JS=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return y(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Tg(i.error.code,i.error.message))),a?new e(t,i.state,r):(bg("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ZS=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return y(e,null,[{key:"cr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Zw(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ek(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(bg("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),eI=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return y(e,null,[{key:"cr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(bg("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),tI=function(){function e(){d(this,e),this.activeTargetIds=Zw()}return y(e,[{key:"hr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ar",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),nI=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new nb(Vg),this.started=!1,this.gr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=QS(this.persistenceKey,this.dr),this.pr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.mr=this.mr.insert(this.dr,new tI),this.Ir=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Tr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Er=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ar=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return y(e,[{key:"start",value:function(){var e=fn(cn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Mi();case 2:t=e.sent,n=T(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.dr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(QS(this.persistenceKey,i)))&&(o=ZS.cr(i,a))&&(this.mr=this.mr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.vr(),(u=this.storage.getItem(this.Ar))&&(s=this.Pr(u))&&this.br(s),c=T(this.gr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.wr(f)}catch(d){c.e(d)}finally{c.f()}this.gr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.pr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Vr(this.mr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.mr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Sr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Sr(e,t,n),this.Dr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(XS(this.persistenceKey,e));if(n){var r=JS.cr(e,n);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Cr.lr(e),this.vr()}},{key:"isLocalQueryTarget",value:function(e){return this.Cr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(XS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Nr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Dr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.kr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Mr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return kg("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){kg("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){kg("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"wr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(kg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.yr)return void bg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(fn(cn().mark((function e(){var r,i,a,o,u,s,c;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ir.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.$r(r,null));case 6:if(!(i=t.Fr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.$r(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Tr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Br(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Lr(a));case 16:e.next=41;break;case 18:if(!t.Er.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.qr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Ur(o));case 23:e.next=41;break;case 25:if(n.key!==t.Ar){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.br(u));case 30:e.next=41;break;case 32:if(n.key!==t.pr){e.next=37;break}s=function(e){var t=bk.ct;if(null!=e)try{var n=JSON.parse(e);_g("number"==typeof n),t=n}catch(e){bg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==bk.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Kr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Gr(e)})));case 41:e.next=44;break;case 43:t.gr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Cr",get:function(){return this.mr.get(this.dr)}},{key:"vr",value:function(){this.setItem(this.yr,this.Cr.ar())}},{key:"Sr",value:function(e,t,n){var r=new YS(this.currentUser,e,t,n),i=$S(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ar())}},{key:"Dr",value:function(e){var t=$S(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"kr",value:function(e){var t={clientId:this.dr,onlineState:e};this.storage.setItem(this.Ar,JSON.stringify(t))}},{key:"Nr",value:function(e,t,n){var r=XS(this.persistenceKey,e),i=new JS(e,t,n);this.setItem(r,i.ar())}},{key:"Mr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Ir.exec(e);return t?t[1]:null}},{key:"Fr",value:function(e,t){var n=this.Or(e);return ZS.cr(n,t)}},{key:"Br",value:function(e,t){var n=this.Tr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return YS.cr(new vg(i),r,t)}},{key:"qr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]);return JS.cr(r,t)}},{key:"Pr",value:function(e){return eI.cr(e)}},{key:"Kr",value:function(e){return JSON.parse(e)}},{key:"Lr",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Qr(t.batchId,t.state,t.error));case 2:kg("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ur",value:function(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}},{key:"$r",value:function(e,t){var n=this,r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),a=this.Vr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.zr(o,u).then((function(){n.mr=r}))}},{key:"br",value:function(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Vr",value:function(e){var t=Zw();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),rI=function(){function e(){d(this,e),this.Wr=new tI,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return y(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Hr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Wr.lr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Hr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Wr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Wr=new tI,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),iI=function(){function e(){d(this,e)}return y(e,[{key:"Jr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),aI=function(){function e(){var t=this;d(this,e),this.Yr=function(){return t.Xr()},this.Zr=function(){return t.eo()},this.no=[],this.so()}return y(e,[{key:"Jr",value:function(e){this.no.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}},{key:"so",value:function(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}},{key:"Xr",value:function(){kg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=T(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"eo",value:function(){kg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=T(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),oI=null;function uI(){return null===oI?oI=268435456+Math.round(2147483648*Math.random()):oI++,"0x"+oI.toString(16)}var sI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},cI=function(){function e(t){d(this,e),this.io=t.io,this.ro=t.ro}return y(e,[{key:"oo",value:function(e){this.uo=e}},{key:"co",value:function(e){this.ao=e}},{key:"onMessage",value:function(e){this.ho=e}},{key:"close",value:function(){this.ro()}},{key:"send",value:function(e){this.io(e)}},{key:"lo",value:function(){this.uo()}},{key:"fo",value:function(e){this.ao(e)}},{key:"_o",value:function(e){this.ho(e)}}]),e}(),lI="WebChannelConnection",fI=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return y(n,[{key:"Eo",value:function(e,t,n,r){var i=uI();return new Promise((function(a,o){var u=new fg;u.setWithCredentials(!0),u.listenOnce(og.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case ag.NO_ERROR:var t=u.getResponseJson();kg(lI,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case ag.TIMEOUT:kg(lI,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Tg(Ig.DEADLINE_EXCEEDED,"Request time out"));break;case ag.HTTP_ERROR:var n=u.getStatus();if(kg(lI,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ig).indexOf(t)>=0?t:Ig.UNKNOWN}(s.status);o(new Tg(c,s.message))}else o(new Tg(Ig.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Tg(Ig.UNAVAILABLE,"Connection failed."));break;default:Eg()}}finally{kg(lI,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);kg(lI,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=uI(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=rg(),o=ig(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new cg({})),this.To(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");kg(lI,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,h=new cI({io:function(t){f?kg(lI,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(kg(lI,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),kg(lI,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ro:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,lg.EventType.OPEN,(function(){f||kg(lI,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,lg.EventType.CLOSE,(function(){f||(f=!0,kg(lI,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.fo())})),d(c,lg.EventType.ERROR,(function(t){f||(f=!0,wg(lI,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.fo(new Tg(Ig.UNAVAILABLE,"The operation could not be completed")))})),d(c,lg.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];_g(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){kg(lI,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Ax[e];if(void 0!==t)return Vx(t)}(u),l=o.message;void 0===s&&(s=Ig.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.fo(new Tg(s,l)),c.close()}else kg(lI,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h._o(i)}})),d(o,ug.STAT_EVENT,(function(t){t.stat===sg.PROXY?kg(lI,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===sg.NOPROXY&&kg(lI,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.lo()}),0),h}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.wo=n+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return y(e,[{key:"yo",get:function(){return!1}},{key:"po",value:function(e,t,n,r,i){var a=uI(),o=this.Io(e,t);kg("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.To(u,r,i),this.Eo(e,o,u,n).then((function(t){return kg("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw wg("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Ao",value:function(e,t,n,r,i,a){return this.po(e,t,n,r,i)}},{key:"To",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+mg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Io",value:function(e,t){var n=sI[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}}]),e}());function hI(){return"undefined"!=typeof window?window:null}function dI(){return"undefined"!=typeof document?document:null}function pI(e){return new oE(e,!0)}var vI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.si=t,this.timerId=n,this.vo=r,this.Po=i,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}return y(e,[{key:"reset",value:function(){this.Vo=0}},{key:"Co",value:function(){this.Vo=this.bo}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&kg("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.So=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Do=Date.now(),e()})),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}},{key:"ko",value:function(){null!==this.So&&(this.So.skipDelay(),this.So=null)}},{key:"cancel",value:function(){null!==this.So&&(this.So.cancel(),this.So=null)}},{key:"No",value:function(){return(Math.random()-.5)*this.Vo}}]),e}(),mI=function(){function e(t,n,r,i,a,o,u,s){d(this,e),this.si=t,this.Mo=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new vI(t,n)}return y(e,[{key:"qo",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Ko()}},{key:"stop",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.qo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Lo.reset()}},{key:"Qo",value:function(){var e=this;this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,(function(){return e.jo()})))}},{key:"zo",value:function(e){this.Wo(),this.stream.send(e)}},{key:"jo",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wo",value:function(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"close",value:function(){var e=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,4!==t?this.Lo.reset():n&&n.code===Ig.RESOURCE_EXHAUSTED?(bg(n.toString()),bg("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===Ig.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Jo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.co(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.$o===n&&e.Xo(i,a)}),(function(n){t((function(){var t=new Tg(Ig.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Zo(t)}))}))}},{key:"Xo",value:function(e,t){var n=this,r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo((function(){r((function(){return n.state=2,n.Bo=n.si.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener.oo()}))})),this.stream.co((function(e){r((function(){return n.Zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Ko",value:function(){var e=this;this.state=5,this.Lo.xo(fn(cn().mark((function t(){return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Zo",value:function(e){return kg("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Yo",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.$o===e?n():(kg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),yI=function(e){k(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return y(n,[{key:"tu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.Lo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Eg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(_g(void 0===t||"string"==typeof t),lb.fromBase64String(t||"")):(_g(void 0===t||t instanceof Uint8Array),lb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Ig.UNKNOWN:Vx(e.code);return new Tg(t,e.message||"")}(o);n=new Jx(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=vE(e,s.document.name),l=fE(s.document.updateTime),f=s.document.createTime?fE(s.document.createTime):qg.min(),h=new Bb({mapValue:{fields:s.document.fields}}),d=qb.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Xx(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=vE(e,m.document),g=m.readTime?fE(m.readTime):qg.min(),k=qb.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Xx([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=vE(e,w.document),E=w.removedTargetIds||[];n=new Xx([],E,x,null)}else{if(!("filter"in t))return Eg();t.filter;var _=t.filter;_.targetId;var S=_.count,I=void 0===S?0:S,T=_.unchangedNames,C=new Fx(I,T),N=_.targetId;n=new Yx(N,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return qg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?qg.min():t.readTime?fE(t.readTime):qg.min()}(e);return this.listener.eu(t,n)}},{key:"nu",value:function(e){var t={};t.database=gE(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=gw(r)?{documents:SE(e,r)}:{query:IE(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=cE(e,t.resumeToken);var i=uE(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(qg.min())>0){n.readTime=sE(e,t.snapshotVersion.toTimestamp());var a=uE(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Eg()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.zo(t)}},{key:"su",value:function(e){var t={};t.database=gE(this.serializer),t.removeTarget=e,this.zo(t)}}]),n}(mI),gI=function(e){k(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.iu=!1,s}return y(n,[{key:"ru",get:function(){return this.iu}},{key:"start",value:function(){this.iu=!1,this.lastStreamToken=void 0,ao(b(n.prototype),"start",this).call(this)}},{key:"Jo",value:function(){this.iu&&this.ou([])}},{key:"tu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(_g(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();var t=function(e,t){return e&&e.length>0?(_g(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?fE(e.updateTime):fE(t);return n.isEqual(qg.min())&&(n=fE(t)),new mx(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=fE(e.commitTime);return this.listener.uu(n,t)}return _g(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}},{key:"au",value:function(){var e={};e.database=gE(this.serializer),this.zo(e)}},{key:"ou",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return EE(t.serializer,e)}))};this.zo(n)}}]),n}(mI),kI=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.hu=!1,o}return y(n,[{key:"lu",value:function(){if(this.hu)throw new Tg(Ig.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"po",value:function(e,t,n){var r=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.connection.po(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ig.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Tg(Ig.UNKNOWN,e.toString())}))}},{key:"Ao",value:function(e,t,n,r){var i=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),u=o[0],s=o[1];return i.connection.Ao(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ig.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Tg(Ig.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.hu=!0}}]),n}(function(){return y((function e(){d(this,e)}))}());var bI=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}return y(e,[{key:"mu",value:function(){var e=this;0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.yu("Backend didn't respond within 10 seconds."),e.gu("Offline"),Promise.resolve()})))}},{key:"pu",value:function(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.gu("Offline")))}},{key:"set",value:function(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}},{key:"gu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"yu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.wu?(bg(t),this.wu=!1):kg("OnlineStateTracker",t)}},{key:"Iu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),wI=y((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr((function(e){r.enqueueAndForget(fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=RI(o),!e.t0){e.next=5;break}return kg("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Sg(t)).Au.add(4),e.next=4,_I(n);case 4:return n.Pu.set("Unknown"),n.Au.delete(4),e.next=8,xI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Pu=new bI(r,i)}));function xI(e){return EI.apply(this,arguments)}function EI(){return(EI=fn(cn().mark((function e(t){var n,r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!RI(t)){e.next=18;break}n=T(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function _I(e){return SI.apply(this,arguments)}function SI(){return(SI=fn(cn().mark((function e(t){var n,r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function II(e,t){var n=Sg(e);n.Eu.has(t.targetId)||(n.Eu.set(t.targetId,t),OI(n)?AI(n):uT(n).Uo()&&CI(n,t))}function TI(e,t){var n=Sg(e),r=uT(n);n.Eu.delete(t),r.Uo()&&NI(n,t),0===n.Eu.size&&(r.Uo()?r.Qo():RI(n)&&n.Pu.set("Unknown"))}function CI(e,t){if(e.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(qg.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uT(e).nu(t)}function NI(e,t){e.bu.Lt(t),uT(e).su(t)}function AI(e){e.bu=new eE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},he:function(t){return e.Eu.get(t)||null},oe:function(){return e.datastore.serializer.databaseId}}),uT(e).start(),e.Pu.mu()}function OI(e){return RI(e)&&!uT(e).qo()&&e.Eu.size>0}function RI(e){return 0===Sg(e).Au.size}function DI(e){e.bu=void 0}function PI(e){return LI.apply(this,arguments)}function LI(){return(LI=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Eu.forEach((function(e,n){CI(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MI(e,t){return FI.apply(this,arguments)}function FI(){return(FI=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:DI(t),OI(t)?(t.Pu.pu(n),AI(t)):t.Pu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jI(e,t,n){return VI.apply(this,arguments)}function VI(){return VI=fn(cn().mark((function e(t,n,r){var i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Pu.set("Online"),!(n instanceof Jx&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=fn(cn().mark((function e(t,n){var r,i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=T(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Eu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Eu.delete(o),t.bu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),kg("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,UI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Xx?t.bu.Wt(n):n instanceof Yx?t.bu.ee(n):t.bu.Yt(n),r.isEqual(qg.min())){e.next=29;break}return e.prev=14,e.next=17,DS(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.bu.ue(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Eu.get(r);i&&e.Eu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Eu.get(t);if(r){e.Eu.set(t,r.withResumeToken(lb.EMPTY_BYTE_STRING,r.snapshotVersion)),NI(e,t);var i=new FE(r.target,t,n,r.sequenceNumber);CI(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),kg("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,UI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),VI.apply(this,arguments)}function UI(e,t,n){return BI.apply(this,arguments)}function BI(){return(BI=fn(cn().mark((function e(t,n,r){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dk(n)){e.next=2;break}throw n;case 2:return t.Au.add(1),e.next=5,_I(t);case 5:t.Pu.set("Offline"),r||(r=function(){return DS(t.localStore)}),t.asyncQueue.enqueueRetryable(fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kg("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Au.delete(1),e.next=6,xI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zI(e,t){return t().catch((function(n){return UI(e,n,t)}))}function qI(e){return KI.apply(this,arguments)}function KI(){return(KI=fn(cn().mark((function e(t){var n,r,i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Sg(t),r=sT(n),i=n.Tu.length>0?n.Tu[n.Tu.length-1].batchId:-1;case 2:if(!HI(n)){e.next=19;break}return e.prev=3,e.next=6,MS(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Tu.length&&r.Qo(),e.abrupt("break",19);case 10:i=a.batchId,WI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,UI(n,e.t0);case 17:e.next=2;break;case 19:GI(n)&&QI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function HI(e){return RI(e)&&e.Tu.length<10}function WI(e,t){e.Tu.push(t);var n=sT(e);n.Uo()&&n.ru&&n.ou(t.mutations)}function GI(e){return RI(e)&&!sT(e).qo()&&e.Tu.length>0}function QI(e){sT(e).start()}function $I(e){return XI.apply(this,arguments)}function XI(){return(XI=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sT(t).au();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YI(e){return JI.apply(this,arguments)}function JI(){return(JI=fn(cn().mark((function e(t){var n,r,i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sT(t),r=T(t.Tu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.ou(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZI(e,t,n){return eT.apply(this,arguments)}function eT(){return(eT=fn(cn().mark((function e(t,n,r){var i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Tu.shift(),a=Lx.from(i,n,r),e.next=3,zI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,qI(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tT(e,t){return nT.apply(this,arguments)}function nT(){return nT=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&sT(t).ru,!e.t0){e.next=4;break}return e.next=4,function(){var e=fn(cn().mark((function e(t,n){var r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jx(i=n.code)||i===Ig.ABORTED){e.next=7;break}return r=t.Tu.shift(),sT(t).Go(),e.next=5,zI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,qI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:GI(t)&&QI(t);case 5:case"end":return e.stop()}}),e)}))),nT.apply(this,arguments)}function rT(e,t){return iT.apply(this,arguments)}function iT(){return(iT=fn(cn().mark((function e(t,n){var r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Sg(t)).asyncQueue.verifyOperationInProgress(),kg("RemoteStore","RemoteStore received new credentials"),i=RI(r),r.Au.add(3),e.next=6,_I(r);case 6:return i&&r.Pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Au.delete(3),e.next=12,xI(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aT(e,t){return oT.apply(this,arguments)}function oT(){return(oT=fn(cn().mark((function e(t,n){var r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sg(t),!n){e.next=7;break}return r.Au.delete(2),e.next=5,xI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Au.add(2),e.next=12,_I(r);case 12:r.Pu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uT(e){return e.Vu||(e.Vu=function(e,t,n){var r=Sg(e);return r.lu(),new yI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:PI.bind(null,e),co:MI.bind(null,e),eu:jI.bind(null,e)}),e.Ru.push(function(){var t=fn(cn().mark((function t(n){return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Vu.Go(),OI(e)?AI(e):e.Pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Vu.stop();case 6:DI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Vu}function sT(e){return e.Su||(e.Su=function(e,t,n){var r=Sg(e);return r.lu(),new gI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:$I.bind(null,e),co:tT.bind(null,e),cu:YI.bind(null,e),uu:ZI.bind(null,e)}),e.Ru.push(function(){var t=fn(cn().mark((function t(n){return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Su.Go(),t.next=4,qI(e);case 4:t.next=9;break;case 6:return t.next=8,e.Su.stop();case 8:e.Tu.length>0&&(kg("RemoteStore","Stopping write stream with ".concat(e.Tu.length," pending writes")),e.Tu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}var cT=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Cg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return y(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tg(Ig.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function lT(e,t){if(bg("AsyncQueue","".concat(t,": ").concat(e)),dk(e))return new Tg(Ig.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var fT=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||Qg.comparator(e.key,n.key)}:function(e,t){return Qg.comparator(e.key,t.key)},this.keyedMap=Kw(),this.sortedSet=new nb(this.comparator)}return y(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),hT=function(){function e(){d(this,e),this.Du=new nb(Qg.comparator)}return y(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Du.get(t);n?0!==e.type&&3===n.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==n.type?this.Du=this.Du.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Du=this.Du.remove(t):1===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):Eg():this.Du=this.Du.insert(t,e)}},{key:"Cu",value:function(){var e=[];return this.Du.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),dT=function(){function e(t,n,r,i,a,o,u,s,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return y(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,fT.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),pT=y((function e(){d(this,e),this.xu=void 0,this.listeners=[]})),vT=y((function e(){d(this,e),this.queries=new Uw((function(e){return Pw(e)}),Dw),this.onlineState="Unknown",this.Nu=new Set}));function mT(e,t){return yT.apply(this,arguments)}function yT(){return yT=fn(cn().mark((function e(t,n){var r,i,a,o,u;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sg(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new pT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.xu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=lT(e.t0,"Initialization of query '".concat(Lw(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ku(r.onlineState),o.xu&&n.Mu(o.xu)&&xT(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),yT.apply(this,arguments)}function gT(e,t){return kT.apply(this,arguments)}function kT(){return kT=fn(cn().mark((function e(t,n){var r,i,a,o,u;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sg(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),kT.apply(this,arguments)}function bT(e,t){var n,r=Sg(e),i=!1,a=T(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=T(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Mu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.xu=o}}}catch(f){a.e(f)}finally{a.f()}i&&xT(r)}function wT(e,t,n){var r=Sg(e),i=r.queries.get(t);if(i){var a,o=T(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function xT(e){e.Nu.forEach((function(e){e.next()}))}var ET=function(){function e(t,n,r){d(this,e),this.query=t,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}return y(e,[{key:"Mu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=T(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new dT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),a=!0):this.Lu(e,this.onlineState)&&(this.qu(e),a=!0),this.Fu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"ku",value:function(e){this.onlineState=e;var t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}},{key:"Lu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Uu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Bu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"qu",value:function(e){e=dT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}]),e}(),_T=function(){function e(t,n){d(this,e),this.Ku=t,this.byteLength=n}return y(e,[{key:"Gu",value:function(){return"metadata"in this.Ku}}]),e}(),ST=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"ir",value:function(e){return vE(this.serializer,e)}},{key:"rr",value:function(e){return e.metadata.exists?wE(this.serializer,e.document,!1):qb.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}},{key:"ur",value:function(e){return fE(e)}}]),e}(),IT=function(){function e(t,n,r){d(this,e),this.Qu=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=TT(t)}return y(e,[{key:"ju",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;var n=Hg.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"zu",value:function(e){var t,n=new Map,r=new ST(this.serializer),i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.ir(a.metadata.name),s=T(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Yw()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=fn(cn().mark((function e(){var t,n,r,i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KS(this.localStore,new ST(this.serializer),this.documents,this.Qu.id);case 2:t=e.sent,n=this.zu(this.documents),r=T(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,WS(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Wu:this.collectionGroups,Hu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function TT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var CT=y((function e(t){d(this,e),this.key=t})),NT=y((function e(t){d(this,e),this.key=t})),AT=function(){function e(t,n){d(this,e),this.query=t,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Yw(),this.mutatedKeys=Yw(),this.Zu=jw(t),this.tc=new fT(this.Zu)}return y(e,[{key:"ec",get:function(){return this.Ju}},{key:"nc",value:function(e,t){var n=this,r=t?t.sc:new hT,i=t?t.tc:this.tc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Mw(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ic(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Zu(f,s)>0||c&&n.Zu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{tc:o,sc:r,ji:u,mutatedKeys:a}}},{key:"ic",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;var a=e.sc.Cu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Eg()}};return n(e)-n(t)}(e.type,t.type)||r.Zu(e.doc,t.doc)})),this.rc(n);var o=t?this.oc():[],u=0===this.Xu.size&&this.current?1:0,s=u!==this.Yu;return this.Yu=u,0!==a.length||s?{snapshot:new dT(this.query,e.tc,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}},{key:"ku",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new hT,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}},{key:"cc",value:function(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}},{key:"rc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ju=t.Ju.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ju=t.Ju.delete(e)})),this.current=e.current)}},{key:"oc",value:function(){var e=this;if(!this.current)return[];var t=this.Xu;this.Xu=Yw(),this.tc.forEach((function(t){e.cc(t.key)&&(e.Xu=e.Xu.add(t.key))}));var n=[];return t.forEach((function(t){e.Xu.has(t)||n.push(new NT(t))})),this.Xu.forEach((function(e){t.has(e)||n.push(new CT(e))})),n}},{key:"ac",value:function(e){this.Ju=e.sr,this.Xu=Yw();var t=this.nc(e.documents);return this.applyChanges(t,!0)}},{key:"hc",value:function(){return dT.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}]),e}(),OT=y((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),RT=y((function e(t){d(this,e),this.key=t,this.lc=!1})),DT=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new Uw((function(e){return Pw(e)}),Dw),this._c=new Map,this.wc=new Set,this.mc=new nb(Qg.comparator),this.gc=new Map,this.yc=new lS,this.Ic={},this.Tc=new Map,this.Ec=V_.kn(),this.onlineState="Unknown",this.Ac=void 0}return y(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ac}}]),e}();function PT(e,t){return LT.apply(this,arguments)}function LT(){return LT=fn(cn().mark((function e(t,n){var r,i,a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=TC(t),!(o=r.dc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.hc(),e.next=15;break;case 6:return e.next=8,FS(r.localStore,Aw(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,MT(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&II(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}function MT(e,t,n,r,i){return FT.apply(this,arguments)}function FT(){return FT=fn(cn().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=fn(cn().mark((function e(t,n,r,i){var a,o,u;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.nc(r),e.t0=a.ji,!e.t0){e.next=6;break}return e.next=5,US(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.nc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(rC(t,n.targetId,u.uc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,US(t.localStore,n,!0);case 3:return o=e.sent,u=new AT(n,o.sr),s=u.nc(o.documents),c=$x.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),rC(t,r,l.uc),f=new OT(n,r,u),e.abrupt("return",(t.dc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),FT.apply(this,arguments)}function jT(e,t){return VT.apply(this,arguments)}function VT(){return(VT=fn(cn().mark((function e(t,n){var r,i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sg(t),i=r.dc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!Dw(e,n)}))),void r.dc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,jS(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),TI(r.remoteStore,i.targetId),tC(r,i.targetId)})).catch(ok);case 9:e.next=14;break;case 11:return tC(r,i.targetId),e.next=14,jS(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UT(e,t,n){return BT.apply(this,arguments)}function BT(){return BT=fn(cn().mark((function e(t,n,r){var i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=CC(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Sg(e),a=zg.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Yw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=zw(),s=Yw();return i.Xi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=T(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ex(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Ix(c.key,l,zb(l.value.mapValue),yx.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Hw(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ic[e.currentUser.toKey()];r||(r=new nb(Vg)),r=r.insert(t,n),e.Ic[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,oC(i,a.changes);case 9:return e.next=11,qI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=lT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),BT.apply(this,arguments)}function zT(e,t){return qT.apply(this,arguments)}function qT(){return(qT=fn(cn().mark((function e(t,n){var r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sg(t),e.prev=1,e.next=4,PS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.gc.get(t);n&&(_g(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.lc=!0:e.modifiedDocuments.size>0?_g(n.lc):e.removedDocuments.size>0&&(_g(n.lc),n.lc=!1))})),e.next=8,oC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ok(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function KT(e,t,n){var r=Sg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.dc.forEach((function(e,n){var r=n.view.ku(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Sg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=T(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ku(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&xT(n)}(r.eventManager,t),i.length&&r.fc.eu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function HT(e,t,n){return WT.apply(this,arguments)}function WT(){return WT=fn(cn().mark((function e(t,n,r){var i,a,o,u,s,c;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Sg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.gc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new nb(Qg.comparator)).insert(o,qb.newNoDocument(o,qg.min())),s=Yw().add(o),c=new Qx(qg.min(),new Map,new nb(Vg),u,s),e.next=9,zT(i,c);case 9:i.mc=i.mc.remove(o),i.gc.delete(n),aC(i),e.next=16;break;case 14:return e.next=16,jS(i.localStore,n,!1).then((function(){return tC(i,n,r)})).catch(ok);case 16:case"end":return e.stop()}}),e)}))),WT.apply(this,arguments)}function GT(e,t){return QT.apply(this,arguments)}function QT(){return(QT=fn(cn().mark((function e(t,n){var r,i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sg(t),i=n.batch.batchId,e.prev=1,e.next=4,RS(r.localStore,n);case 4:return a=e.sent,eC(r,i,null),ZT(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,oC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ok(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function $T(e,t,n){return XT.apply(this,arguments)}function XT(){return(XT=fn(cn().mark((function e(t,n,r){var i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sg(t),e.prev=1,e.next=4,function(e,t){var n=Sg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return _g(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,eC(i,n,r),ZT(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,oC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ok(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function YT(e,t){return JT.apply(this,arguments)}function JT(){return(JT=fn(cn().mark((function e(t,n){var r,i,a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return RI((r=Sg(t)).remoteStore)||kg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Sg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Tc.get(i)||[]).push(n),r.Tc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=lT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function ZT(e,t){(e.Tc.get(t)||[]).forEach((function(e){e.resolve()})),e.Tc.delete(t)}function eC(e,t,n){var r=Sg(e),i=r.Ic[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ic[r.currentUser.toKey()]=i}}function tC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=T(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.dc.delete(a),n&&e.fc.vc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.yc.ps(t).forEach((function(t){e.yc.containsKey(t)||nC(e,t)}))}function nC(e,t){e.wc.delete(t.path.canonicalString());var n=e.mc.get(t);null!==n&&(TI(e.remoteStore,n),e.mc=e.mc.remove(t),e.gc.delete(n),aC(e))}function rC(e,t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof CT?(e.yc.addReference(a.key,t),iC(e,a)):a instanceof NT?(kg("SyncEngine","Document no longer in limbo: "+a.key),e.yc.removeReference(a.key,t),e.yc.containsKey(a.key)||nC(e,a.key)):Eg()}}catch(o){i.e(o)}finally{i.f()}}function iC(e,t){var n=t.key,r=n.path.canonicalString();e.mc.get(n)||e.wc.has(r)||(kg("SyncEngine","New document in limbo: "+n),e.wc.add(r),aC(e))}function aC(e){for(;e.wc.size>0&&e.mc.size<e.maxConcurrentLimboResolutions;){var t=e.wc.values().next().value;e.wc.delete(t);var n=new Qg(Hg.fromString(t)),r=e.Ec.next();e.gc.set(r,new RT(n)),e.mc=e.mc.insert(n,r),II(e.remoteStore,new FE(Aw(_w(n.path)),r,"TargetPurposeLimboResolution",bk.ct))}}function oC(e,t,n){return uC.apply(this,arguments)}function uC(){return uC=fn(cn().mark((function e(t,n,r){var i,a,o,u;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sg(t),a=[],o=[],u=[],e.t0=i.dc.isEmpty(),e.t0){e.next=9;break}return i.dc.forEach((function(e,t){u.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=IS.Bi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.fc.eu(a),e.next=9,function(){var e=fn(cn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return sk.forEach(n,(function(t){return sk.forEach(t.$i,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return sk.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),dk(e.t0)){e.next=10;break}throw e.t0;case 10:kg("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=T(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Hi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Hi=r.Hi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function sC(e,t){return cC.apply(this,arguments)}function cC(){return(cC=fn(cn().mark((function e(t,n){var r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Sg(t)).currentUser.isEqual(n)){e.next=11;break}return kg("SyncEngine","User change. New user:",n.toKey()),e.next=5,AS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Tc.forEach((function(e){e.forEach((function(e){e.reject(new Tg(Ig.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Tc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,oC(r,i.tr);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lC(e,t){var n=Sg(e),r=n.gc.get(t);if(r&&r.lc)return Yw().add(r.key);var i=Yw(),a=n._c.get(t);if(!a)return i;var o,u=T(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.dc.get(s);i=i.unionWith(c.view.ec)}}catch(l){u.e(l)}finally{u.f()}return i}function fC(e,t){return hC.apply(this,arguments)}function hC(){return(hC=fn(cn().mark((function e(t,n){var r,i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sg(t),e.next=3,US(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ac(i),e.abrupt("return",(r.isPrimaryClient&&rC(r,n.targetId,a.uc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dC(e,t){return pC.apply(this,arguments)}function pC(){return(pC=fn(cn().mark((function e(t,n){var r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sg(t),e.abrupt("return",zS(r.localStore,n).then((function(e){return oC(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vC(e,t,n,r){return mC.apply(this,arguments)}function mC(){return mC=fn(cn().mark((function e(t,n,r,i){var a,o;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Sg(t),e.next=3,function(e,t){var n=Sg(e),r=Sg(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):sk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,qI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(eC(a,n,i||null),ZT(a,n),function(e,t){Sg(Sg(e).mutationQueue).Dn(t)}(a.localStore,n)):Eg();case 11:return e.next=13,oC(a,o);case 13:e.next=16;break;case 15:kg("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),mC.apply(this,arguments)}function yC(e,t){return gC.apply(this,arguments)}function gC(){return(gC=fn(cn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(TC(r=Sg(t)),CC(r),!0!==n||!0===r.Ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,kC(r,i.toArray());case 5:return a=e.sent,r.Ac=!0,e.next=9,aT(r.remoteStore,!0);case 9:o=T(a);try{for(o.s();!(u=o.n()).done;)s=u.value,II(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Ac){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return tC(r,t),jS(r.localStore,t,!0)})),TI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,kC(r,c);case 21:return function(e){var t=Sg(e);t.gc.forEach((function(e,n){TI(t.remoteStore,n)})),t.yc.Is(),t.gc=new Map,t.mc=new nb(Qg.comparator)}(r),r.Ac=!1,e.next=25,aT(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kC(e,t,n){return bC.apply(this,arguments)}function bC(){return bC=fn(cn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Sg(t),a=[],o=[],u=T(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,FS(i.localStore,Aw(f[0]));case 11:l=e.sent,h=T(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.dc.get(p),e.next=20,fC(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,BS(i.localStore,c);case 36:return y=e.sent,e.next=39,FS(i.localStore,y);case 39:return l=e.sent,e.next=42,MT(i,wC(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.fc.eu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),bC.apply(this,arguments)}function wC(e){return Ew(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function xC(e){var t=Sg(e);return Sg(Sg(t.localStore).persistence).Mi()}function EC(e,t,n,r){return _C.apply(this,arguments)}function _C(){return _C=fn(cn().mark((function e(t,n,r,i){var a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Sg(t)).Ac){e.next=3;break}return e.abrupt("return",void kg("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,zS(a.localStore,Fw(o[0]));case 10:return u=e.sent,s=Qx.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,lb.EMPTY_BYTE_STRING),e.next=14,oC(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,jS(a.localStore,n,!0);case 17:return tC(a,n,i),e.abrupt("break",20);case 19:Eg();case 20:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}function SC(e,t,n){return IC.apply(this,arguments)}function IC(){return(IC=fn(cn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=TC(t)).Ac){e.next=45;break}a=T(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i._c.has(u)){e.next=10;break}return kg("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,BS(i.localStore,u);case 12:return s=e.sent,e.next=15,FS(i.localStore,s);case 15:return c=e.sent,e.next=18,MT(i,wC(s),c.targetId,!1,c.resumeToken);case 18:II(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=T(r),e.prev=30,h=cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,jS(i.localStore,t,!1).then((function(){TI(i.remoteStore,t),tC(i,t)})).catch(ok);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function TC(e){var t=Sg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HT.bind(null,t),t.fc.eu=bT.bind(null,t.eventManager),t.fc.vc=wT.bind(null,t.eventManager),t}function CC(e){var t=Sg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$T.bind(null,t),t}function NC(e,t,n){var r=Sg(e);(function(){var e=fn(cn().mark((function e(t,n,r){var i,a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Sg(e),r=fE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ls.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(TT(i)),a=new IT(i,t.localStore,n.serializer),e.next=15,n.Pc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ju(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.Pc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,oC(t,s.Hu,void 0);case 31:return e.next=33,function(e,t){var n=Sg(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ls.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Wu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(wg("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var AC=function(){function e(){d(this,e),this.synchronizeTabs=!1}return y(e,[{key:"initialize",value:function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=pI(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return NS(this.persistence,new TS,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new mS(gS.js,this.serializer)}},{key:"createSharedClientState",value:function(e){return new rI}},{key:"terminate",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),OC=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).bc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return y(n,[{key:"initialize",value:function(){var e=fn(cn().mark((function e(t){var r=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ao(b(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.bc.initialize(this,t);case 4:return e.next=6,CC(this.bc.syncEngine);case 6:return e.next=8,qI(this.bc.remoteStore);case 8:return e.next=10,this.persistence.pi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return NS(this.persistence,new TS,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new W_(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new kk(t,this.persistence);return new gk(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=SS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?O_.withCacheSize(this.cacheSizeBytes):O_.DEFAULT;return new xS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,hI(),dI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new rI}}]),n}(AC),RC=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).bc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return y(n,[{key:"initialize",value:function(){var e=fn(cn().mark((function e(t){var r,i=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ao(b(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.bc.syncEngine,e.t0=this.sharedClientState instanceof nI,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Qr:vC.bind(null,r),jr:EC.bind(null,r),zr:SC.bind(null,r),Mi:xC.bind(null,r),Gr:dC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.pi(function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yC(i.bc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=hI();if(!nI.D(t))throw new Tg(Ig.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=SS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nI(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(OC),DC=function(){function e(){d(this,e)}return y(e,[{key:"initialize",value:function(){var e=fn(cn().mark((function e(t,n){var r=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return KT(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=sC.bind(null,this.syncEngine),e.next=12,aT(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new vT}},{key:"createDatastore",value:function(e){var t,n=pI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new fI(t));return function(e,t,n,r){return new kI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return KT(o.syncEngine,e,0)},a=aI.D()?new aI:new iI,new wI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new DT(e,t,n,r,i,a);return o&&(u.Ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sg(t),kg("RemoteStore","RemoteStore shutting down."),n.Au.add(5),e.next=5,_I(n);case 5:n.vu.shutdown(),n.Pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function PC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return fn(cn().mark((function r(){var i;return cn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var LC=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return y(e,[{key:"next",value:function(e){this.observer.next&&this.Vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Vc(this.observer.error,e):bg("Uncaught Error in snapshot listener:",e.toString())}},{key:"Sc",value:function(){this.muted=!0}},{key:"Vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),MC=function(){function e(t,n){var r=this;d(this,e),this.Dc=t,this.serializer=n,this.metadata=new Cg,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then((function(e){e&&e.Gu()?r.metadata.resolve(e.Ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Ku))))}),(function(e){return r.metadata.reject(e)}))}return y(e,[{key:"close",value:function(){return this.Dc.cancel()}},{key:"getMetadata",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pc",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.xc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){var e=fn(cn().mark((function e(){var t,n,r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Nc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Cc.decode(t),r=Number(n),isNaN(r)&&this.kc("length string (".concat(n,") is not valid number")),e.next=9,this.Mc(r);case 9:return i=e.sent,e.abrupt("return",new _T(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Nc",value:function(){var e=fn(cn().mark((function e(){var t,n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.$c();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.kc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mc",value:function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.$c();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.kc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Cc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kc",value:function(e){throw this.Dc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"$c",value:function(){var e=fn(cn().mark((function e(){var t,n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Dc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),FC=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return y(e,[{key:"lookup",value:function(){var e=fn(cn().mark((function e(t){var n,r=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Tg(Ig.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=fn(cn().mark((function e(t,n){var r,i,a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sg(t),i=gE(r.serializer)+"/documents",a={documents:n.map((function(e){return pE(r.serializer,e)}))},e.next=5,r.Ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=xE(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());_g(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Rx(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=fn(cn().mark((function e(){var t,n=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Qg.fromPath(t);n.mutations.push(new Dx(r,n.precondition(r)))})),e.next=7,function(){var e=fn(cn().mark((function e(t,n){var r,i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sg(t),i=gE(r.serializer)+"/documents",a={writes:n.map((function(e){return EE(r.serializer,e)}))},e.next=3,r.po("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Eg();t=qg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Tg(Ig.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(qg.min())?yx.exists(!1):yx.updateTime(t):yx.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(qg.min()))throw new Tg(Ig.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yx.updateTime(t)}return yx.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),jC=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Fc=r.maxAttempts,this.Lo=new vI(this.asyncQueue,"transaction_retry")}return y(e,[{key:"run",value:function(){this.Fc-=1,this.Bc()}},{key:"Bc",value:function(){var e=this;this.Lo.xo(fn(cn().mark((function t(){var n,r;return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new FC(e.datastore),(r=e.Lc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.qc(t)}))}))})).catch((function(t){e.qc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Lc",value:function(e){try{var t=this.updateFunction(e);return!wk(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"qc",value:function(e){var t=this;this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Bc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Uc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!jx(t)}return!1}}]),e}(),VC=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vg.UNAUTHENTICATED,this.clientId=jg.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kg("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return kg("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return y(e,[{key:"getConfiguration",value:function(){var e=fn(cn().mark((function e(){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Tg(Ig.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Cg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(fn(cn().mark((function n(){var r;return cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=lT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function UC(e,t){return BC.apply(this,arguments)}function BC(){return BC=fn(cn().mark((function e(t,n){var r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),kg("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,AS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),BC.apply(this,arguments)}function zC(e,t){return qC.apply(this,arguments)}function qC(){return(qC=fn(cn().mark((function e(t,n){var r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,HC(t);case 3:return r=e.sent,kg("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return rT(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return rT(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KC(e){return"FirebaseError"===e.name?e.code===Ig.FAILED_PRECONDITION||e.code===Ig.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function HC(e){return WC.apply(this,arguments)}function WC(){return(WC=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return kg("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,UC(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),KC(n=e.t0)){e.next=13;break}throw n;case 13:return wg("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,UC(t,new AC);case 16:e.next=21;break;case 18:return kg("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,UC(t,new AC);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function GC(e){return QC.apply(this,arguments)}function QC(){return(QC=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return kg("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,zC(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return kg("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,zC(t,new DC);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $C(e){return HC(e).then((function(e){return e.persistence}))}function XC(e){return HC(e).then((function(e){return e.localStore}))}function YC(e){return GC(e).then((function(e){return e.remoteStore}))}function JC(e){return GC(e).then((function(e){return e.syncEngine}))}function ZC(e){return GC(e).then((function(e){return e.datastore}))}function eN(e){return tN.apply(this,arguments)}function tN(){return(tN=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GC(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=PT.bind(null,n.syncEngine),r.onUnlisten=jT.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Cg;return e.asyncQueue.enqueueAndForget(fn(cn().mark((function i(){return cn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new LC({next:function(a){t.enqueueAndForget((function(){return gT(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Tg(Ig.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Tg(Ig.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ET(_w(n.path),a,{includeMetadataChanges:!0,Uu:!0});return mT(e,o)},i.next=3,eN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function rN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Cg;return e.asyncQueue.enqueueAndForget(fn(cn().mark((function i(){return cn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new LC({next:function(n){t.enqueueAndForget((function(){return gT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Tg(Ig.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ET(n,a,{includeMetadataChanges:!0,Uu:!0});return mT(e,o)},i.next=3,eN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var iN=new Map;function aN(e,t,n){if(!n)throw new Tg(Ig.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function oN(e,t,n,r){if(!0===t&&!0===r)throw new Tg(Ig.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function uN(e){if(!Qg.isDocumentKey(e))throw new Tg(Ig.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sN(e){if(Qg.isDocumentKey(e))throw new Tg(Ig.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function cN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Eg()}function lN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tg(Ig.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cN(e);throw new Tg(Ig.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function fN(e,t){if(t<=0)throw new Tg(Ig.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var hN=function(){function e(t){var n;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Tg(Ig.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Tg(Ig.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling||void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}return y(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),dN=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hN({}),this._settingsFrozen=!1}return y(e,[{key:"app",get:function(){if(!this._app)throw new Tg(Ig.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Tg(Ig.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ag;switch(e.type){case"firstParty":return new Pg(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Tg(Ig.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=iN.get(e);t&&(kg("ComponentProvider","Removing Datastore"),iN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function pN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=lN(e,dN))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&wg("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=vg.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ti(JSON.stringify({alg:"none",type:"JWT"})),ti(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Tg(Ig.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new vg(s)}e._authCredentials=new Og(new Ng(o,u))}}var vN=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return y(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new yN(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),mN=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return y(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),yN=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,_w(i)))._path=i,a.type="collection",a}return y(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new vN(this.firestore,null,new Qg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(mN);function gN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ci(e),aN("collection","path",t),e instanceof dN){var a=Hg.fromString.apply(Hg,[t].concat(r));return sN(a),new yN(e,null,a)}if(!(e instanceof vN||e instanceof yN))throw new Tg(Ig.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Hg.fromString.apply(Hg,[t].concat(r)));return sN(o),new yN(e.firestore,null,o)}function kN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ci(e),1===arguments.length&&(t=jg.A()),aN("doc","path",t),e instanceof dN){var a=Hg.fromString.apply(Hg,[t].concat(r));return uN(a),new vN(e,null,new Qg(a))}if(!(e instanceof vN||e instanceof yN))throw new Tg(Ig.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Hg.fromString.apply(Hg,[t].concat(r)));return uN(o),new vN(e.firestore,e instanceof yN?e.converter:null,new Qg(o))}function bN(e,t){return e=Ci(e),t=Ci(t),(e instanceof vN||e instanceof yN)&&(t instanceof vN||t instanceof yN)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function wN(e,t){return e=Ci(e),t=Ci(t),e instanceof mN&&t instanceof mN&&e.firestore===t.firestore&&Dw(e._query,t._query)&&e.converter===t.converter}var xN=function(){function e(){var t=this;d(this,e),this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new vI(this,"async_queue_retry"),this.Yc=function(){var e=dI();e&&kg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Lo.ko()};var n=dI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Yc)}return y(e,[{key:"isShuttingDown",get:function(){return this.Qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Xc(),this.Zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;var t=dI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Xc(),this.Qc)return new Promise((function(){}));var n=new Cg;return this.Zc((function(){return t.Qc&&t.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Gc.push(e),t.ta()}))}},{key:"ta",value:function(){var e=fn(cn().mark((function e(){var t=this;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Gc.length){e.next=14;break}return e.prev=1,e.next=4,this.Gc[0]();case 4:this.Gc.shift(),this.Lo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),dk(e.t0)){e.next=12;break}throw e.t0;case 12:kg("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Gc.length>0&&this.Lo.xo((function(){return t.ta()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t=this,n=this.Kc.then((function(){return t.Wc=!0,e().catch((function(e){t.zc=e,t.Wc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw bg("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Wc=!1,e}))}));return this.Kc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);var i=cT.createAndSchedule(this,e,t,n,(function(e){return r.ea(e)}));return this.jc.push(i),i}},{key:"Xc",value:function(){this.zc&&Eg()}},{key:"verifyOperationInProgress",value:function(){}},{key:"na",value:function(){var e=fn(cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Kc,e.next=3,t;case 3:if(t!==this.Kc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sa",value:function(e){var t,n=T(this.jc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ia",value:function(e){var t=this;return this.na().then((function(){t.jc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=T(t.jc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.na()}))}},{key:"ra",value:function(e){this.Jc.push(e)}},{key:"ea",value:function(e){var t=this.jc.indexOf(e);this.jc.splice(t,1)}}]),e}();function EN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=T(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var _N=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new Cg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return y(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),SN=function(e){k(n,e);var t=E(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new xN,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return y(n,[{key:"_terminate",value:function(){return this._firestoreClient||TN(this),this._firestoreClient.terminate()}}]),n}(dN);function IN(e){return e._firestoreClient||TN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function TN(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new gb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new VC(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function CN(e,t,n){var r=new Cg;return e.asyncQueue.enqueue(fn(cn().mark((function i(){var a;return cn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,UC(e,n);case 3:return i.next=5,zC(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),KC(a=i.t0)){i.next=13;break}throw a;case 13:wg("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function NN(e){return function(e){return e.asyncQueue.enqueue(fn(cn().mark((function t(){var n,r;return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$C(e);case 2:return n=t.sent,t.next=5,YC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Sg(e);return t.Au.delete(0),xI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(IN(e=lN(e,SN)))}function AN(e){return function(e){return e.asyncQueue.enqueue(fn(cn().mark((function t(){var n,r;return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$C(e);case 2:return n=t.sent,t.next=5,YC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Sg(t)).Au.add(0),e.next=4,_I(n);case 4:n.Pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(IN(e=lN(e,SN)))}function ON(e,t){var n=IN(e=lN(e,SN)),r=new _N;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new MC(e,t)}(function(e,t){if(e instanceof Uint8Array)return PC(e,t);if(e instanceof ArrayBuffer)return PC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?zx().encode(e):e),t)}(n,pI(t));e.asyncQueue.enqueueAndForget(fn(cn().mark((function t(){return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=NC,t.next=3,JC(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function RN(e,t){return function(e,t){return e.asyncQueue.enqueue(fn(cn().mark((function n(){return cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Sg(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ls.getNamedQuery(e,t)}))},n.next=3,XC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(IN(e=lN(e,SN)),t).then((function(t){return t?new mN(e,null,t.query):null}))}function DN(e){if(e._initialized||e._terminated)throw new Tg(Ig.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var PN=function(){function e(t){d(this,e),this._byteString=t}return y(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(lb.fromBase64String(t))}catch(t){throw new Tg(Ig.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(lb.fromUint8Array(t))}}]),e}(),LN=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Tg(Ig.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gg(n)}return y(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var MN=y((function e(t){d(this,e),this._methodName=t})),FN=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new Tg(Ig.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Tg(Ig.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return y(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Vg(this._lat,e._lat)||Vg(this._long,e._long)}}]),e}(),jN=/^__.*__$/,VN=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ix(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sx(e,this.data,t,this.fieldTransforms)}}]),e}(),UN=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return new Ix(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function BN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Eg()}}var zN=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return y(e,[{key:"path",get:function(){return this.settings.path}},{key:"ua",get:function(){return this.settings.ua}},{key:"ca",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"aa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.la(e),r}},{key:"fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.oa(),r}},{key:"da",value:function(e){return this.ca({path:void 0,ha:!0})}},{key:"_a",value:function(e){return sA(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"oa",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.la(this.path.get(e))}},{key:"la",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(BN(this.ua)&&jN.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),qN=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||pI(t)}return y(e,[{key:"ga",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zN({ua:e,methodName:t,ma:n,path:Gg.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function KN(e){var t=e._freezeSettings(),n=pI(e._databaseId);return new qN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function HN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ga(a.merge||a.mergeFields?2:0,t,n,i);iA("Data must be an object, but it was:",o,r);var u,s,c=nA(r,o);if(a.merge)u=new sb(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=T(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=aA(t,l.value,n);if(!o.contains(d))throw new Tg(Ig.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));cA(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new sb(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new VN(new Bb(c),u,s)}var WN=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ua)throw 1===e.ua?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(MN);function GN(e,t,n){return new zN({ua:3,ma:t.settings.ma,methodName:e._methodName,ha:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var QN=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){return new vx(e.path,new ux)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(MN),$N=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).ya=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=GN(this,e,!0),n=this.ya.map((function(e){return tA(e,t)})),r=new sx(n);return new vx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(MN),XN=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).ya=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=GN(this,e,!0),n=this.ya.map((function(e){return tA(e,t)})),r=new lx(n);return new vx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(MN),YN=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).pa=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=new hx(e.serializer,nx(e.serializer,this.pa));return new vx(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(MN);function JN(e,t,n,r){var i=e.ga(1,t,n);iA("Data must be an object, but it was:",i,r);var a=[],o=Bb.empty();eb(r,(function(e,r){var u=uA(t,e,n);r=Ci(r);var s=i.fa(u);if(r instanceof WN)a.push(u);else{var c=tA(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new sb(a);return new UN(o,u,i.fieldTransforms)}function ZN(e,t,n,r,i,a){var o=e.ga(1,t,n),u=[aA(t,r,n)],s=[i];if(a.length%2!=0)throw new Tg(Ig.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(aA(t,a[c])),s.push(a[c+1]);for(var l=[],f=Bb.empty(),h=u.length-1;h>=0;--h)if(!cA(l,u[h])){var d=u[h],p=s[h];p=Ci(p);var v=o.fa(d);if(p instanceof WN)l.push(d);else{var m=tA(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new sb(l);return new UN(f,y,o.fieldTransforms)}function eA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tA(n,e.ga(r?4:3,t))}function tA(e,t){if(rA(e=Ci(e)))return iA("Unsupported field value:",t,e),nA(e,t);if(e instanceof MN)return function(e,t){if(!BN(t.ua))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=T(e);try{for(a.s();!(n=a.n()).done;){var o=tA(n.value,t.da(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ci(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nx(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=zg.fromDate(e);return{timestampValue:sE(t.serializer,n)}}if(e instanceof zg){var r=new zg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:sE(t.serializer,r)}}if(e instanceof FN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof PN)return{bytesValue:cE(t.serializer,e._byteString)};if(e instanceof vN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:hE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(cN(e)))}(e,t)}function nA(e,t){var n={};return tb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):eb(e,(function(e,r){var i=tA(r,t.aa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function rA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof zg||e instanceof FN||e instanceof PN||e instanceof vN||e instanceof MN)}function iA(e,t,n){if(!rA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=cN(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function aA(e,t,n){if((t=Ci(t))instanceof LN)return t._internalPath;if("string"==typeof t)return uA(e,t);throw sA("Field path arguments must be of type string or ",e,!1,void 0,n)}var oA=new RegExp("[~\\*/\\[\\]]");function uA(e,t,n){if(t.search(oA)>=0)throw sA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return _(LN,h(t.split(".")))._internalPath}catch(r){throw sA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sA(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Tg(Ig.INVALID_ARGUMENT,u+e+s)}function cA(e,t){return e.some((function(e){return e.isEqual(t)}))}var lA=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return y(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new vN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new fA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(hA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),fA=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){return ao(b(n.prototype),"data",this).call(this)}}]),n}(lA);function hA(e,t){return"string"==typeof t?uA(e,t):t instanceof LN?t._internalPath:t._delegate._internalPath}function dA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Tg(Ig.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pA=y((function e(){d(this,e)})),vA=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(pA);function mA(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof pA&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof gA})).length,n=e.filter((function(e){return e instanceof yA})).length;if(t>1||t>0&&n>0)throw new Tg(Ig.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=T(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var yA=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return y(n,[{key:"_apply",value:function(e){var t=this._parse(e);return AA(e._query,t),new mN(e.firestore,e.converter,Ow(e._query,t))}},{key:"_parse",value:function(e){var t=KN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Tg(Ig.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){NA(o,a);var s,c=[],l=T(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(CA(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=CA(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||NA(o,a),u=eA(n,"where",o,"in"===a||"not-in"===a);return Xb.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vA);var gA=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return y(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Yb.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=T(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;AA(r,a),r=Ow(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new mN(e.firestore,e.converter,Ow(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(pA);var kA=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return y(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Tg(Ig.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Tg(Ig.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Gb(t,n);return function(e,t){if(null===Iw(e)){var n=Tw(e);null!==n&&OA(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new mN(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new xw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(vA);var bA=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return y(n,[{key:"_apply",value:function(e){return new mN(e.firestore,e.converter,Rw(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vA);var wA=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=TA(e,this.type,this._docOrFields,this._inclusive);return new mN(e.firestore,e.converter,function(e,t){return new xw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vA);function xA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wA._create("startAt",t,!0)}function EA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wA._create("startAfter",t,!1)}var _A=function(e){k(n,e);var t=E(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=TA(e,this.type,this._docOrFields,this._inclusive);return new mN(e.firestore,e.converter,function(e,t){return new xw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vA);function SA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _A._create("endBefore",t,!1)}function IA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _A._create("endAt",t,!0)}function TA(e,t,n,r){if(n[0]=Ci(n[0]),n[0]instanceof lA)return function(e,t,n,r,i){if(!r)throw new Tg(Ig.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=T(Nw(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Nb(t,r.key));else{var c=r.data.field(s.field);if(vb(c))throw new Tg(Ig.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Tg(Ig.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Kb(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=KN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Tg(Ig.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Tg(Ig.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Cw(e)&&-1!==c.indexOf("/"))throw new Tg(Ig.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Hg.fromString(c));if(!Qg.isDocumentKey(l))throw new Tg(Ig.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Qg(l);u.push(Nb(t,f))}else{var h=eA(n,r,c);u.push(h)}}return new Kb(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function CA(e,t,n){if("string"==typeof(n=Ci(n))){if(""===n)throw new Tg(Ig.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cw(t)&&-1!==n.indexOf("/"))throw new Tg(Ig.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Hg.fromString(n));if(!Qg.isDocumentKey(r))throw new Tg(Ig.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Nb(e,new Qg(r))}if(n instanceof vN)return Nb(e,n._key);throw new Tg(Ig.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(cN(n),"."))}function NA(e,t){if(!Array.isArray(e)||0===e.length)throw new Tg(Ig.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function AA(e,t){if(t.isInequality()){var n=Tw(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Tg(Ig.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Iw(e);null!==i&&OA(e,r,i)}var a=function(e,t){var n,r=T(e);try{for(r.s();!(n=r.n()).done;){var i,a=T(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Tg(Ig.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Tg(Ig.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function OA(e,t,n){if(!n.isEqual(t))throw new Tg(Ig.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var RA=function(){function e(){d(this,e)}return y(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(xb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return db(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Eg()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return eb(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new FN(db(e.latitude),db(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=mb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=hb(e);return new zg(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Hg.fromString(e);_g(ME(n));var r=new kb(n.get(1),n.get(3)),i=new Qg(n.popFirst(5));return r.isEqual(t)||bg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function DA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var PA=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new PN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vN(this.firestore,null,t)}}]),n}(RA);var LA=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return y(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),MA=function(e){k(n,e);var t=E(n);function n(e,r,i,a,o,u){var s;return d(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return y(n,[{key:"exists",value:function(){return ao(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new FA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(hA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(lA),FA=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ao(b(n.prototype),"data",this).call(this,e)}}]),n}(MA),jA=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new LA(i.hasPendingWrites,i.fromCache),this.query=r}return y(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new FA(n._firestore,n._userDataWriter,r.key,r,new LA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Tg(Ig.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new FA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new LA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new FA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new LA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:VA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function VA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Eg()}}function UA(e,t){return e instanceof MA&&t instanceof MA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jA&&t instanceof jA&&e._firestore===t._firestore&&wN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var BA=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new PN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vN(this.firestore,null,t)}}]),n}(RA);function zA(e){e=lN(e,vN);var t=lN(e.firestore,SN),n=IN(t),r=new BA(t);return function(e,t){var n=new Cg;return e.asyncQueue.enqueueAndForget(fn(cn().mark((function r(){return cn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=fn(cn().mark((function e(t,n,r){var i,a;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Sg(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Tg(Ig.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=lT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,XC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new MA(t,r,e._key,n,new LA(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function qA(e){e=lN(e,mN);var t=lN(e.firestore,SN),n=IN(t),r=new BA(t);return function(e,t){var n=new Cg;return e.asyncQueue.enqueueAndForget(fn(cn().mark((function r(){return cn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=fn(cn().mark((function e(t,n,r){var i,a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,US(t,n,!0);case 3:i=e.sent,a=new AT(n,i.sr),o=a.nc(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=lT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,XC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new jA(t,r,e,n)}))}function KA(e,t,n){e=lN(e,vN);var r=lN(e.firestore,SN),i=DA(e.converter,t,n);return QA(r,[HN(KN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,yx.none())])}function HA(e,t,n){e=lN(e,vN);for(var r=lN(e.firestore,SN),i=KN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return QA(r,[("string"==typeof(t=Ci(t))||t instanceof LN?ZN(i,"updateDoc",e._key,t,n,o):JN(i,"updateDoc",e._key,t)).toMutation(e._key,yx.exists(!0))])}function WA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ci(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||EN(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(EN(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof vN)l=lN(e.firestore,SN),f=_w(e._key.path),c={next:function(t){n[s]&&n[s]($A(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=lN(e,mN);l=lN(p.firestore,SN),f=p._query;var v=new BA(l);c={next:function(e){n[s]&&n[s](new jA(l,v,p,e))},error:n[s+1],complete:n[s+2]},dA(e._query)}return function(e,t,n,r){var i=new LC(r),a=new ET(t,i,n);return e.asyncQueue.enqueueAndForget(fn(cn().mark((function t(){return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=mT,t.next=3,eN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Sc(),e.asyncQueue.enqueueAndForget(fn(cn().mark((function t(){return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=gT,t.next=3,eN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(IN(l),f,h,c)}function GA(e,t){return function(e,t){var n=new LC(t);return e.asyncQueue.enqueueAndForget(fn(cn().mark((function t(){return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Sg(e).Nu.add(t),t.next()},t.next=3,eN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Sc(),e.asyncQueue.enqueueAndForget(fn(cn().mark((function t(){return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Sg(e).Nu.delete(t)},t.next=3,eN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(IN(e=lN(e,SN)),EN(t)?t:{next:t})}function QA(e,t){return function(e,t){var n=new Cg;return e.asyncQueue.enqueueAndForget(fn(cn().mark((function r(){return cn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=UT,r.next=3,JC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(IN(e),t)}function $A(e,t,n){var r=n.docs.get(t._key),i=new BA(e);return new MA(e,i,t._key,r,new LA(n.hasPendingWrites,n.fromCache),t.converter)}var XA={maxAttempts:5},YA=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=KN(t)}return y(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=JA(e,this._firestore),i=DA(r.converter,t,n),a=HN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,yx.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=JA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ci(t))||t instanceof LN?ZN(this._dataReader,"WriteBatch.update",i._key,t,n,o):JN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,yx.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=JA(e,this._firestore);return this._mutations=this._mutations.concat(new Rx(t._key,yx.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Tg(Ig.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function JA(e,t){if((e=Ci(e)).firestore!==t)throw new Tg(Ig.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ZA=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return y(n,[{key:"get",value:function(e){var t=this,r=JA(e,this._firestore),i=new BA(this._firestore);return ao(b(n.prototype),"get",this).call(this,e).then((function(e){return new MA(t._firestore,i,r._key,e._document,new LA(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=KN(t)}return y(e,[{key:"get",value:function(e){var t=this,n=JA(e,this._firestore),r=new PA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Eg();var i=e[0];if(i.isFoundDocument())return new lA(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lA(t._firestore,r,n._key,null,n.converter);throw Eg()}))}},{key:"set",value:function(e,t,n){var r=JA(e,this._firestore),i=DA(r.converter,t,n),a=HN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=JA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ci(t))||t instanceof LN?ZN(this._dataReader,"Transaction.update",i._key,t,n,o):JN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=JA(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function eO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $N("arrayUnion",t)}function tO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new XN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){mg=e}(Ea),ma(new Ni("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new SN(new Rg(e.getProvider("auth-internal")),new Mg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Tg(Ig.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kb(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Na(pg,"3.11.0",e),Na(pg,"3.11.0","esm2017")}();var nO="@firebase/firestore-compat",rO="0.3.8";function iO(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Tg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function aO(){if("undefined"===typeof Uint8Array)throw new Tg("unimplemented","Uint8Arrays are not available in this environment.")}function oO(){if("undefined"==typeof atob)throw new Tg("unimplemented","Blobs are unavailable in Firestore in this environment.")}var uO=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"toBase64",value:function(){return oO(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return aO(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return oO(),new e(PN.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return aO(),new e(PN.fromUint8Array(t))}}]),e}();function sO(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=T(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var cO=function(){function e(){d(this,e)}return y(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){DN(e=lN(e,SN));var n=IN(e);if(n._uninitializedComponentsProvider)throw new Tg(Ig.FAILED_PRECONDITION,"SDK cache is already specified.");wg("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new DC;return CN(n,i,new OC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){DN(e=lN(e,SN));var t=IN(e);if(t._uninitializedComponentsProvider)throw new Tg(Ig.FAILED_PRECONDITION,"SDK cache is already specified.");wg("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new DC;return CN(t,r,new RC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Tg(Ig.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Cg;return e._queue.enqueueAndForgetEvenWhileRestricted(fn(cn().mark((function n(){return cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lk.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,lk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(SS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),lO=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof kb||(this._appCompat=t)}return y(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||wg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};pN(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return NN(this._delegate)}},{key:"disableNetwork",value:function(){return AN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&oN("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new Cg;return e.asyncQueue.enqueueAndForget(fn(cn().mark((function n(){return cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=YT,n.next=3,JC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(IN(lN(this._delegate,SN)))}},{key:"onSnapshotsInSync",value:function(e){return GA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Tg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new _O(this,gN(this._delegate,e))}catch(t){throw mO(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new vO(this,kN(this._delegate,e))}catch(t){throw mO(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new wO(this,function(e,t){if(e=lN(e,dN),aN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Tg(Ig.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new mN(e,null,function(e){return new xw(Hg.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw mO(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=lN(e,SN);var r=Object.assign(Object.assign({},XA),n);return function(e){if(e.maxAttempts<1)throw new Tg(Ig.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Cg;return e.asyncQueue.enqueueAndForget(fn(cn().mark((function i(){var a;return cn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ZC(e);case 2:a=i.sent,new jC(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(IN(e),(function(n){return t(new ZA(e,n))}),r)}(this._delegate,(function(n){return e(new hO(t,n))}))}},{key:"batch",value:function(){var e=this;return IN(this._delegate),new dO(new YA(this._delegate,(function(t){return QA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return ON(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return RN(this._delegate,e).then((function(e){return e?new wO(t,e):null}))}}]),e}(),fO=function(e){k(n,e);var t=E(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new uO(new PN(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return vO.forKey(t,this.firestore,null)}}]),n}(RA);var hO=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new fO(t)}return y(e,[{key:"get",value:function(e){var t=this,n=SO(e);return this._delegate.get(n).then((function(e){return new kO(t._firestore,new MA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=SO(e);return n?(iO("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=SO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SO(e);return this._delegate.delete(t),this}}]),e}(),dO=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"set",value:function(e,t,n){var r=SO(e);return n?(iO("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=SO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SO(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),pO=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return y(e,[{key:"fromFirestore",value:function(e,t){var n=new FA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bO(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new fO(t),n),i.set(n,a)),a}}]),e}();pO.INSTANCES=new WeakMap;var vO=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new fO(t)}return y(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new _O(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new _O(this.firestore,gN(this._delegate,e))}catch(t){throw mO(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ci(e))instanceof vN&&bN(this._delegate,e)}},{key:"set",value:function(e,t){t=iO("DocumentReference.set",t);try{return t?KA(this._delegate,e,t):KA(this._delegate,e)}catch(n){throw mO(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?HA(this._delegate,e):HA.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw mO(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return QA(lN((e=this._delegate).firestore,SN),[new Rx(e._key,yx.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=yO(n),a=gO(n,(function(t){return new kO(e.firestore,new MA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return WA(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?zA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=lN(e,vN);var t=lN(e.firestore,SN);return nN(IN(t),e._key,{source:"server"}).then((function(n){return $A(t,e,n)}))}(this._delegate):function(e){e=lN(e,vN);var t=lN(e.firestore,SN);return nN(IN(t),e._key).then((function(n){return $A(t,e,n)}))}(this._delegate)).then((function(e){return new kO(t.firestore,new MA(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(pO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Tg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new vN(n._delegate,r,new Qg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new vN(n._delegate,r,t))}}]),e}();function mO(e,t,n){return e.message=e.message.replace(t,n),e}function yO(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!sO(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function gO(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=sO(e[0])?e[0]:sO(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var kO=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"ref",get:function(){return new vO(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return UA(this._delegate,e._delegate)}}]),e}(),bO=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||Eg(),t}}]),n}(kO),wO=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new fO(t)}return y(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,mA(this._delegate,function(e,t,n){var r=t,i=hA("where",e);return yA._create(i,r,n)}(t,n,r)))}catch(i){throw mO(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,mA(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=hA("orderBy",e);return kA._create(n,t)}(t,n)))}catch(r){throw mO(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,mA(this._delegate,(fN("limit",n=t),bA._create("limit",n,"F"))))}catch(r){throw mO(r,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,mA(this._delegate,(fN("limitToLast",n=t),bA._create("limitToLast",n,"L"))))}catch(r){throw mO(r,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,mA(this._delegate,xA.apply(void 0,arguments)))}catch(t){throw mO(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,mA(this._delegate,EA.apply(void 0,arguments)))}catch(t){throw mO(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,mA(this._delegate,SA.apply(void 0,arguments)))}catch(t){throw mO(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,mA(this._delegate,IA.apply(void 0,arguments)))}catch(t){throw mO(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return wN(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?qA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=lN(e,mN);var t=lN(e.firestore,SN),n=IN(t),r=new BA(t);return rN(n,e._query,{source:"server"}).then((function(n){return new jA(t,r,e,n)}))}(this._delegate):function(e){e=lN(e,mN);var t=lN(e.firestore,SN),n=IN(t),r=new BA(t);return dA(e._query),rN(n,e._query).then((function(n){return new jA(t,r,e,n)}))}(this._delegate)).then((function(e){return new EO(t.firestore,new jA(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=yO(n),a=gO(n,(function(t){return new EO(e.firestore,new jA(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return WA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(pO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),xO=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new bO(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),EO=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"query",get:function(){return new wO(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new bO(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new xO(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new bO(n._firestore,r))}))}},{key:"isEqual",value:function(e){return UA(this._delegate,e._delegate)}}]),e}(),_O=function(e){k(n,e);var t=E(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return y(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new vO(this.firestore,e):null}},{key:"doc",value:function(e){try{return new vO(this.firestore,void 0===e?kN(this._delegate):kN(this._delegate,e))}catch(t){throw mO(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=lN(e.firestore,SN),r=kN(e),i=DA(e.converter,t);return QA(n,[HN(KN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,yx.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new vO(t.firestore,e)}))}},{key:"isEqual",value:function(e){return bN(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(pO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(wO);function SO(e){return lN(e,vN)}var IO=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=_(LN,n)}return y(e,[{key:"isEqual",value:function(e){return(e=Ci(e))instanceof LN&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Gg.keyField().canonicalString())}}]),e}(),TO=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new QN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new WN("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=eO.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=tO.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new YN("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),CO={Firestore:lO,GeoPoint:FN,Timestamp:zg,Blob:uO,Transaction:hO,WriteBatch:dO,DocumentReference:vO,DocumentSnapshot:kO,Query:wO,QueryDocumentSnapshot:bO,QuerySnapshot:EO,CollectionReference:_O,FieldPath:IO,FieldValue:TO,setLogLevel:function(e){var t;t=e,yg.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ni("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},CO)))}(e,(function(e,t){return new lO(e,t,new cO)})),e.registerVersion(nO,rO)}(io);io.initializeApp({apiKey:"AIzaSyCOGJM2mrvbnzqzVjd71qn4fzG7Hbqyrrk",authDomain:"dr2023-67710.firebaseapp.com",projectId:"dr2023-67710",storageBucket:"dr2023-67710.appspot.com",messagingSenderId:"808367955073",appId:"1:808367955073:web:c558204b50e1257eae8180"});var NO=io;function AO(){return OO.apply(this,arguments)}function OO(){return OO=fn(cn().mark((function e(){var t=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.length>0&&void 0!==t[0]?t[0]:"Piano",e.next=3,NO.firestore().collection("productos").get();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),OO.apply(this,arguments)}function RO(e){return DO.apply(this,arguments)}function DO(){return DO=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NO.firestore().doc("productos/".concat(t)).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),DO.apply(this,arguments)}function PO(e){return LO.apply(this,arguments)}function LO(){return(LO=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NO.firestore().collection("productos").add(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MO(e,t){return FO.apply(this,arguments)}function FO(){return FO=fn(cn().mark((function e(t,n){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NO.firestore().doc("productos/".concat(t)).set(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),FO.apply(this,arguments)}function jO(e){return VO.apply(this,arguments)}function VO(){return VO=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NO.firestore().doc("productos/".concat(t)).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),VO.apply(this,arguments)}var UO=function(){var e=l((0,r.useState)(!0),2),t=e[0],n=e[1],i=l((0,r.useState)([]),2),a=i[0],o=i[1],u=l((0,r.useState)("piano"),2),s=u[0],c=u[1];return(0,r.useEffect)((function(){var e=function(){var e=fn(cn().mark((function e(){var t;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,AO(s);case 3:t=e.sent,console.log("~ file:Productos.jsx:25 ~request ~ response:",t.docs),o(t.docs),n(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("ERROR"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[s]),{productos:a,loading:t,buscar:s,setBuscar:c}};var BO=function(){var e=UO(),t=e.productos,n=e.loading,r=e.buscar,i=e.setBuscar;return(0,ot.jsxs)(sn,{loading:n,children:[(0,ot.jsx)(en,{buscar:r,handleChange:function(e){var t=e.target.value;console.log("\ud83d\ude80 ~ file: Productos.jsx:38 ~ handleChange ~ value:",t),i(t)}}),(0,ot.jsx)("h1",{style:{padding:"20px",display:"flex",justifyContent:"center"},children:"Listado de productos"}),(0,ot.jsx)(rn,{children:t.map((function(e){return(0,ot.jsx)("div",{className:"contenedor-producto",children:(0,ot.jsx)(Zt,{id:e.id,nombre:e.data().title,precio:"$ ".concat(e.data().price),thumbnail:e.data().thumbnail,comment:e.data().comment})},e.id)}))})]})},zO={title:"home_title__3yI1Z"};var qO=function(){return(0,ot.jsxs)("div",{children:[(0,ot.jsx)("fieldset",{}),(0,ot.jsx)("h1",{className:zO.title,children:"Home"}),(0,ot.jsx)(BO,{})]})},KO=["name"],HO=["_f"],WO=["_f"],GO=function(e){return"checkbox"===e.type},QO=function(e){return e instanceof Date},$O=function(e){return null==e},XO=function(e){return"object"===typeof e},YO=function(e){return!$O(e)&&!Array.isArray(e)&&XO(e)&&!QO(e)},JO=function(e){return YO(e)&&e.target?GO(e.target)?e.target.checked:e.target.value:e},ZO=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},eR=function(e){var t=e.constructor&&e.constructor.prototype;return YO(t)&&t.hasOwnProperty("isPrototypeOf")},tR="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function nR(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(tR&&(e instanceof Blob||e instanceof FileList)||!n&&!YO(e))return e;if(t=n?[]:{},Array.isArray(e)||eR(e))for(var r in e)t[r]=nR(e[r]);else t=e}return t}var rR=function(e){return Array.isArray(e)?e.filter(Boolean):[]},iR=function(e){return void 0===e},aR=function(e,t,n){if(!t||!YO(e))return n;var r=rR(t.split(/[,[\].]+?/)).reduce((function(e,t){return $O(e)?e:e[t]}),e);return iR(r)||r===e?iR(e[t])?n:e[t]:r},oR={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},uR={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},sR={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},cR=(r.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==uR.all&&(t._proxyFormState[i]=!r||uR.all),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),lR=function(e){return YO(e)&&!Object.keys(e).length},fR=function(e,t,n,r){n(e);e.name;var i=rt(e,KO);return lR(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((function(e){return t[e]===(!r||uR.all)}))},hR=function(e){return Array.isArray(e)?e:[e]};function dR(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){var n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return function(){n&&n.unsubscribe()}}),[e.disabled])}var pR=function(e){return"string"===typeof e},vR=function(e,t,n,r,i){return pR(e)?(r&&t.watch.add(e),aR(n,e,i)):Array.isArray(e)?e.map((function(e){return r&&t.watch.add(e),aR(n,e)})):(r&&(t.watchAll=!0),n)};var mR=function(e){return/^\w*$/.test(e)},yR=function(e){return rR(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function gR(e,t,n){for(var r=-1,i=mR(t)?[t]:yR(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var c=e[u];s=YO(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var kR=function(e,t,n,r,i){return t?tt(tt({},n[e]),{},{types:tt(tt({},n[e]&&n[e].types?n[e].types:{}),{},Ze({},r,i||!0))}):{}},bR=function e(t,n,r){var i,a=T(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=aR(t,o);if(u){var s=u._f,c=rt(u,HO);if(s&&n(s.name)){if(s.ref.focus){s.ref.focus();break}if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else YO(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},wR=function(e){return{isOnSubmit:!e||e===uR.onSubmit,isOnBlur:e===uR.onBlur,isOnChange:e===uR.onChange,isOnAll:e===uR.all,isOnTouch:e===uR.onTouched}},xR=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||h(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},ER=function(e,t,n){var r=rR(aR(e,n));return gR(r,"root",t[n]),gR(e,n,r),e},_R=function(e){return"boolean"===typeof e},SR=function(e){return"file"===e.type},IR=function(e){return"function"===typeof e},TR=function(e){if(!tR)return!1;var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},CR=function(e){return pR(e)},NR=function(e){return"radio"===e.type},AR=function(e){return e instanceof RegExp},OR={value:!1,isValid:!1},RR={value:!0,isValid:!0},DR=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!iR(e[0].attributes.value)?iR(e[0].value)||""===e[0].value?RR:{value:e[0].value,isValid:!0}:RR:OR}return OR},PR={isValid:!1,value:null},LR=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),PR):PR};function MR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(CR(e)||Array.isArray(e)&&e.every(CR)||_R(e)&&!e)return{type:n,message:CR(e)?e:"",ref:t}}var FR=function(e){return YO(e)&&!AR(e)?e:{value:e,message:""}},jR=function(){var e=fn(cn().mark((function e(t,n,r,i,a){var o,u,s,c,l,f,h,d,p,v,m,y,g,k,b,w,x,E,_,S,I,T,C,N,A,O,R,D,P,L,M,F,j,V,U,B,z,q,K,H,W,G,Q,$,X,Y,J,Z;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,u=o.ref,s=o.refs,c=o.required,l=o.maxLength,f=o.minLength,h=o.min,d=o.max,p=o.pattern,v=o.validate,m=o.name,y=o.valueAsNumber,g=o.mount,k=o.disabled,b=aR(n,m),g&&!k){e.next=4;break}return e.abrupt("return",{});case 4:if(w=s?s[0]:u,x=function(e){i&&w.reportValidity&&(w.setCustomValidity(_R(e)?"":e||""),w.reportValidity())},E={},_=NR(u),S=GO(u),I=_||S,T=(y||SR(u))&&iR(u.value)&&iR(b)||TR(u)&&""===u.value||""===b||Array.isArray(b)&&!b.length,C=kR.bind(null,m,r,E),N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sR.maxLength,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sR.minLength,a=e?t:n;E[m]=tt({type:e?r:i,message:a,ref:u},C(e?r:i,a))},!(a?!Array.isArray(b)||!b.length:c&&(!I&&(T||$O(b))||_R(b)&&!b||S&&!DR(s).isValid||_&&!LR(s).isValid))){e.next=20;break}if(A=CR(c)?{value:!!c,message:c}:FR(c),O=A.value,R=A.message,!O){e.next=20;break}if(E[m]=tt({type:sR.required,message:R,ref:w},C(sR.required,R)),r){e.next=20;break}return x(R),e.abrupt("return",E);case 20:if(T||$O(h)&&$O(d)){e.next=29;break}if(L=FR(d),M=FR(h),$O(b)||isNaN(b)?(j=u.valueAsDate||new Date(b),V=function(e){return new Date((new Date).toDateString()+" "+e)},U="time"==u.type,B="week"==u.type,pR(L.value)&&b&&(D=U?V(b)>V(L.value):B?b>L.value:j>new Date(L.value)),pR(M.value)&&b&&(P=U?V(b)<V(M.value):B?b<M.value:j<new Date(M.value))):(F=u.valueAsNumber||(b?+b:b),$O(L.value)||(D=F>L.value),$O(M.value)||(P=F<M.value)),!D&&!P){e.next=29;break}if(N(!!D,L.message,M.message,sR.max,sR.min),r){e.next=29;break}return x(E[m].message),e.abrupt("return",E);case 29:if(!l&&!f||T||!(pR(b)||a&&Array.isArray(b))){e.next=39;break}if(z=FR(l),q=FR(f),K=!$O(z.value)&&b.length>+z.value,H=!$O(q.value)&&b.length<+q.value,!K&&!H){e.next=39;break}if(N(K,z.message,q.message),r){e.next=39;break}return x(E[m].message),e.abrupt("return",E);case 39:if(!p||T||!pR(b)){e.next=46;break}if(W=FR(p),G=W.value,Q=W.message,!AR(G)||b.match(G)){e.next=46;break}if(E[m]=tt({type:sR.pattern,message:Q,ref:u},C(sR.pattern,Q)),r){e.next=46;break}return x(Q),e.abrupt("return",E);case 46:if(!v){e.next=80;break}if(!IR(v)){e.next=59;break}return e.next=50,v(b,n);case 50:if($=e.sent,!(X=MR($,w))){e.next=57;break}if(E[m]=tt(tt({},X),C(sR.validate,X.message)),r){e.next=57;break}return x(X.message),e.abrupt("return",E);case 57:e.next=80;break;case 59:if(!YO(v)){e.next=80;break}Y={},e.t0=cn().keys(v);case 62:if((e.t1=e.t0()).done){e.next=76;break}if(J=e.t1.value,lR(Y)||r){e.next=66;break}return e.abrupt("break",76);case 66:return e.t2=MR,e.next=69,v[J](b,n);case 69:e.t3=e.sent,e.t4=w,e.t5=J,(Z=(0,e.t2)(e.t3,e.t4,e.t5))&&(Y=tt(tt({},Z),C(J,Z.message)),x(Z.message),r&&(E[m]=Y)),e.next=62;break;case 76:if(lR(Y)){e.next=80;break}if(E[m]=tt({ref:w},Y),r){e.next=80;break}return e.abrupt("return",E);case 80:return x(!0),e.abrupt("return",E);case 82:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();function VR(e,t){var n=Array.isArray(t)?t:mR(t)?[t]:yR(t),r=1===n.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=iR(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(YO(r)&&lR(r)||Array.isArray(r)&&function(e){for(var t in e)if(!iR(e[t]))return!1;return!0}(r))&&VR(e,n.slice(0,-1)),e}function UR(){var e=[];return{get observers(){return e},next:function(t){var n,r=T(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.next&&i.next(t)}}catch(a){r.e(a)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var BR=function(e){return $O(e)||!XO(e)};function zR(e,t){if(BR(e)||BR(t))return e===t;if(QO(e)&&QO(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(QO(u)&&QO(s)||YO(u)&&YO(s)||Array.isArray(u)&&Array.isArray(s)?!zR(u,s):u!==s)return!1}}return!0}var qR=function(e){return"select-multiple"===e.type},KR=function(e){return NR(e)||GO(e)},HR=function(e){return TR(e)&&e.isConnected},WR=function(e){for(var t in e)if(IR(e[t]))return!0;return!1};function GR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(YO(e)||n)for(var r in e)Array.isArray(e[r])||YO(e[r])&&!WR(e[r])?(t[r]=Array.isArray(e[r])?[]:{},GR(e[r],t[r])):$O(e[r])||(t[r]=!0);return t}function QR(e,t,n){var r=Array.isArray(e);if(YO(e)||r)for(var i in e)Array.isArray(e[i])||YO(e[i])&&!WR(e[i])?iR(t)||BR(n[i])?n[i]=Array.isArray(e[i])?GR(e[i],[]):tt({},GR(e[i])):QR(e[i],$O(t)?{}:t[i],n[i]):n[i]=!zR(e[i],t[i]);return n}var $R=function(e,t){return QR(e,t,GR(t))},XR=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return iR(e)?e:n?""===e?NaN:e?+e:e:r&&pR(e)?new Date(e):i?i(e):e};function YR(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return SR(t)?t.files:NR(t)?LR(e.refs).value:qR(t)?h(t.selectedOptions).map((function(e){return e.value})):GO(t)?DR(e.refs).value:XR(iR(t.value)?e.ref.value:t.value,e)}var JR=function(e,t,n,r){var i,a={},o=T(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=aR(t,u);s&&gR(a,u,s._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:h(e),fields:a,shouldUseNativeValidation:r}},ZR=function(e){return iR(e)?e:AR(e)?e.source:YO(e)?AR(e.value)?e.value.source:e.value:e},eD=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function tD(e,t,n){var r=aR(e,n);if(r||mR(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=aR(t,a),u=aR(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var nD=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},rD=function(e,t){return!rR(aR(e,t)).length&&VR(e,t)},iD={mode:uR.onSubmit,reValidateMode:uR.onChange,shouldFocusError:!0};function aD(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=tt(tt({},iD),t),i={submitCount:0,isDirty:!1,isLoading:IR(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=(YO(r.defaultValues)||YO(r.values))&&nR(r.defaultValues||r.values)||{},u=r.shouldUnregister?{}:nR(o),s={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l=0,f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:UR(),array:UR(),state:UR()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,v=wR(r.mode),m=wR(r.reValidateMode),y=r.criteriaMode===uR.all,g=function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.isValid&&!t){e.next=14;break}if(!r.resolver){e.next=9;break}return e.t1=lR,e.next=5,E();case 5:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=12;break;case 9:return e.next=11,S(a,!0);case 11:e.t0=e.sent;case 12:(n=e.t0)!==i.isValid&&d.state.next({isValid:n});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){return f.isValidating&&d.state.next({isValidating:e})},b=function(e,t,n,r){var i=aR(a,e);if(i){var c=aR(u,e,iR(n)?aR(o,e):n);iR(c)||r&&r.defaultChecked||t?gR(u,e,t?c:YR(i._f)):N(e,c),s.mount&&g()}},w=function(e,t,n,r,a){var u=!1,s=!1,c={name:e};if(!n||r){f.isDirty&&(s=i.isDirty,i.isDirty=c.isDirty=I(),u=s!==c.isDirty);var l=zR(aR(o,e),t);s=aR(i.dirtyFields,e),l?VR(i.dirtyFields,e):gR(i.dirtyFields,e,!0),c.dirtyFields=i.dirtyFields,u=u||f.dirtyFields&&s!==!l}if(n){var h=aR(i.touchedFields,e);h||(gR(i.touchedFields,e,n),c.touchedFields=i.touchedFields,u=u||f.touchedFields&&h!==n)}return u&&a&&d.state.next(c),u?c:{}},x=function(n,r,a,o){var u=aR(i.errors,n),s=f.isValid&&_R(r)&&i.isValid!==r;if(t.delayError&&a?(e=function(e){return function(t){clearTimeout(l),l=setTimeout(e,t)}}((function(){return function(e,t){gR(i.errors,e,t),d.state.next({errors:i.errors})}(n,a)})),e(t.delayError)):(clearTimeout(l),e=null,a?gR(i.errors,n,a):VR(i.errors,n)),(a?!zR(u,a):u)||!lR(o)||s){var c=tt(tt(tt({},o),s&&_R(r)?{isValid:r}:{}),{},{errors:i.errors,name:n});i=tt(tt({},i),c),d.state.next(c)}k(!1)},E=function(){var e=fn(cn().mark((function e(t){return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.resolver(u,r.context,JR(t||c.mount,a,r.criteriaMode,r.shouldUseNativeValidation)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=fn(cn().mark((function e(t){var n,r,a,o,u,s;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:if(n=e.sent,r=n.errors,t){a=T(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=aR(r,u))?gR(i.errors,u,s):VR(i.errors,u)}catch(c){a.e(c)}finally{a.f()}}else i.errors=r;return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=fn(cn().mark((function e(t,n){var a,o,s,l,f,h,d,p=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=cn().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(o=e.t1.value,!(s=t[o])){e.next=21;break}if(l=s._f,f=rt(s,WO),!l){e.next=17;break}return h=c.array.has(l.name),e.next=11,jR(s,u,y,r.shouldUseNativeValidation&&!n,h);case 11:if(!(d=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!n){e.next=16;break}return e.abrupt("break",23);case 16:!n&&(aR(d,l.name)?h?ER(i.errors,d,l.name):gR(i.errors,l.name,d[l.name]):VR(i.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,S(f,n,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(e,t){return e&&t&&gR(u,e,t),!zR(P(),o)},C=function(e,t,n){return vR(e,c,tt({},s.mount?u:iR(t)?o:pR(e)?Ze({},e,t):t),n,t)},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=aR(a,e),i=t;if(r){var o=r._f;o&&(!o.disabled&&gR(u,e,XR(t,o)),i=TR(o.ref)&&$O(t)?"":t,qR(o.ref)?h(o.ref.options).forEach((function(e){return e.selected=i.includes(e.value)})):o.refs?GO(o.ref)?o.refs.length>1?o.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((function(t){return t===e.value})):i===e.value)})):o.refs[0]&&(o.refs[0].checked=!!i):o.refs.forEach((function(e){return e.checked=e.value===i})):SR(o.ref)?o.ref.value="":(o.ref.value=i,o.ref.type||d.values.next({name:e,values:tt({},u)})))}(n.shouldDirty||n.shouldTouch)&&w(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&D(e)},A=function e(t,n,r){for(var i in n){var o=n[i],u="".concat(t,".").concat(i),s=aR(a,u);!c.array.has(t)&&BR(o)&&(!s||s._f)||QO(o)?N(u,o,r):e(u,o,r)}},O=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=aR(a,e),h=c.array.has(e),p=nR(t);gR(u,e,p),h?(d.array.next({name:e,values:tt({},u)}),(f.isDirty||f.dirtyFields)&&r.shouldDirty&&d.state.next({name:e,dirtyFields:$R(o,u),isDirty:I(e,p)})):!l||l._f||$O(p)?N(e,p,r):A(e,p,r),xR(e,c)&&d.state.next(tt({},i)),d.values.next({name:e,values:tt({},u)}),!s.mount&&n()},R=function(){var t=fn(cn().mark((function t(n){var o,s,l,h,p,b,_,I,T,C,N,A,O,R,P,L,M;return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target,s=o.name,l=!0,h=aR(a,s),p=function(){return o.type?YR(h._f):JO(n)},!h){t.next=47;break}if(I=p(),T=n.type===oR.BLUR||n.type===oR.FOCUS_OUT,C=!eD(h._f)&&!r.resolver&&!aR(i.errors,s)&&!h._f.deps||nD(T,aR(i.touchedFields,s),i.isSubmitted,m,v),N=xR(s,c,T),gR(u,s,I),T?(h._f.onBlur&&h._f.onBlur(n),e&&e(0)):h._f.onChange&&h._f.onChange(n),A=w(s,I,T,!1),O=!lR(A)||N,!T&&d.values.next({name:s,type:n.type,values:tt({},u)}),!C){t.next=18;break}return f.isValid&&g(),t.abrupt("return",O&&d.state.next(tt({name:s},N?{}:A)));case 18:if(!T&&N&&d.state.next(tt({},i)),k(!0),!r.resolver){t.next=32;break}return t.next=23,E([s]);case 23:R=t.sent,P=R.errors,L=tD(i.errors,a,s),M=tD(P,a,L.name||s),b=M.error,s=M.name,_=lR(P),t.next=46;break;case 32:return t.next=34,jR(h,u,y,r.shouldUseNativeValidation);case 34:if(t.t0=s,b=t.sent[t.t0],!(l=isNaN(I)||I===aR(u,s,I))){t.next=46;break}if(!b){t.next=42;break}_=!1,t.next=46;break;case 42:if(!f.isValid){t.next=46;break}return t.next=45,S(a,!0);case 45:_=t.sent;case 46:l&&(h._f.deps&&D(h._f.deps),x(s,_,b,A));case 47:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var e=fn(cn().mark((function e(t){var n,o,u,s,l,h=arguments;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:{},s=hR(t),k(!0),!r.resolver){e.next=11;break}return e.next=6,_(iR(t)?t:s);case 6:l=e.sent,o=lR(l),u=t?!s.some((function(e){return aR(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(s.map(function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=aR(a,t),e.next=3,S(n&&n._f?Ze({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=e.sent.every(Boolean))||i.isValid)&&g(),e.next=21;break;case 18:return e.next=20,S(a);case 20:u=o=e.sent;case 21:return d.state.next(tt(tt(tt({},!pR(t)||f.isValid&&o!==i.isValid?{}:{name:t}),r.resolver||!t?{isValid:o}:{}),{},{errors:i.errors,isValidating:!1})),n.shouldFocus&&!u&&bR(a,(function(e){return e&&aR(i.errors,e)}),t?s:c.mount),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){var t=tt(tt({},o),s.mount?u:{});return iR(e)?t:pR(e)?aR(t,e):e.map((function(e){return aR(t,e)}))},L=function(e,t){return{invalid:!!aR((t||i).errors,e),isDirty:!!aR((t||i).dirtyFields,e),isTouched:!!aR((t||i).touchedFields,e),error:aR((t||i).errors,e)}},M=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=T(e?hR(e):c.mount);try{for(s.s();!(t=s.n()).done;){var l=t.value;c.mount.delete(l),c.array.delete(l),n.keepValue||(VR(a,l),VR(u,l)),!n.keepError&&VR(i.errors,l),!n.keepDirty&&VR(i.dirtyFields,l),!n.keepTouched&&VR(i.touchedFields,l),!r.shouldUnregister&&!n.keepDefaultValue&&VR(o,l)}}catch(f){s.e(f)}finally{s.f()}d.values.next({values:tt({},u)}),d.state.next(tt(tt({},i),n.keepDirty?{isDirty:I()}:{})),!n.keepIsValid&&g()},F=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=aR(a,t),l=_R(n.disabled);return gR(a,t,tt(tt({},i||{}),{},{_f:tt(tt({},i&&i._f?i._f:{ref:{name:t}}),{},{name:t,mount:!0},n)})),c.mount.add(t),i?l&&gR(u,t,n.disabled?void 0:aR(u,t,YR(i._f))):b(t,!0,n.value),tt(tt(tt({},l?{disabled:n.disabled}:{}),r.shouldUseNativeValidation?{required:!!n.required,min:ZR(n.min),max:ZR(n.max),minLength:ZR(n.minLength),maxLength:ZR(n.maxLength),pattern:ZR(n.pattern)}:{}),{},{name:t,onChange:R,onBlur:R,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(u){if(u){e(t,n),i=aR(a,t);var l=iR(u.value)&&u.querySelectorAll&&u.querySelectorAll("input,select,textarea")[0]||u,f=KR(l),d=i._f.refs||[];if(f?d.find((function(e){return e===l})):l===i._f.ref)return;gR(a,t,{_f:tt(tt({},i._f),f?{refs:[].concat(h(d.filter(HR)),[l],h(Array.isArray(aR(o,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),b(t,!1,void 0,l)}else(i=aR(a,t,{}))._f&&(i._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!ZO(c.array,t)||!s.action)&&c.unMount.add(t)}))})},j=function(){return r.shouldFocusError&&bR(a,(function(e){return e&&aR(i.errors,e)}),c.mount)},V=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e||o,h=nR(l),v=e&&!lR(e)?h:o;if(r.keepDefaultValues||(o=l),!r.keepValues){if(r.keepDirtyValues||p){var m,y=T(c.mount);try{for(y.s();!(m=y.n()).done;){var g=m.value;aR(i.dirtyFields,g)?gR(v,g,aR(u,g)):O(g,aR(v,g))}}catch(S){y.e(S)}finally{y.f()}}else{if(tR&&iR(e)){var k,b=T(c.mount);try{for(b.s();!(k=b.n()).done;){var w=k.value,x=aR(a,w);if(x&&x._f){var E=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(TR(E)){var _=E.closest("form");if(_){_.reset();break}}}}}catch(S){b.e(S)}finally{b.f()}}a={}}u=t.shouldUnregister?r.keepDefaultValues?nR(o):{}:h,d.array.next({values:tt({},v)}),d.values.next({values:tt({},v)})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!s.mount&&n(),s.mount=!f.isValid||!!r.keepIsValid,s.watch=!!t.shouldUnregister,d.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty?i.isDirty:!(!r.keepDefaultValues||zR(e,o)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirtyValues?i.dirtyFields:r.keepDefaultValues&&e?$R(o,e):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},U=function(e,t){return V(IR(e)?e(u):e,t)};return{control:{register:F,unregister:M,getFieldState:L,_executeSchema:E,_getWatch:C,_getDirty:I,_updateValid:g,_removeUnmounted:function(){var e,t=T(c.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=aR(a,n);r&&(r._f.refs?r._f.refs.every((function(e){return!HR(e)})):!HR(r._f.ref))&&M(n)}}catch(i){t.e(i)}finally{t.f()}c.unMount=new Set},_updateFieldArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(s.action=!0,l&&Array.isArray(aR(a,e))){var h=n(aR(a,e),r.argA,r.argB);c&&gR(a,e,h)}if(l&&Array.isArray(aR(i.errors,e))){var p=n(aR(i.errors,e),r.argA,r.argB);c&&gR(i.errors,e,p),rD(i.errors,e)}if(f.touchedFields&&l&&Array.isArray(aR(i.touchedFields,e))){var v=n(aR(i.touchedFields,e),r.argA,r.argB);c&&gR(i.touchedFields,e,v)}f.dirtyFields&&(i.dirtyFields=$R(o,u)),d.state.next({name:e,isDirty:I(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else gR(u,e,t)},_getFieldArray:function(e){return rR(aR(s.mount?u:o,e,t.shouldUnregister?aR(o,e,[]):[]))},_reset:V,_resetDefaultValues:function(){return IR(r.defaultValues)&&r.defaultValues().then((function(e){U(e,r.resetOptions),d.state.next({isLoading:!1})}))},_updateFormState:function(e){i=tt(tt({},i),e)},_subjects:d,_proxyFormState:f,get _fields(){return a},get _formValues(){return u},get _state(){return s},set _state(e){s=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return i},set _formState(e){i=e},get _options(){return r},set _options(e){r=tt(tt({},r),e)}},trigger:D,register:F,handleSubmit:function(e,t){return function(){var n=fn(cn().mark((function n(o){var s,c,l,f;return cn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),s=nR(u),d.state.next({isSubmitting:!0}),!r.resolver){n.next=13;break}return n.next=6,E();case 6:c=n.sent,l=c.errors,f=c.values,i.errors=l,s=f,n.next=15;break;case 13:return n.next=15,S(a);case 15:if(VR(i.errors,"root"),!lR(i.errors)){n.next=22;break}return d.state.next({errors:{}}),n.next=20,e(s,o);case 20:n.next=27;break;case 22:if(!t){n.next=25;break}return n.next=25,t(tt({},i.errors),o);case 25:j(),setTimeout(j);case 27:d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:lR(i.errors),submitCount:i.submitCount+1,errors:i.errors});case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},watch:function(e,t){return IR(e)?d.values.subscribe({next:function(n){return e(C(void 0,t),n)}}):C(e,t,!0)},setValue:O,getValues:P,reset:U,resetField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};aR(a,e)&&(iR(t.defaultValue)?O(e,aR(o,e)):(O(e,t.defaultValue),gR(o,e,t.defaultValue)),t.keepTouched||VR(i.touchedFields,e),t.keepDirty||(VR(i.dirtyFields,e),i.isDirty=t.defaultValue?I(e,aR(o,e)):I()),t.keepError||(VR(i.errors,e),f.isValid&&g()),d.state.next(tt({},i)))},clearErrors:function(e){e&&hR(e).forEach((function(e){return VR(i.errors,e)})),d.state.next({errors:e?i.errors:{}})},unregister:M,setError:function(e,t,n){var r=(aR(a,e,{_f:{}})._f||{}).ref;gR(i.errors,e,tt(tt({},t),{},{ref:r})),d.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},setFocus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=aR(a,e),r=n&&n._f;if(r){var i=r.refs?r.refs[0]:r.ref;i.focus&&(i.focus(),t.shouldSelect&&i.select())}},getFieldState:L}}function oD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=l(r.useState({isDirty:!1,isValidating:!1,isLoading:IR(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:IR(e.defaultValues)?void 0:e.defaultValues}),2),i=n[0],a=n[1];t.current||(t.current=tt(tt({},aD(e,(function(){return a((function(e){return tt({},e)}))}))),{},{formState:i}));var o=t.current.control;return o._options=e,dR({subject:o._subjects.state,next:function(e){fR(e,o._proxyFormState,o._updateFormState,!0)&&a(tt({},o._formState))}}),r.useEffect((function(){e.values&&!zR(e.values,o._defaultValues)?o._reset(e.values,o._options.resetOptions):o._resetDefaultValues()}),[e.values,o]),r.useEffect((function(){o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(tt({},o._formState))),o._removeUnmounted()})),t.current.formState=cR(i,o),t.current}var uD=n(7),sD=n.n(uD),cD=["as","className","type","tooltip"],lD={type:sD().string,tooltip:sD().bool,as:sD().elementType},fD=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,u=e.tooltip,s=void 0!==u&&u,c=rt(e,cD);return(0,ot.jsx)(r,tt(tt({},c),{},{ref:t,className:at()(i,"".concat(o,"-").concat(s?"tooltip":"feedback"))}))}));fD.displayName="Feedback",fD.propTypes=lD;var hD=fD,dD=r.createContext({}),pD=["id","bsPrefix","className","type","isValid","isInvalid","as"],vD=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.className,o=e.type,u=void 0===o?"checkbox":o,s=e.isValid,c=void 0!==s&&s,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,p=rt(e,pD),v=(0,r.useContext)(dD).controlId;return i=lt(i,"form-check-input"),(0,ot.jsx)(d,tt(tt({},p),{},{ref:t,type:u,id:n||v,className:at()(a,i,c&&"is-valid",f&&"is-invalid")}))}));vD.displayName="FormCheckInput";var mD=vD,yD=["bsPrefix","className","htmlFor"],gD=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.htmlFor,o=rt(e,yD),u=(0,r.useContext)(dD).controlId;return n=lt(n,"form-check-label"),(0,ot.jsx)("label",tt(tt({},o),{},{ref:t,htmlFor:a||u,className:at()(i,n)}))}));gD.displayName="FormCheckLabel";var kD=gD;var bD=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],wD=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,u=void 0!==o&&o,s=e.reverse,c=void 0!==s&&s,l=e.disabled,f=void 0!==l&&l,h=e.isValid,d=void 0!==h&&h,p=e.isInvalid,v=void 0!==p&&p,m=e.feedbackTooltip,y=void 0!==m&&m,g=e.feedback,k=e.feedbackType,b=e.className,w=e.style,x=e.title,E=void 0===x?"":x,_=e.type,S=void 0===_?"checkbox":_,I=e.label,T=e.children,C=e.as,N=void 0===C?"input":C,A=rt(e,bD);i=lt(i,"form-check"),a=lt(a,"form-switch");var O=(0,r.useContext)(dD).controlId,R=(0,r.useMemo)((function(){return{controlId:n||O}}),[O,n]),D=!T&&null!=I&&!1!==I||function(e,t){return r.Children.toArray(e).some((function(e){return r.isValidElement(e)&&e.type===t}))}(T,kD),P=(0,ot.jsx)(mD,tt(tt({},A),{},{type:"switch"===S?"checkbox":S,ref:t,isValid:d,isInvalid:v,disabled:f,as:N}));return(0,ot.jsx)(dD.Provider,{value:R,children:(0,ot.jsx)("div",{style:w,className:at()(b,D&&i,u&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===S&&a),children:T||(0,ot.jsxs)(ot.Fragment,{children:[P,D&&(0,ot.jsx)(kD,{title:E,children:I}),g&&(0,ot.jsx)(hD,{type:k,tooltip:y,children:g})]})})})}));wD.displayName="FormCheck";var xD=Object.assign(wD,{Input:mD,Label:kD}),ED=n(391),_D=n.n(ED),SD=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],ID=r.forwardRef((function(e,t){var n,i,a=e.bsPrefix,o=e.type,u=e.size,s=e.htmlSize,c=e.id,l=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,p=void 0!==d&&d,v=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,k=rt(e,SD),b=(0,r.useContext)(dD).controlId;(a=lt(a,"form-control"),v)?n=Ze({},"".concat(a,"-plaintext"),!0):(Ze(i={},a,!0),Ze(i,"".concat(a,"-").concat(u),u),n=i);return(0,ot.jsx)(g,tt(tt({},k),{},{type:o,size:s,ref:t,readOnly:m,id:c||b,className:at()(l,n,h&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));ID.displayName="FormControl";var TD=Object.assign(ID,{Feedback:hD}),CD=mt("form-floating"),ND=["controlId","as"],AD=r.forwardRef((function(e,t){var n=e.controlId,i=e.as,a=void 0===i?"div":i,o=rt(e,ND),u=(0,r.useMemo)((function(){return{controlId:n}}),[n]);return(0,ot.jsx)(dD.Provider,{value:u,children:(0,ot.jsx)(a,tt(tt({},o),{},{ref:t}))})}));AD.displayName="FormGroup";var OD=AD,RD=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],DD=r.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,a=e.bsPrefix,o=e.column,u=void 0!==o&&o,s=e.visuallyHidden,c=void 0!==s&&s,l=e.className,f=e.htmlFor,h=rt(e,RD),d=(0,r.useContext)(dD).controlId;a=lt(a,"form-label");var p="col-form-label";"string"===typeof u&&(p="".concat(p," ").concat(p,"-").concat(u));var v=at()(l,a,c&&"visually-hidden",u&&p);return f=f||d,u?(0,ot.jsx)(Qt,tt({ref:t,as:"label",className:v,htmlFor:f},h)):(0,ot.jsx)(i,tt({ref:t,className:v,htmlFor:f},h))}));DD.displayName="FormLabel";var PD=DD,LD=["bsPrefix","className","id"],MD=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.id,o=rt(e,LD),u=(0,r.useContext)(dD).controlId;return n=lt(n,"form-range"),(0,ot.jsx)("input",tt(tt({},o),{},{type:"range",ref:t,className:at()(i,n),id:a||u}))}));MD.displayName="FormRange";var FD=MD,jD=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],VD=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,u=e.isValid,s=void 0!==u&&u,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=rt(e,jD),d=(0,r.useContext)(dD).controlId;return n=lt(n,"form-select"),(0,ot.jsx)("select",tt(tt({},h),{},{size:a,ref:t,className:at()(o,n,i&&"".concat(n,"-").concat(i),s&&"is-valid",l&&"is-invalid"),id:f||d}))}));VD.displayName="FormSelect";var UD=VD,BD=["bsPrefix","className","as","muted"],zD=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,u=rt(e,BD);return n=lt(n,"form-text"),(0,ot.jsx)(a,tt(tt({},u),{},{ref:t,className:at()(r,n,o&&"text-muted")}))}));zD.displayName="FormText";var qD=zD,KD=r.forwardRef((function(e,t){return(0,ot.jsx)(xD,tt(tt({},e),{},{ref:t,type:"switch"}))}));KD.displayName="Switch";var HD=Object.assign(KD,{Input:xD.Input,Label:xD.Label}),WD=["bsPrefix","className","children","controlId","label"],GD=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,u=rt(e,WD);return n=lt(n,"form-floating"),(0,ot.jsxs)(OD,tt(tt({ref:t,className:at()(r,n),controlId:a},u),{},{children:[i,(0,ot.jsx)("label",{htmlFor:a,children:o})]}))}));GD.displayName="FloatingLabel";var QD=GD,$D=["className","validated","as"],XD={_ref:sD().any,validated:sD().bool,as:sD().elementType},YD=r.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=rt(e,$D);return(0,ot.jsx)(a,tt(tt({},o),{},{ref:t,className:at()(n,r&&"was-validated")}))}));YD.displayName="Form",YD.propTypes=XD;var JD=Object.assign(YD,{Group:OD,Control:TD,Floating:CD,Check:xD,Switch:HD,Label:PD,Text:qD,Range:FD,Select:UD,FloatingLabel:QD});function ZD(e){return eP.apply(this,arguments)}function eP(){return(eP=fn(cn().mark((function e(t){var n,r;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NO.auth().createUserWithEmailAndPassword(t.email,t.password);case 2:return n=e.sent,console.log("\ud83d\ude80 ~ file: usuariosService.js:5 ~ create ~ responseUser:",n.user.uid),e.next=6,NO.firestore().collection("usuarios").add({name:t.nombre,lastname:t.apellido,userId:n.user.uid});case 6:return r=e.sent,console.log(r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tP(e,t){return nP.apply(this,arguments)}function nP(){return(nP=fn(cn().mark((function e(t,n){var r,i;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NO.auth().signInWithEmailAndPassword(t,n);case 2:if(!(r=e.sent).user.uid){e.next=8;break}return e.next=6,NO.firestore().collection("usuarios").where("userId","==",r.user.uid).get();case 6:return i=e.sent,e.abrupt("return",i.docs[0].data());case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rP=function(e){var t=e.label,n=e.type,r=void 0===n?"text":n,i=e.name,a=e.register,o=e.placeholder;return(0,ot.jsx)("div",{children:(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:i,children:[(0,ot.jsx)(JD.Label,{children:t}),(0,ot.jsx)(JD.Control,tt({type:r,placeholder:o},a))]})})};var iP=function(e){var t=e.variant,n=void 0===t?"primary":t,r=e.type,i=void 0===r?"submit":r,a=e.loading,o=e.children;return(0,ot.jsxs)(Kt,{type:i,variant:n,disabled:a,children:[a&&(0,ot.jsx)(un,{animation:"border",size:"sm"}),o]})};function aP(){return aP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aP.apply(this,arguments)}n(176);function oP(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function uP(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function sP(e,t,n){var i=(0,r.useRef)(void 0!==e),a=(0,r.useState)(t),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==t&&u(t),[s?e:o,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),u(e)}),[n])]}function cP(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[oP(r)],u=a[r],s=nt(a,[oP(r),r].map(uP)),c=t[r],l=sP(u,o,e[c]),f=l[0],h=l[1];return aP({},s,((i={})[r]=f,i[c]=h,i))}),e)}function lP(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function fP(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function hP(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}lP.__suppressDeprecationWarning=!0,fP.__suppressDeprecationWarning=!0,hP.__suppressDeprecationWarning=!0;var dP=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function pP(e){var t=dP(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}function vP(){var e=(0,r.useRef)(!0),t=(0,r.useRef)((function(){return e.current}));return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}function mP(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){t.current=e})),t.current}var yP="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,gP="undefined"!==typeof document||yP?r.useLayoutEffect:r.useEffect;new WeakMap;var kP=["onKeyDown"];var bP=r.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,kP),a=l(Vt(Object.assign({tagName:"a"},i)),1)[0],o=pP((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,ot.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,ot.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));bP.displayName="Anchor";var wP=bP;var xP=n(164),EP=!1,_P=r.createContext(null),SP="unmounted",IP="exited",TP="entering",CP="entered",NP="exiting",AP=function(e){var t,n;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=IP,r.appearStatus=TP):i=CP:i=t.unmountOnExit||t.mountOnEnter?SP:IP,r.state={status:i},r.nextCallback=null,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,g(t,n),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===SP?{status:IP}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==TP&&n!==CP&&(t=TP):n!==TP&&n!==CP||(t=NP)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===TP){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:xP.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===IP&&this.setState({status:SP})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[xP.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||EP?this.safeSetState({status:CP},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:TP},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:CP},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:xP.findDOMNode(this);t&&!EP?(this.props.onExit(r),this.safeSetState({status:NP},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:IP},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:IP},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:xP.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===SP)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,nt(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(_P.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},i}(r.Component);function OP(){}AP.contextType=_P,AP.propTypes={},AP.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:OP,onEntering:OP,onEntered:OP,onExit:OP,onExiting:OP,onExited:OP},AP.UNMOUNTED=SP,AP.EXITED=IP,AP.ENTERING=TP,AP.ENTERED=CP,AP.EXITING=NP;var RP=AP;function DP(e){return e&&e.ownerDocument||document}function PP(e,t){return function(e){var t=DP(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var LP=/([A-Z])/g;var MP=/^ms-/;function FP(e){return function(e){return e.replace(LP,"-$1").toLowerCase()}(e).replace(MP,"-ms-")}var jP=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var VP=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(FP(t))||PP(e).getPropertyValue(FP(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!jP.test(e))}(i)?n+=FP(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(FP(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},UP=!("undefined"===typeof window||!window.document||!window.document.createElement),BP=!1,zP=!1;try{var qP={get passive(){return BP=!0},get once(){return zP=BP=!0}};UP&&(window.addEventListener("test",qP,qP),window.removeEventListener("test",qP,!0))}catch(XV){}var KP=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!zP){var i=r.once,a=r.capture,o=n;!zP&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,BP?r:a)}e.addEventListener(t,n,r)};var HP=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var WP=function(e,t,n,r){return KP(e,t,n,r),function(){HP(e,t,n,r)}};function GP(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=WP(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function QP(e,t,n,r){null==n&&(n=function(e){var t=VP(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=GP(e,n,r),a=WP(e,"transitionend",t);return function(){i(),a()}}function $P(e,t){var n=VP(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function XP(e,t){var n=$P(e,"transitionDuration"),r=$P(e,"transitionDelay"),i=QP(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}function YP(e){e.offsetHeight}var JP=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var ZP=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=JP(e),r=JP(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])};var eL,tL=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],nL=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.onExited,c=e.addEndListener,l=e.children,f=e.childRef,h=rt(e,tL),d=(0,r.useRef)(null),p=ZP(d,f),v=function(e){var t;p((t=e)&&"setState"in t?xP.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&d.current&&e(d.current,t)}},y=(0,r.useCallback)(m(n),[n]),g=(0,r.useCallback)(m(i),[i]),k=(0,r.useCallback)(m(a),[a]),b=(0,r.useCallback)(m(o),[o]),w=(0,r.useCallback)(m(u),[u]),x=(0,r.useCallback)(m(s),[s]),E=(0,r.useCallback)(m(c),[c]);return(0,ot.jsx)(RP,tt(tt({ref:t},h),{},{onEnter:y,onEntered:k,onEntering:g,onExit:b,onExited:x,onExiting:w,addEndListener:E,nodeRef:d,children:"function"===typeof l?function(e,t){return l(e,tt(tt({},t),{},{ref:v}))}:r.cloneElement(l,{ref:v})}))})),rL=nL,iL=["className","children","transitionClasses","onEnter"],aL=(Ze(eL={},TP,"show"),Ze(eL,CP,"show"),eL),oL=r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,u=e.onEnter,s=tt({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},rt(e,iL)),c=(0,r.useCallback)((function(e,t){YP(e),null==u||u(e,t)}),[u]);return(0,ot.jsx)(rL,tt(tt({ref:t,addEndListener:XP},s),{},{onEnter:c,childRef:i.ref,children:function(e,t){return r.cloneElement(i,tt(tt({},t),{},{className:at()("fade",n,i.props.className,aL[e],o[e])}))}}))}));oL.displayName="Fade";var uL=oL,sL=["className","variant","aria-label"],cL={"aria-label":sD().string,onClick:sD().func,variant:sD().oneOf(["white"])},lL=r.forwardRef((function(e,t){var n=e.className,r=e.variant,i=e["aria-label"],a=void 0===i?"Close":i,o=rt(e,sL);return(0,ot.jsx)("button",tt({ref:t,type:"button",className:at()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":a},o))}));lL.displayName="CloseButton",lL.propTypes=cL;var fL=lL,hL=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],dL=yt("h4");dL.displayName="DivStyledAsH4";var pL=mt("alert-heading",{Component:dL}),vL=mt("alert-link",{Component:wP}),mL=r.forwardRef((function(e,t){var n=cP(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=void 0===i||i,o=n.closeLabel,u=void 0===o?"Close alert":o,s=n.closeVariant,c=n.className,l=n.children,f=n.variant,h=void 0===f?"primary":f,d=n.onClose,p=n.dismissible,v=n.transition,m=void 0===v?uL:v,y=rt(n,hL),g=lt(r,"alert"),k=pP((function(e){d&&d(!1,e)})),b=!0===m?uL:m,w=(0,ot.jsxs)("div",tt(tt({role:"alert"},b?void 0:y),{},{ref:t,className:at()(c,g,h&&"".concat(g,"-").concat(h),p&&"".concat(g,"-dismissible")),children:[p&&(0,ot.jsx)(fL,{onClick:k,"aria-label":u,variant:s}),l]}));return b?(0,ot.jsx)(b,tt(tt({unmountOnExit:!0},y),{},{ref:void 0,in:a,children:w})):a?w:null}));mL.displayName="Alert";var yL=Object.assign(mL,{Link:vL,Heading:pL});var gL=function(e){var t=e.variant,n=e.text,r=e.duration,i=void 0===r?0:r,a=e.link,o=Ie();return 0!==i&&a&&setTimeout((function(){o(a)}),i),(0,ot.jsx)(yL,{variant:t,children:n})},kL={"auth/email-already-in-use":"El email ya se encuentra registrado","auth/weak-password":"La contrase\xf1a debe tener al menos 8 caracteres"},bL={"auth/user-not-found":"El email no se encuentra registrado","auth/wrong-password":"La contrase\xf1a es incorrecta"};var wL=function(){var e,t,n=oD({mode:"onChange"}),i=n.register,a=n.handleSubmit,o=n.getValues,u=n.formState.errors,s=l((0,r.useState)(!1),2),c=s[0],f=s[1],h=l((0,r.useState)({variant:"",text:""}),2),d=h[0],p=h[1],v=function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),console.log("\ud83d\ude80 ~ file: Registro.jsx:24 ~ onSubmit ~ data:",t),e.prev=2,e.next=5,ZD(t);case 5:n=e.sent,console.log("\ud83d\ude80 ~ file: Registro.jsx:21 ~ onSubmit ~ user:",n),f(!1),p({variant:"success",text:"Registro exitoso",duration:2e3,link:"/login"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0.code),p({variant:"danger",text:kL[e.t0.code]||"Ha ocurrido un error"}),f(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,ot.jsx)("div",{children:(0,ot.jsxs)(JD,{onSubmit:a(v),children:[(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:"formBasicNombre",children:[(0,ot.jsx)(rP,{label:"Nombre",name:"formBasicNombre",placeholder:"Ingresa tu Nombre",register:tt({},i("nombre",{required:!0}))}),(0,ot.jsx)(JD.Text,{className:"text-muted",children:u.nombre&&(0,ot.jsx)("span",{className:"errorSpan",children:"Campo obligatorio"})})]}),(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:"formBasicApellido",children:[(0,ot.jsx)(rP,{label:"Apellido",name:"formBasicApellido",placeholder:"Ingresa tu Apellido",register:tt({},i("apellido",{required:!0}))}),(0,ot.jsx)(JD.Text,{className:"text-muted",children:u.apellido&&(0,ot.jsx)("span",{className:"errorSpan",children:"Campo obligatorio"})})]}),(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,ot.jsx)(rP,{label:"Email",name:"formBasicEmail",type:"email",placeholder:"Ingresa tu Email",register:tt({},i("email",{required:!0}))}),(0,ot.jsxs)(JD.Text,{className:"text-muted",children:["Nunca compartiremos tus datos a terceros.",u.email&&(0,ot.jsx)("span",{className:"errorSpan",children:" Campo obligatorio"})]})]}),(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,ot.jsx)(rP,{label:"Contrase\xf1a",name:"formBasicContrase\xf1a",type:"password",placeholder:"Ingresa tu Contrase\xf1a",register:tt({},i("password",{required:!0,pattern:/^[a-zA-Z0-9!@#\$%\^\&*_=+-]{8,12}$/g}))}),(0,ot.jsx)(JD.Text,{className:"text-muted",children:u.password&&(0,ot.jsxs)("div",{children:["required"===(null===(e=u.password)||void 0===e?void 0:e.type)&&(0,ot.jsx)("span",{className:"errorSpan",children:"Campo obligatorio"}),"pattern"===(null===(t=u.password)||void 0===t?void 0:t.type)&&(0,ot.jsx)("span",{className:"errorSpan",children:"La contrase\xf1a debe contener una may\xfascula, al menos un n\xfamero, un simbolo!(@#$%^&*_=+-), un m\xedn. 8 y un max. de 12 caracteres."})]})})]})," ",(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:"formBasicConfirmPassword",children:[(0,ot.jsx)(rP,{label:"Confirmar contrase\xf1a",name:"formBasicConfirmContrase\xf1a",type:"password",placeholder:"Confirmar tu contrase\xf1a",register:tt({},i("confirmPassword",{required:!0,validate:{matchesPreviousPassword:function(e){return o().password===e||!1}}}))}),(0,ot.jsx)(JD.Text,{className:"text-muted",children:u.confirmPassword&&(0,ot.jsx)("p",{className:"errorSpan",children:" Las contrase\xf1as deben coincidir."})})]})," ",(0,ot.jsx)(iP,{loading:c,children:"Registrarse"}),(0,ot.jsx)(gL,tt({},d))]})})};var xL=function(){var e,t,n=oD({mode:"onChange"}),i=n.register,a=n.handleSubmit,o=n.formState.errors,u=l((0,r.useState)({variant:"",text:""}),2),s=u[0],c=u[1],f=l((0,r.useState)(!1),2),h=f[0],d=f[1],p=Ie(),v=Yt(),m=function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,tP(t.email,t.password);case 4:n=e.sent,console.log("\ud83d\ude80 ~ file: Login.jsx:19 ~ onSubmit ~ user:",n),v.handleLogin(n),p("/"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),c({variant:"danger",text:bL[e.t0.code]||"Ha ocurrido un error"}),d(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,ot.jsx)("div",{children:(0,ot.jsxs)(JD,{onSubmit:a(m),children:[(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,ot.jsx)(JD.Label,{children:"Email"}),(0,ot.jsx)(JD.Control,tt({type:"email",placeholder:"Ingresa tu e-mail"},i("email",{required:!0}))),(0,ot.jsx)(JD.Text,{className:"text-muted",children:o.email&&(0,ot.jsx)("span",{className:"errorSpan",children:" Campo obligatorio"})})]}),(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,ot.jsx)(JD.Label,{children:"Contrase\xf1a"}),(0,ot.jsx)(JD.Control,tt({type:"password",placeholder:"Contrase\xf1a"},i("password",{required:!0,pattern:/^[a-zA-Z0-9!@#\$%\^\&*_=+-]{8,12}$/g}))),(0,ot.jsx)(JD.Text,{className:"text-muted",children:o.password&&(0,ot.jsxs)("div",{children:["required"===(null===(e=o.password)||void 0===e?void 0:e.type)&&(0,ot.jsx)("span",{className:"errorSpan",children:"Campo obligatorio"}),"pattern"===(null===(t=o.password)||void 0===t?void 0:t.type)&&(0,ot.jsx)("span",{className:"errorSpan",children:"La contrase\xf1a debe contener una may\xfascula, al menos un n\xfamero, un simbolo!(@#$%^&*_=+-), un m\xedn. 8 y un max. de 12 caracteres."})]})})]})," ",(0,ot.jsx)(iP,{loading:h,children:"Ingresar"}),(0,ot.jsx)(gL,tt({},s))]})})};var EL=function(){var e=l((0,r.useState)(0),2),t=e[0],n=e[1];return(0,ot.jsxs)("div",{children:[(0,ot.jsx)("span",{className:"cantidad",children:t}),(0,ot.jsx)("button",{id:"incrementar",onClick:function(){n(t+1)},children:"Incrementar"}),(0,ot.jsx)("button",{id:"decrementar",onClick:function(){n(t-1)},children:"Decrementar"})]})},_L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},SL=r.createContext(null),IL=["bsPrefix","className","as"],TL=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=rt(e,IL);n=lt(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,ot.jsx)(o,tt(tt({},a),{},{ref:t,className:at()(r,n)}))}));TL.displayName="NavbarBrand";var CL=TL;var NL,AL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},OL=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","in","timeout","mountOnEnter","unmountOnExit","appear","getDimensionValue"],RL={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function DL(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=RL[e];return n+parseInt(VP(t,r[0]),10)+parseInt(VP(t,r[1]),10)}var PL=(Ze(NL={},IP,"collapse"),Ze(NL,NP,"collapsing"),Ze(NL,TP,"collapsing"),Ze(NL,CP,"collapse show"),NL),LL=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,h=e.in,d=void 0!==h&&h,p=e.timeout,v=void 0===p?300:p,m=e.mountOnEnter,y=void 0!==m&&m,g=e.unmountOnExit,k=void 0!==g&&g,b=e.appear,w=void 0!==b&&b,x=e.getDimensionValue,E=void 0===x?DL:x,_=rt(e,OL),S="function"===typeof f?f():f,I=(0,r.useMemo)((function(){return AL((function(e){e.style[S]="0"}),n)}),[S,n]),T=(0,r.useMemo)((function(){return AL((function(e){var t="scroll".concat(S[0].toUpperCase()).concat(S.slice(1));e.style[S]="".concat(e[t],"px")}),i)}),[S,i]),C=(0,r.useMemo)((function(){return AL((function(e){e.style[S]=null}),a)}),[S,a]),N=(0,r.useMemo)((function(){return AL((function(e){e.style[S]="".concat(E(S,e),"px"),YP(e)}),o)}),[o,E,S]),A=(0,r.useMemo)((function(){return AL((function(e){e.style[S]=null}),u)}),[S,u]);return(0,ot.jsx)(rL,tt(tt({ref:t,addEndListener:XP},_),{},{"aria-expanded":_.role?d:null,onEnter:I,onEntering:T,onEntered:C,onExit:N,onExiting:A,childRef:c.ref,in:d,timeout:v,mountOnEnter:y,unmountOnExit:k,appear:w,children:function(e,t){return r.cloneElement(c,tt(tt({},t),{},{className:at()(s,c.props.className,PL[e],"width"===S&&"collapse-horizontal")}))}}))})),ML=r.createContext(null);ML.displayName="NavbarContext";var FL=ML,jL=["children","bsPrefix"],VL=r.forwardRef((function(e,t){var n=e.children,i=e.bsPrefix,a=rt(e,jL);i=lt(i,"navbar-collapse");var o=(0,r.useContext)(FL);return(0,ot.jsx)(LL,tt(tt({in:!(!o||!o.expanded)},a),{},{children:(0,ot.jsx)("div",{ref:t,className:i,children:n})}))}));VL.displayName="NavbarCollapse";var UL=VL,BL=["bsPrefix","className","children","label","as","onClick"],zL=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e.label,u=void 0===o?"Toggle navigation":o,s=e.as,c=void 0===s?"button":s,l=e.onClick,f=rt(e,BL);n=lt(n,"navbar-toggler");var h=(0,r.useContext)(FL)||{},d=h.onToggle,p=h.expanded,v=pP((function(e){l&&l(e),d&&d()}));return"button"===c&&(f.type="button"),(0,ot.jsx)(c,tt(tt({},f),{},{ref:t,onClick:v,"aria-label":u,className:at()(i,n,!p&&"collapsed"),children:a||(0,ot.jsx)("span",{className:"".concat(n,"-icon")})}))}));zL.displayName="NavbarToggle";var qL=zL,KL=new WeakMap,HL=function(e,t){if(e&&t){var n=KL.get(t)||new Map;KL.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function WL(e,t){void 0===t&&(t="undefined"===typeof window?void 0:window);var n=HL(e,t),i=(0,r.useState)((function(){return!!n&&n.matches})),a=i[0],o=i[1];return gP((function(){var n=HL(e,t);if(!n)return o(!1);var r=KL.get(t),i=function(){o(n.matches)};return n.refCount++,n.addListener(i),i(),function(){n.removeListener(i),n.refCount--,n.refCount<=0&&(null==r||r.delete(n.media)),n=void 0}}),[e]),a}var GL=function(e){var t=Object.keys(e);function n(e,t){return e===t?t:e?e+" and "+t:t}function i(n){var r=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(n),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(t,a,o){var u,s;return"object"===typeof t?(u=t,o=a,a=!0):((s={})[t]=a=a||!0,u=s),WL((0,r.useMemo)((function(){return Object.entries(u).reduce((function(t,r){var a=r[0],o=r[1];return"up"!==o&&!0!==o||(t=n(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=n(t,i(a))),t}),"")}),[JSON.stringify(u)]),o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function QL(e){void 0===e&&(e=DP());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(XV){return e.body}}function $L(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function XL(e){var t=function(e){var t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((function(){return function(){return t.current()}}),[])}var YL="data-rr-ui-",JL="rrUi";function ZL(e){return"".concat(YL).concat(e)}var eM=ZL("modal-open"),tM=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;d(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return y(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=Ze({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(VP(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(eM,""),VP(r,t)}},{key:"reset",value:function(){var e=this;h(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(eM),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),nM=tM,rM=(0,r.createContext)(UP?window:void 0);rM.Provider;function iM(){return(0,r.useContext)(rM)}var aM=function(e,t){return UP?null==e?(t||DP()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var oM=function(e){var t=e.children,n=e.in,i=e.onExited,a=e.mountOnEnter,o=e.unmountOnExit,u=(0,r.useRef)(null),s=(0,r.useRef)(n),c=pP(i);(0,r.useEffect)((function(){n?s.current=!0:c(u.current)}),[n,c]);var l=ZP(u,t.ref),f=(0,r.cloneElement)(t,{ref:l});return n?f:o||!s.current&&a?null:f};function uM(e){var t=e.children,n=e.in,i=e.onExited,a=e.onEntered,o=e.transition,u=l((0,r.useState)(!n),2),s=u[0],c=u[1];n&&s&&c(!1);var f=function(e){var t=e.in,n=e.onTransition,i=(0,r.useRef)(null),a=(0,r.useRef)(!0),o=pP(n);return gP((function(){if(i.current){var e=!1;return o({in:t,element:i.current,initial:a.current,isStale:function(){return e}}),function(){e=!0}}}),[t,o]),gP((function(){return a.current=!1,function(){a.current=!0}}),[]),i}({in:!!n,onTransition:function(e){Promise.resolve(o(e)).then((function(){e.isStale()||(e.in?null==a||a(e.element,e.initial):(c(!0),null==i||i(e.element)))}),(function(t){throw e.in||c(!0),t}))}}),h=ZP(f,t.ref);return s&&!n?null:(0,r.cloneElement)(t,{ref:h})}function sM(e,t,n){return e?(0,ot.jsx)(e,Object.assign({},n)):t?(0,ot.jsx)(uM,Object.assign({},n,{transition:t})):(0,ot.jsx)(oM,Object.assign({},n))}var cM,lM=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function fM(e){var t=iM(),n=e||function(e){return cM||(cM=new nM({ownerDocument:null==e?void 0:e.document})),cM}(t),i=(0,r.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return n.add(i.current)},remove:function(){return n.remove(i.current)},isTopModal:function(){return n.isTopModal(i.current)},setDialogRef:(0,r.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,r.useCallback)((function(e){i.current.backdrop=e}),[])})}var hM=(0,r.forwardRef)((function(e,t){var n=e.show,i=void 0!==n&&n,a=e.role,o=void 0===a?"dialog":a,u=e.className,s=e.style,c=e.children,f=e.backdrop,h=void 0===f||f,d=e.keyboard,p=void 0===d||d,v=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.runTransition,k=e.backdropTransition,b=e.runBackdropTransition,w=e.autoFocus,x=void 0===w||w,E=e.enforceFocus,_=void 0===E||E,S=e.restoreFocus,I=void 0===S||S,T=e.restoreFocusOptions,C=e.renderDialog,N=e.renderBackdrop,A=void 0===N?function(e){return(0,ot.jsx)("div",Object.assign({},e))}:N,O=e.manager,R=e.container,D=e.onShow,P=e.onHide,L=void 0===P?function(){}:P,M=e.onExit,F=e.onExited,j=e.onExiting,V=e.onEnter,U=e.onEntering,B=e.onEntered,z=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,lM),q=function(e,t){var n=iM(),i=l((0,r.useState)((function(){return aM(e,null==n?void 0:n.document)})),2),a=i[0],o=i[1];if(!a){var u=aM(e);u&&o(u)}return(0,r.useEffect)((function(){t&&a&&t(a)}),[t,a]),(0,r.useEffect)((function(){var t=aM(e);t!==a&&o(t)}),[e,a]),a}(R),K=fM(O),H=vP(),W=mP(i),G=l((0,r.useState)(!i),2),Q=G[0],$=G[1],X=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return K}),[K]),UP&&!W&&i&&(X.current=QL()),i&&Q&&$(!1);var Y=pP((function(){if(K.add(),re.current=WP(document,"keydown",te),ne.current=WP(document,"focus",(function(){return setTimeout(Z)}),!0),D&&D(),x){var e=QL(document);K.dialog&&e&&!$L(K.dialog,e)&&(X.current=e,K.dialog.focus())}})),J=pP((function(){var e;(K.remove(),null==re.current||re.current(),null==ne.current||ne.current(),I)&&(null==(e=X.current)||null==e.focus||e.focus(T),X.current=null)}));(0,r.useEffect)((function(){i&&q&&Y()}),[i,q,Y]),(0,r.useEffect)((function(){Q&&J()}),[Q,J]),XL((function(){J()}));var Z=pP((function(){if(_&&H()&&K.isTopModal()){var e=QL();K.dialog&&e&&!$L(K.dialog,e)&&K.dialog.focus()}})),ee=pP((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===h&&L())})),te=pP((function(e){p&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&K.isTopModal()&&(null==m||m(e),e.defaultPrevented||L())})),ne=(0,r.useRef)(),re=(0,r.useRef)();if(!q)return null;var ie=Object.assign({role:o,ref:K.setDialogRef,"aria-modal":"dialog"===o||void 0},z,{style:s,className:u,tabIndex:-1}),ae=C?C(ie):(0,ot.jsx)("div",Object.assign({},ie,{children:r.cloneElement(c,{role:"document"})}));ae=sM(y,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:M,onExiting:j,onExited:function(){$(!0),null==F||F.apply(void 0,arguments)},onEnter:V,onEntering:U,onEntered:B,children:ae});var oe=null;return h&&(oe=A({ref:K.setBackdropRef,onClick:ee}),oe=sM(k,b,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:oe})),(0,ot.jsx)(ot.Fragment,{children:xP.createPortal((0,ot.jsxs)(ot.Fragment,{children:[oe,ae]}),q)})}));hM.displayName="Modal";var dM,pM=Object.assign(hM,{Manager:nM}),vM=mt("offcanvas-body"),mM=["bsPrefix","className","children","in","mountOnEnter","unmountOnExit","appear"],yM=(Ze(dM={},TP,"show"),Ze(dM,CP,"show"),dM),gM=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e.in,u=void 0!==o&&o,s=e.mountOnEnter,c=void 0!==s&&s,l=e.unmountOnExit,f=void 0!==l&&l,h=e.appear,d=void 0!==h&&h,p=rt(e,mM);return n=lt(n,"offcanvas"),(0,ot.jsx)(rL,tt(tt({ref:t,addEndListener:XP,in:u,mountOnEnter:c,unmountOnExit:f,appear:d},p),{},{childRef:a.ref,children:function(e,t){return r.cloneElement(a,tt(tt({},t),{},{className:at()(i,a.props.className,(e===TP||e===NP)&&"".concat(n,"-toggling"),yM[e])}))}}))}));gM.displayName="OffcanvasToggling";var kM=gM,bM=r.createContext({onHide:function(){}}),wM=["closeLabel","closeVariant","closeButton","onHide","children"],xM=r.forwardRef((function(e,t){var n=e.closeLabel,i=void 0===n?"Close":n,a=e.closeVariant,o=e.closeButton,u=void 0!==o&&o,s=e.onHide,c=e.children,l=rt(e,wM),f=(0,r.useContext)(bM),h=pP((function(){null==f||f.onHide(),null==s||s()}));return(0,ot.jsxs)("div",tt(tt({ref:t},l),{},{children:[c,u&&(0,ot.jsx)(fL,{"aria-label":i,variant:a,onClick:h})]}))})),EM=xM,_M=["bsPrefix","className","closeLabel","closeButton"],SM=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.closeLabel,a=void 0===i?"Close":i,o=e.closeButton,u=void 0!==o&&o,s=rt(e,_M);return n=lt(n,"offcanvas-header"),(0,ot.jsx)(EM,tt(tt({ref:t},s),{},{className:at()(r,n),closeLabel:a,closeButton:u}))}));SM.displayName="OffcanvasHeader";var IM=SM,TM=mt("offcanvas-title",{Component:yt("h5")});var CM=Function.prototype.bind.call(Function.prototype.call,[].slice);function NM(e,t){return CM(e.querySelectorAll(t))}function AM(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var OM,RM=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",DM=".sticky-top",PM=".navbar-toggler",LM=function(e){k(n,e);var t=E(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,VP(t,Ze({},e,"".concat(parseFloat(VP(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],VP(t,Ze({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;ao(b(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";NM(a,RM).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),NM(a,DM).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),NM(a,PM).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;ao(b(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=AM(r.className,i):r.setAttribute("class",AM(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";NM(a,RM).forEach((function(e){return t.restore(o,e)})),NM(a,DM).forEach((function(e){return t.restore(u,e)})),NM(a,PM).forEach((function(e){return t.restore(u,e)}))}}]),n}(nM);var MM=LM,FM=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function jM(e){return(0,ot.jsx)(kM,tt({},e))}function VM(e){return(0,ot.jsx)(uL,tt({},e))}var UM=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],u=e.placement,s=void 0===u?"start":u,c=e.responsive,f=e.show,h=void 0!==f&&f,d=e.backdrop,p=void 0===d||d,v=e.keyboard,m=void 0===v||v,y=e.scroll,g=void 0!==y&&y,k=e.onEscapeKeyDown,b=e.onShow,w=e.onHide,x=e.container,E=e.autoFocus,_=void 0===E||E,S=e.enforceFocus,I=void 0===S||S,T=e.restoreFocus,C=void 0===T||T,N=e.restoreFocusOptions,A=e.onEntered,O=e.onExit,R=e.onExiting,D=e.onEnter,P=e.onEntering,L=e.onExited,M=e.backdropClassName,F=e.manager,j=e.renderStaticNode,V=void 0!==j&&j,U=rt(e,FM),B=(0,r.useRef)();n=lt(n,"offcanvas");var z=((0,r.useContext)(FL)||{}).onToggle,q=l((0,r.useState)(!1),2),K=q[0],H=q[1],W=GL(c||"xs","up");(0,r.useEffect)((function(){H(c?h&&!W:h)}),[h,c,W]);var G=pP((function(){null==z||z(),null==w||w()})),Q=(0,r.useMemo)((function(){return{onHide:G}}),[G]);var $=(0,r.useCallback)((function(e){return(0,ot.jsx)("div",tt(tt({},e),{},{className:at()("".concat(n,"-backdrop"),M)}))}),[M,n]),X=function(e){return(0,ot.jsx)("div",tt(tt(tt({},e),U),{},{className:at()(i,c?"".concat(n,"-").concat(c):n,"".concat(n,"-").concat(s)),"aria-labelledby":o,children:a}))};return(0,ot.jsxs)(ot.Fragment,{children:[!K&&(c||V)&&X({}),(0,ot.jsx)(bM.Provider,{value:Q,children:(0,ot.jsx)(pM,{show:K,ref:t,backdrop:p,container:x,keyboard:m,autoFocus:_,enforceFocus:I&&!g,restoreFocus:C,restoreFocusOptions:N,onEscapeKeyDown:k,onShow:b,onHide:G,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==D||D.apply(void 0,[e].concat(n))},onEntering:P,onEntered:A,onExit:O,onExiting:R,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==L||L.apply(void 0,n)},manager:F||(g?(B.current||(B.current=new MM({handleContainerOverflow:!1})),B.current):function(e){return OM||(OM=new LM(e)),OM}()),transition:jM,backdropTransition:VM,renderBackdrop:$,renderDialog:X})})]})}));UM.displayName="Offcanvas";var BM=Object.assign(UM,{Body:vM,Header:IM,Title:TM}),zM=r.forwardRef((function(e,t){var n=(0,r.useContext)(FL);return(0,ot.jsx)(BM,tt(tt({ref:t,show:!(null==n||!n.expanded)},e),{},{renderStaticNode:!0}))}));zM.displayName="NavbarOffcanvas";var qM=zM,KM=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],HM=mt("navbar-text",{Component:"span"}),WM=r.forwardRef((function(e,t){var n=cP(e,{expanded:"onToggle"}),i=n.bsPrefix,a=n.expand,o=void 0===a||a,u=n.variant,s=void 0===u?"light":u,c=n.bg,l=n.fixed,f=n.sticky,h=n.className,d=n.as,p=void 0===d?"nav":d,v=n.expanded,m=n.onToggle,y=n.onSelect,g=n.collapseOnSelect,k=void 0!==g&&g,b=rt(n,KM),w=lt(i,"navbar"),x=(0,r.useCallback)((function(){null==y||y.apply(void 0,arguments),k&&v&&(null==m||m(!1))}),[y,k,v,m]);void 0===b.role&&"nav"!==p&&(b.role="navigation");var E="".concat(w,"-expand");"string"===typeof o&&(E="".concat(E,"-").concat(o));var _=(0,r.useMemo)((function(){return{onToggle:function(){return null==m?void 0:m(!v)},bsPrefix:w,expanded:!!v,expand:o}}),[w,v,o,m]);return(0,ot.jsx)(FL.Provider,{value:_,children:(0,ot.jsx)(SL.Provider,{value:x,children:(0,ot.jsx)(p,tt(tt({ref:t},b),{},{className:at()(h,w,o&&E,s&&"".concat(w,"-").concat(s),c&&"bg-".concat(c),f&&"sticky-".concat(f),l&&"fixed-".concat(l))}))})})}));WM.displayName="Navbar";var GM=Object.assign(WM,{Brand:CL,Collapse:UL,Offcanvas:qM,Text:HM,Toggle:qL});n(573);function QM(){return(0,r.useReducer)((function(e){return!e}),!1)[1]}var $M=r.createContext(null);$M.displayName="NavContext";var XM=$M,YM=r.createContext(null),JM=["as","active","eventKey"];function ZM(e){var t=e.key,n=e.onClick,i=e.active,a=e.id,o=e.role,u=e.disabled,s=(0,r.useContext)(SL),c=(0,r.useContext)(XM),l=(0,r.useContext)(YM),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=t?t:null),p=c.getControlledId(null!=t?t:null);h[ZL("event-key")]=t,h.id=d||a,!(f=null==i&&null!=t?c.activeKey===t:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(h["aria-selected"]=f,f||(h.tabIndex=-1),u&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=pP((function(e){u||(null==n||n(e),null!=t&&s&&!e.isPropagationStopped()&&s(t,e))})),[h,{isActive:f}]}var eF=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?Bt:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,JM),u=l(ZM(Object.assign({key:_L(a,o.href),active:i},o)),2),s=u[0],c=u[1];return s[ZL("active")]=c.isActive,(0,ot.jsx)(r,Object.assign({},o,s,{ref:t}))}));eF.displayName="NavItem";var tF=eF,nF=["as","onSelect","activeKey","role","onKeyDown"];var rF=function(){},iF=ZL("event-key"),aF=r.forwardRef((function(e,t){var n,i,a=e.as,o=void 0===a?"div":a,u=e.onSelect,s=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,nF),h=QM(),d=(0,r.useRef)(!1),p=(0,r.useContext)(SL),v=(0,r.useContext)(YM);v&&(c=c||"tablist",s=v.activeKey,n=v.getControlledId,i=v.getControllerId);var m=(0,r.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=NM(t,"[".concat(iF,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==u||u(e,t),null==p||p(e,t))};(0,r.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(iF,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var k=ZP(t,m);return(0,ot.jsx)(SL.Provider,{value:g,children:(0,ot.jsx)(XM.Provider,{value:{role:c,activeKey:_L(s),getControlledId:n||rF,getControllerId:i||rF},children:(0,ot.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat(JL).concat(n))]||null,e),d.current=!0,h()}},ref:k,role:c}))})})}));aF.displayName="Nav";var oF=Object.assign(aF,{Item:tF}),uF=mt("nav-item"),sF=["bsPrefix","className","as","active","eventKey","disabled"],cF=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?wP:i,o=e.active,u=e.eventKey,s=e.disabled,c=void 0!==s&&s,f=rt(e,sF);n=lt(n,"nav-link");var h=l(ZM(tt({key:_L(u,f.href),active:o,disabled:c},f)),2),d=h[0],p=h[1];return(0,ot.jsx)(a,tt(tt(tt({},f),d),{},{ref:t,disabled:c,className:at()(r,n,c&&"disabled",p.isActive&&"active")}))}));cF.displayName="NavLink";var lF=cF,fF=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],hF=r.forwardRef((function(e,t){var n,i,a,o=cP(e,{activeKey:"onSelect"}),u=o.as,s=void 0===u?"div":u,c=o.bsPrefix,l=o.variant,f=o.fill,h=void 0!==f&&f,d=o.justify,p=void 0!==d&&d,v=o.navbar,m=o.navbarScroll,y=o.className,g=o.activeKey,k=rt(o,fF),b=lt(c,"nav"),w=!1,x=(0,r.useContext)(FL),E=(0,r.useContext)(xt);return x?(i=x.bsPrefix,w=null==v||v):E&&(a=E.cardHeaderBsPrefix),(0,ot.jsx)(oF,tt({as:s,ref:t,activeKey:g,className:at()(y,(n={},Ze(n,b,!w),Ze(n,"".concat(i,"-nav"),w),Ze(n,"".concat(i,"-nav-scroll"),w&&m),Ze(n,"".concat(a,"-").concat(l),!!a),Ze(n,"".concat(b,"-").concat(l),!!l),Ze(n,"".concat(b,"-fill"),h),Ze(n,"".concat(b,"-justified"),p),n))},k))}));hF.displayName="Nav";var dF=Object.assign(hF,{Item:uF,Link:lF}),pF=r.createContext(null),vF=Object.prototype.hasOwnProperty;function mF(e,t,n){var r,i=T(e.keys());try{for(i.s();!(r=i.n()).done;)if(yF(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function yF(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&yF(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=T(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=mF(t,i)))return!1;if(!t.has(i))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var u,s=T(e);try{for(s.s();!(u=s.n()).done;){if((i=(r=u.value)[0])&&"object"===typeof i&&!(i=mF(t,i)))return!1;if(!yF(r[1],t.get(i)))return!1}}catch(c){s.e(c)}finally{s.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(vF.call(e,n)&&++r&&!vF.call(t,n))return!1;if(!(n in t)||!yF(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var gF=function(e){var t=vP();return[e[0],(0,r.useCallback)((function(n){if(t())return e[1](n)}),[t,e[1]])]};function kF(e){return e.split("-")[0]}function bF(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function wF(e){return e instanceof bF(e).Element||e instanceof Element}function xF(e){return e instanceof bF(e).HTMLElement||e instanceof HTMLElement}function EF(e){return"undefined"!==typeof ShadowRoot&&(e instanceof bF(e).ShadowRoot||e instanceof ShadowRoot)}var _F=Math.max,SF=Math.min,IF=Math.round;function TF(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function CF(){return!/^((?!chrome|android).)*safari/i.test(TF())}function NF(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&xF(e)&&(i=e.offsetWidth>0&&IF(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&IF(r.height)/e.offsetHeight||1);var o=(wF(e)?bF(e):window).visualViewport,u=!CF()&&n,s=(r.left+(u&&o?o.offsetLeft:0))/i,c=(r.top+(u&&o?o.offsetTop:0))/a,l=r.width/i,f=r.height/a;return{width:l,height:f,top:c,right:s+l,bottom:c+f,left:s,x:s,y:c}}function AF(e){var t=NF(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function OF(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&EF(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function RF(e){return e?(e.nodeName||"").toLowerCase():null}function DF(e){return bF(e).getComputedStyle(e)}function PF(e){return["table","td","th"].indexOf(RF(e))>=0}function LF(e){return((wF(e)?e.ownerDocument:e.document)||window.document).documentElement}function MF(e){return"html"===RF(e)?e:e.assignedSlot||e.parentNode||(EF(e)?e.host:null)||LF(e)}function FF(e){return xF(e)&&"fixed"!==DF(e).position?e.offsetParent:null}function jF(e){for(var t=bF(e),n=FF(e);n&&PF(n)&&"static"===DF(n).position;)n=FF(n);return n&&("html"===RF(n)||"body"===RF(n)&&"static"===DF(n).position)?t:n||function(e){var t=/firefox/i.test(TF());if(/Trident/i.test(TF())&&xF(e)&&"fixed"===DF(e).position)return null;var n=MF(e);for(EF(n)&&(n=n.host);xF(n)&&["html","body"].indexOf(RF(n))<0;){var r=DF(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function VF(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function UF(e,t,n){return _F(e,SF(t,n))}function BF(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function zF(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var qF="top",KF="bottom",HF="right",WF="left",GF="auto",QF=[qF,KF,HF,WF],$F="start",XF="end",YF="clippingParents",JF="viewport",ZF="popper",ej="reference",tj=QF.reduce((function(e,t){return e.concat([t+"-"+$F,t+"-"+XF])}),[]),nj=[].concat(QF,[GF]).reduce((function(e,t){return e.concat([t,t+"-"+$F,t+"-"+XF])}),[]),rj=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],ij=function(e,t){return BF("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:zF(e,QF))};var aj={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=kF(n.placement),s=VF(u),c=[WF,HF].indexOf(u)>=0?"height":"width";if(a&&o){var l=ij(i.padding,n),f=AF(a),h="y"===s?qF:WF,d="y"===s?KF:HF,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=jF(a),y=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=l[h],b=y-f[c]-l[d],w=y/2-f[c]/2+g,x=UF(k,w,b),E=s;n.modifiersData[r]=((t={})[E]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&OF(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oj(e){return e.split("-")[1]}var uj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sj(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),k=WF,b=qF,w=window;if(c){var x=jF(n),E="clientHeight",_="clientWidth";if(x===bF(n)&&"static"!==DF(x=LF(n)).position&&"absolute"===u&&(E="scrollHeight",_="scrollWidth"),i===qF||(i===WF||i===HF)&&a===XF)b=KF,v-=(f&&x===w&&w.visualViewport?w.visualViewport.height:x[E])-r.height,v*=s?1:-1;if(i===WF||(i===qF||i===KF)&&a===XF)k=HF,d-=(f&&x===w&&w.visualViewport?w.visualViewport.width:x[_])-r.width,d*=s?1:-1}var S,I=Object.assign({position:u},c&&uj),T=!0===l?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:IF(n*i)/i||0,y:IF(r*i)/i||0}}({x:d,y:v},bF(n)):{x:d,y:v};return d=T.x,v=T.y,s?Object.assign({},I,((S={})[b]=g?"0":"",S[k]=y?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",S)):Object.assign({},I,((t={})[b]=g?v+"px":"",t[k]=y?d+"px":"",t.transform="",t))}var cj={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:kF(t.placement),variation:oj(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,sj(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,sj(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},lj={passive:!0};var fj={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=bF(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,lj)})),u&&s.addEventListener("resize",n.update,lj),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,lj)})),u&&s.removeEventListener("resize",n.update,lj)}},data:{}},hj={left:"right",right:"left",bottom:"top",top:"bottom"};function dj(e){return e.replace(/left|right|bottom|top/g,(function(e){return hj[e]}))}var pj={start:"end",end:"start"};function vj(e){return e.replace(/start|end/g,(function(e){return pj[e]}))}function mj(e){var t=bF(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function yj(e){return NF(LF(e)).left+mj(e).scrollLeft}function gj(e){var t=DF(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function kj(e){return["html","body","#document"].indexOf(RF(e))>=0?e.ownerDocument.body:xF(e)&&gj(e)?e:kj(MF(e))}function bj(e,t){var n;void 0===t&&(t=[]);var r=kj(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=bF(r),o=i?[a].concat(a.visualViewport||[],gj(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(bj(MF(o)))}function wj(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function xj(e,t,n){return t===JF?wj(function(e,t){var n=bF(e),r=LF(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,u=0,s=0;if(i){a=i.width,o=i.height;var c=CF();(c||!c&&"fixed"===t)&&(u=i.offsetLeft,s=i.offsetTop)}return{width:a,height:o,x:u+yj(e),y:s}}(e,n)):wF(t)?function(e,t){var n=NF(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):wj(function(e){var t,n=LF(e),r=mj(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=_F(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=_F(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+yj(e),s=-r.scrollTop;return"rtl"===DF(i||n).direction&&(u+=_F(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}(LF(e)))}function Ej(e,t,n,r){var i="clippingParents"===t?function(e){var t=bj(MF(e)),n=["absolute","fixed"].indexOf(DF(e).position)>=0&&xF(e)?jF(e):e;return wF(n)?t.filter((function(e){return wF(e)&&OF(e,n)&&"body"!==RF(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],u=a.reduce((function(t,n){var i=xj(e,n,r);return t.top=_F(i.top,t.top),t.right=SF(i.right,t.right),t.bottom=SF(i.bottom,t.bottom),t.left=_F(i.left,t.left),t}),xj(e,o,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function _j(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?kF(i):null,o=i?oj(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case qF:t={x:u,y:n.y-r.height};break;case KF:t={x:u,y:n.y+n.height};break;case HF:t={x:n.x+n.width,y:s};break;case WF:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?VF(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case $F:t[c]=t[c]-(n[l]/2-r[l]/2);break;case XF:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function Sj(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,u=n.boundary,s=void 0===u?YF:u,c=n.rootBoundary,l=void 0===c?JF:c,f=n.elementContext,h=void 0===f?ZF:f,d=n.altBoundary,p=void 0!==d&&d,v=n.padding,m=void 0===v?0:v,y=BF("number"!==typeof m?m:zF(m,QF)),g=h===ZF?ej:ZF,k=e.rects.popper,b=e.elements[p?g:h],w=Ej(wF(b)?b:b.contextElement||LF(e.elements.popper),s,l,o),x=NF(e.elements.reference),E=_j({reference:x,element:k,strategy:"absolute",placement:i}),_=wj(Object.assign({},k,E)),S=h===ZF?_:x,I={top:w.top-S.top+y.top,bottom:S.bottom-w.bottom+y.bottom,left:w.left-S.left+y.left,right:S.right-w.right+y.right},T=e.modifiersData.offset;if(h===ZF&&T){var C=T[i];Object.keys(I).forEach((function(e){var t=[HF,KF].indexOf(e)>=0?1:-1,n=[qF,KF].indexOf(e)>=0?"y":"x";I[e]+=C[n]*t}))}return I}var Ij={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,y=kF(m),g=s||(y===m||!p?[dj(m)]:function(e){if(kF(e)===GF)return[];var t=dj(e);return[vj(e),t,vj(t)]}(m)),k=[m].concat(g).reduce((function(e,n){return e.concat(kF(n)===GF?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?nj:s,l=oj(r),f=l?u?tj:tj.filter((function(e){return oj(e)===l})):QF,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=Sj(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[kF(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,E=!0,_=k[0],S=0;S<k.length;S++){var I=k[S],T=kF(I),C=oj(I)===$F,N=[qF,KF].indexOf(T)>=0,A=N?"width":"height",O=Sj(t,{placement:I,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),R=N?C?HF:WF:C?KF:qF;b[A]>w[A]&&(R=dj(R));var D=dj(R),P=[];if(a&&P.push(O[T]<=0),u&&P.push(O[R]<=0,O[D]<=0),P.every((function(e){return e}))){_=I,E=!1;break}x.set(I,P)}if(E)for(var L=function(e){var t=k.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==_&&(t.modifiersData[r]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Tj(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Cj(e){return[qF,HF,KF,WF].some((function(t){return e[t]>=0}))}var Nj={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=nj.reduce((function(e,n){return e[n]=function(e,t,n){var r=kF(e),i=[WF,qF].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[WF,HF].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var Aj={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=Sj(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=kF(t.placement),g=oj(t.placement),k=!g,b=VF(y),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,E=t.rects.reference,_=t.rects.popper,S="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,I="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(x){if(a){var N,A="y"===b?qF:WF,O="y"===b?KF:HF,R="y"===b?"height":"width",D=x[b],P=D+m[A],L=D-m[O],M=d?-_[R]/2:0,F=g===$F?E[R]:_[R],j=g===$F?-_[R]:-E[R],V=t.elements.arrow,U=d&&V?AF(V):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[A],q=B[O],K=UF(0,E[R],U[R]),H=k?E[R]/2-M-K-z-I.mainAxis:F-K-z-I.mainAxis,W=k?-E[R]/2+M+K+q+I.mainAxis:j+K+q+I.mainAxis,G=t.elements.arrow&&jF(t.elements.arrow),Q=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,$=null!=(N=null==T?void 0:T[b])?N:0,X=D+W-$,Y=UF(d?SF(P,D+H-$-Q):P,D,d?_F(L,X):L);x[b]=Y,C[b]=Y-D}if(u){var J,Z="x"===b?qF:WF,ee="x"===b?KF:HF,te=x[w],ne="y"===w?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[qF,WF].indexOf(y),oe=null!=(J=null==T?void 0:T[w])?J:0,ue=ae?re:te-E[ne]-_[ne]-oe+I.altAxis,se=ae?te+E[ne]+_[ne]-oe-I.altAxis:ie,ce=d&&ae?function(e,t,n){var r=UF(e,t,n);return r>n?n:r}(ue,te,se):UF(d?ue:re,te,d?se:ie);x[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function Oj(e,t,n){void 0===n&&(n=!1);var r=xF(t),i=xF(t)&&function(e){var t=e.getBoundingClientRect(),n=IF(t.width)/e.offsetWidth||1,r=IF(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=LF(t),o=NF(e,i,n),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==RF(t)||gj(a))&&(u=function(e){return e!==bF(e)&&xF(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:mj(e);var t}(t)),xF(t)?((s=NF(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=yj(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function Rj(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Dj(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Pj={placement:"bottom",modifiers:[],strategy:"absolute"};function Lj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Mj(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Pj:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Pj,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:wF(e)?bj(e):e.contextElement?bj(e.contextElement):[],popper:bj(t)};var l=function(e){var t=Rj(e);return rj.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(Lj(t,n)){i.rects={reference:Oj(t,jF(n),"fixed"===i.options.strategy),popper:AF(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:Dj((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){c(),u=!0}};if(!Lj(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var Fj=Mj({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Sj(t,{elementContext:"reference"}),u=Sj(t,{altBoundary:!0}),s=Tj(o,r),c=Tj(u,i,a),l=Cj(s),f=Cj(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=_j({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},cj,fj,Nj,Ij,Aj,aj]}),jj=["enabled","placement","strategy","modifiers"];var Vj={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},Uj={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},Bj=[];var zj=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.enabled,a=void 0===i||i,o=n.placement,u=void 0===o?"bottom":o,s=n.strategy,c=void 0===s?"absolute":s,f=n.modifiers,d=void 0===f?Bj:f,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,jj),v=(0,r.useRef)(d),m=(0,r.useRef)(),y=(0,r.useCallback)((function(){var e;null==(e=m.current)||e.update()}),[]),g=(0,r.useCallback)((function(){var e;null==(e=m.current)||e.forceUpdate()}),[]),k=l(gF((0,r.useState)({placement:u,update:y,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),2),b=k[0],w=k[1],x=(0,r.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),w({state:t,styles:n,attributes:r,update:y,forceUpdate:g,placement:t.placement})}}}),[y,g,w]),E=(0,r.useMemo)((function(){return yF(v.current,d)||(v.current=d),v.current}),[d]);return(0,r.useEffect)((function(){m.current&&a&&m.current.setOptions({placement:u,strategy:c,modifiers:[].concat(h(E),[x,Vj])})}),[c,u,x,a,E]),(0,r.useEffect)((function(){if(a&&null!=e&&null!=t)return m.current=Fj(e,t,Object.assign({},p,{placement:u,strategy:c,modifiers:[].concat(h(E),[Uj,x])})),function(){null!=m.current&&(m.current.destroy(),m.current=void 0,w((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,t]),b},qj=function(){};var Kj=function(e){return e&&("current"in e?e.current:e)},Hj={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var Wj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qj,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.disabled,a=n.clickTrigger,o=void 0===a?"click":a,u=(0,r.useRef)(!1),s=(0,r.useRef)(!1),c=(0,r.useCallback)((function(t){var n,r=Kj(e);_D()(!!r,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),u.current=!r||!!((n=t).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(t)||!!$L(r,t.target)||s.current,s.current=!1}),[e]),l=pP((function(t){var n=Kj(e);n&&$L(n,t.target)&&(s.current=!0)})),f=pP((function(e){u.current||t(e)}));(0,r.useEffect)((function(){if(!i&&null!=e){var t=DP(Kj(e)),n=(t.defaultView||window).event,r=null;Hj[o]&&(r=WP(t,Hj[o],l,!0));var a=WP(t,o,c,!0),u=WP(t,o,(function(e){e!==n?f(e):n=void 0})),s=[];return"ontouchstart"in t.documentElement&&(s=[].slice.call(t.body.children).map((function(e){return WP(e,"mousemove",qj)}))),function(){null==r||r(),a(),u(),s.forEach((function(e){return e()}))}}}),[e,i,o,c,l,f])};function Gj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function Qj(e){var t,n,r,i,a,o=e.enabled,u=e.enableEvents,s=e.placement,c=e.flip,l=e.offset,f=e.fixed,h=e.containerPadding,d=e.arrowElement,p=e.popperConfig,v=void 0===p?{}:p,m=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(v.modifiers);return Object.assign({},v,{placement:s,enabled:o,strategy:f?"fixed":v.strategy,modifiers:Gj(Object.assign({},m,{eventListeners:{enabled:u,options:null==(t=m.eventListeners)?void 0:t.options},preventOverflow:Object.assign({},m.preventOverflow,{options:h?Object.assign({padding:h},null==(n=m.preventOverflow)?void 0:n.options):null==(r=m.preventOverflow)?void 0:r.options}),offset:{options:Object.assign({offset:l},null==(i=m.offset)?void 0:i.options)},arrow:Object.assign({},m.arrow,{enabled:!!d,options:Object.assign({},null==(a=m.arrow)?void 0:a.options,{element:d})}),flip:Object.assign({enabled:!!c},m.flip)}))})}var $j=["children"];var Xj=function(){};function Yj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.useContext)(pF),n=l((0,r.useState)(null),2),i=n[0],a=n[1],o=(0,r.useRef)(!1),u=e.flip,s=e.offset,c=e.rootCloseEvent,f=e.fixed,h=void 0!==f&&f,d=e.placement,p=e.popperConfig,v=void 0===p?{}:p,m=e.enableEventListeners,y=void 0===m||m,g=e.usePopper,k=void 0===g?!!t:g,b=null==(null==t?void 0:t.show)?!!e.show:t.show;b&&!o.current&&(o.current=!0);var w=t||{},x=w.placement,E=w.setMenu,_=w.menuElement,S=w.toggleElement,I=zj(S,_,Qj({placement:d||x||"bottom-start",enabled:k,enableEvents:null==y?b:y,offset:s,flip:u,fixed:h,arrowElement:i,popperConfig:v})),T=Object.assign({ref:E||Xj,"aria-labelledby":null==S?void 0:S.id},I.attributes.popper,{style:I.styles.popper}),C={show:b,placement:x,hasShown:o.current,toggle:null==t?void 0:t.toggle,popper:k?I:null,arrowProps:k?Object.assign({ref:a},I.attributes.arrow,{style:I.styles.arrow}):{}};return Wj(_,(function(e){null==t||t.toggle(!1,e)}),{clickTrigger:c,disabled:!b}),[T,C]}function Jj(e){var t=e.children,n=l(Yj(function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,$j)),2),r=n[0],i=n[1];return(0,ot.jsx)(ot.Fragment,{children:t(r,i)})}Jj.displayName="DropdownMenu",Jj.defaultProps={usePopper:!0};var Zj=Jj,eV={prefix:String(Math.round(1e10*Math.random())),current:0,isSSR:!1},tV=r.createContext(eV);var nV=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),rV=new WeakMap;function iV(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,r.useContext)(tV),n=(0,r.useRef)(null);if(null===n.current&&!e){var i,a,o=null===(i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===i||null===(a=i.ReactCurrentOwner)||void 0===a?void 0:a.current;if(o){var u=rV.get(o);null==u?rV.set(o,{id:t.current,state:o.memoizedState}):o.memoizedState!==u.state&&(t.current=u.id,rV.delete(o))}n.current=++t.current}return n.current}var aV=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},oV=function(){};function uV(){var e=function(e){var t=(0,r.useContext)(tV);t!==eV||nV||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");var n=iV(!!e);return e||"react-aria".concat(t.prefix,"-").concat(n)}(),t=(0,r.useContext)(pF)||{},n=t.show,i=void 0!==n&&n,a=t.toggle,o=void 0===a?oV:a,u=t.setToggle,s=t.menuElement,c=(0,r.useCallback)((function(e){o(!i,e)}),[i,o]),l={id:e,ref:u||oV,onClick:c,"aria-expanded":!!i};return s&&aV(s)&&(l["aria-haspopup"]=!0),[l,{show:i,toggle:o}]}function sV(e){var t=e.children,n=l(uV(),2),r=n[0],i=n[1];return(0,ot.jsx)(ot.Fragment,{children:t(r,i)})}sV.displayName="DropdownToggle";var cV=sV,lV=["eventKey","disabled","onClick","active","as"];function fV(e){var t=e.key,n=e.href,i=e.active,a=e.disabled,o=e.onClick,u=(0,r.useContext)(SL),s=((0,r.useContext)(XM)||{}).activeKey,c=_L(t,n),l=null==i&&null!=t?_L(s)===c:i;return[Ze({onClick:pP((function(e){a||(null==o||o(e),u&&!e.isPropagationStopped()&&u(c,e))})),"aria-disabled":a||void 0,"aria-selected":l},ZL("dropdown-item"),""),{isActive:l}]}var hV=r.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,o=e.as,u=void 0===o?Bt:o,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,lV),c=l(fV({key:n,href:s.href,disabled:r,onClick:i,active:a}),1)[0];return(0,ot.jsx)(u,Object.assign({},s,{ref:t},c))}));hV.displayName="DropdownItem";var dV=hV;function pV(){var e=QM(),t=(0,r.useRef)(null),n=(0,r.useCallback)((function(n){t.current=n,e()}),[e]);return[t,n]}function vV(e){var t=e.defaultShow,n=e.show,i=e.onSelect,a=e.onToggle,o=e.itemSelector,u=void 0===o?"* [".concat(ZL("dropdown-item"),"]"):o,s=e.focusFirstItemOnShow,c=e.placement,f=void 0===c?"bottom-start":c,h=e.children,d=iM(),p=l(sP(n,t,a),2),v=p[0],m=p[1],y=l(pV(),2),g=y[0],k=y[1],b=g.current,w=l(pV(),2),x=w[0],E=w[1],_=x.current,S=mP(v),I=(0,r.useRef)(null),T=(0,r.useRef)(!1),C=(0,r.useContext)(SL),N=(0,r.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;m(e,{originalEvent:t,source:n})}),[m]),A=pP((function(e,t){null==i||i(e,t),N(!1,t,"select"),t.isPropagationStopped()||null==C||C(e,t)})),O=(0,r.useMemo)((function(){return{toggle:N,placement:f,show:v,menuElement:b,toggleElement:_,setMenu:k,setToggle:E}}),[N,f,v,b,_,k,E]);b&&S&&!v&&(T.current=b.contains(b.ownerDocument.activeElement));var R=pP((function(){_&&_.focus&&_.focus()})),D=pP((function(){var e=I.current,t=s;if(null==t&&(t=!(!g.current||!aV(g.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=NM(g.current,u)[0];n&&n.focus&&n.focus()}}));(0,r.useEffect)((function(){v?D():T.current&&(T.current=!1,R())}),[v,T,R,D]),(0,r.useEffect)((function(){I.current=null}));var P=function(e,t){if(!g.current)return null;var n=NM(g.current,u),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,t,n,i){void 0===i&&(i=!1);var a=pP(n);(0,r.useEffect)((function(){var n="function"===typeof e?e():e;return n.addEventListener(t,a,i),function(){return n.removeEventListener(t,a,i)}}),[e])}((0,r.useCallback)((function(){return d.document}),[d]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=g.current)?void 0:t.contains(i),o=null==(n=x.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===i.type))&&(a||o)&&("Tab"!==r||g.current&&v)){I.current=e.type;var u={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var s=P(i,-1);return s&&s.focus&&s.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var c=P(i,1);c&&c.focus&&c.focus()}else m(!0,u);return;case"Tab":KP(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=g.current)&&t.contains(e.target)||m(!1,u)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),m(!1,u)}}})),(0,ot.jsx)(SL.Provider,{value:A,children:(0,ot.jsx)(pF.Provider,{value:O,children:h})})}vV.displayName="Dropdown",vV.Menu=Zj,vV.Toggle=cV,vV.Item=dV;var mV=vV,yV=r.createContext({});yV.displayName="DropdownContext";var gV=yV,kV=["bsPrefix","className","eventKey","disabled","onClick","active","as"],bV=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,o=void 0!==a&&a,u=e.onClick,s=e.active,c=e.as,f=void 0===c?wP:c,h=rt(e,kV),d=lt(n,"dropdown-item"),p=l(fV({key:i,href:h.href,disabled:o,onClick:u,active:s}),2),v=p[0],m=p[1];return(0,ot.jsx)(f,tt(tt(tt({},h),v),{},{ref:t,className:at()(r,d,m.isActive&&"active",o&&"disabled")}))}));bV.displayName="DropdownItem";var wV=bV,xV=r.createContext(null);xV.displayName="InputGroupContext";var EV=xV;function _V(e,t){return e}var SV=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function IV(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}var TV=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.align,o=e.rootCloseEvent,u=e.flip,s=void 0===u||u,c=e.show,f=e.renderOnMount,h=e.as,d=void 0===h?"div":h,p=e.popperConfig,v=e.variant,m=rt(e,SV),y=!1,g=(0,r.useContext)(FL),k=lt(n,"dropdown-menu"),b=(0,r.useContext)(gV),w=b.align,x=b.drop,E=b.isRTL;a=a||w;var _=(0,r.useContext)(EV),S=[];if(a)if("object"===typeof a){var I=Object.keys(a);if(I.length){var T=I[0],C=a[T];y="start"===C,S.push("".concat(k,"-").concat(T,"-").concat(C))}}else"end"===a&&(y=!0);var N=IV(y,x,E),A=l(Yj({flip:s,rootCloseEvent:o,show:c,usePopper:!g&&0===S.length,offset:[0,2],popperConfig:p,placement:N}),2),O=A[0],R=A[1],D=R.hasShown,P=R.popper,L=R.show,M=R.toggle;if(O.ref=ZP(_V(t),O.ref),gP((function(){L&&(null==P||P.update())}),[L]),!D&&!f&&!_)return null;"string"!==typeof d&&(O.show=L,O.close=function(){return null==M?void 0:M(!1)},O.align=a);var F=m.style;return null!=P&&P.placement&&(F=tt(tt({},m.style),O.style),m["x-placement"]=P.placement),(0,ot.jsx)(d,tt(tt(tt(tt({},m),O),{},{style:F},(S.length||g)&&{"data-bs-popper":"static"}),{},{className:at().apply(void 0,[i,k,L&&"show",y&&"".concat(k,"-end"),v&&"".concat(k,"-").concat(v)].concat(S))}))}));TV.displayName="DropdownMenu";var CV=TV,NV=["bsPrefix","split","className","childBsPrefix","as"],AV=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.split,a=e.className,o=e.childBsPrefix,u=e.as,s=void 0===u?Kt:u,c=rt(e,NV),f=lt(n,"dropdown-toggle"),h=(0,r.useContext)(pF);void 0!==o&&(c.bsPrefix=o);var d=l(uV(),1)[0];return d.ref=ZP(d.ref,_V(t)),(0,ot.jsx)(s,tt(tt({className:at()(a,f,i&&"".concat(f,"-split"),(null==h?void 0:h.show)&&"show")},d),c))}));AV.displayName="DropdownToggle";var OV=AV,RV=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],DV=mt("dropdown-header",{defaultProps:{role:"heading"}}),PV=mt("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),LV=mt("dropdown-item-text",{Component:"span"}),MV=r.forwardRef((function(e,t){var n=cP(e,{show:"onToggle"}),i=n.bsPrefix,a=n.drop,o=void 0===a?"down":a,u=n.show,s=n.className,c=n.align,l=void 0===c?"start":c,f=n.onSelect,h=n.onToggle,d=n.focusFirstItemOnShow,p=n.as,v=void 0===p?"div":p,m=(n.navbar,n.autoClose),y=void 0===m||m,g=rt(n,RV),k=(0,r.useContext)(EV),b=lt(i,"dropdown"),w="rtl"===(0,r.useContext)(ct).dir,x=pP((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===y?"click"===n:"inside"===y?"rootClose"!==n:"outside"!==y||"select"!==n)&&(null==h||h(e,t))})),E=IV("end"===l,o,w),_=(0,r.useMemo)((function(){return{align:l,drop:o,isRTL:w}}),[l,o,w]),S={down:b,"down-centered":"".concat(b,"-center"),up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,ot.jsx)(gV.Provider,{value:_,children:(0,ot.jsx)(mV,{placement:E,show:u,onSelect:f,onToggle:x,focusFirstItemOnShow:d,itemSelector:".".concat(b,"-item:not(.disabled):not(:disabled)"),children:k?g.children:(0,ot.jsx)(v,tt(tt({},g),{},{ref:t,className:at()(s,u&&"show",S[o])}))})})}));MV.displayName="Dropdown";var FV=Object.assign(MV,{Toggle:OV,Menu:CV,Item:wV,ItemText:LV,Divider:PV,Header:DV}),jV=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],VV=r.forwardRef((function(e,t){var n=e.id,r=e.title,i=e.children,a=e.bsPrefix,o=e.className,u=e.rootCloseEvent,s=e.menuRole,c=e.disabled,l=e.active,f=e.renderMenuOnMount,h=e.menuVariant,d=rt(e,jV),p=lt(void 0,"nav-item");return(0,ot.jsxs)(FV,tt(tt({ref:t},d),{},{className:at()(o,p),children:[(0,ot.jsx)(FV.Toggle,{id:n,eventKey:null,active:l,disabled:c,childBsPrefix:a,as:lF,children:r}),(0,ot.jsx)(FV.Menu,{role:s,renderOnMount:f,rootCloseEvent:u,variant:h,children:i})]}))}));VV.displayName="NavDropdown";var UV=Object.assign(VV,{Item:FV.Item,ItemText:FV.ItemText,Divider:FV.Divider,Header:FV.Header});var BV=function(){var e=Yt(),t=e.login,n=e.handleLogout,r=e.user;return(0,ot.jsxs)("div",{children:[(0,ot.jsxs)(GM,{bg:"light",expand:"lg",children:[(0,ot.jsx)(GM.Brand,{as:Xe,to:"/",style:{marginLeft:"10px"},children:"App FullStack"}),(0,ot.jsx)(GM.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,ot.jsx)(GM.Collapse,{id:"basic-navbar-nav",children:(0,ot.jsxs)(dF,{className:"me-auto",children:[!t&&(0,ot.jsxs)(ot.Fragment,{children:[(0,ot.jsx)(dF.Link,{as:Xe,to:"/alta",children:"Registro"}),(0,ot.jsx)(dF.Link,{as:Xe,to:"/login",children:"Ingresar"})]}),t&&(0,ot.jsxs)(ot.Fragment,{children:[(0,ot.jsx)(dF.Link,{as:Xe,to:"/contador",children:"Contador"}),(0,ot.jsx)(UV,{title:"Productos",id:"basic-nav-dropdown",children:(0,ot.jsx)(UV.Item,{as:Xe,to:"/producto/alta",children:"Nuevo"})}),(0,ot.jsx)(dF.Link,{onClick:n,children:"Cerrar sesi\xf3n"})]})]})}),t&&(0,ot.jsxs)("div",{children:["Bienvenido ",r.name]})]}),(0,ot.jsx)("fieldset",{})]})};var zV=function(){var e=Te().id,t=l((0,r.useState)(!0),2),n=t[0],i=t[1],a=l((0,r.useState)({}),2),o=a[0],u=a[1],s=l((0,r.useState)(""),2),c=s[0],f=s[1];console.log("\ud83d\ude80 ~ file: Detalle.jsx:4 ~ Detalle ~ params:",e);var h={margin:"40px",display:"flex",justifyContent:"center"};return(0,r.useEffect)((function(){var t=function(){var t=fn(cn().mark((function t(){var n;return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,RO(e);case 3:n=t.sent,console.log("\ud83d\ude80 ~ file: Productos.jsx:25 ~ request ~ response:",n,n.data()),u(n.data()),i(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),(0,ot.jsxs)(sn,{loading:n,children:[(0,ot.jsx)("h1",{style:h,children:o.title}),(0,ot.jsx)("img",{style:{width:"20%",height:"20%",margin:"auto",display:"flex",justifyContent:"center"},alt:"Imagen producto",src:o.thumbnail}),(0,ot.jsx)("div",{children:o.comment}),(0,ot.jsxs)("p",{style:h,children:["$",o.price]}),(0,ot.jsx)(Kt,{style:{margin:"auto",display:"flex",justifyContent:"center"},onClick:function(){f("Gracias por su compra")},children:"Comprar"}),(0,ot.jsx)("div",{style:h,children:c})]})};var qV=function(){return(0,ot.jsx)("div",{children:"404 - NotFound"})},KV=["bsPrefix","fluid","as","className"],HV=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=void 0!==r&&r,a=e.as,o=void 0===a?"div":a,u=e.className,s=rt(e,KV),c=lt(n,"container"),l="string"===typeof i?"-".concat(i):"-fluid";return(0,ot.jsx)(o,tt(tt({ref:t},s),{},{className:at()(u,i?"".concat(c).concat(l):c)}))}));HV.displayName="Container";var WV=HV;var GV=function(){var e=oD({mode:"onChange"}),t=e.register,n=e.handleSubmit,i=(e.formState.errors,l((0,r.useState)(""),2)),a=i[0],o=i[1],u=function(){var e=fn(cn().mark((function e(t){var n;return cn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,PO(t);case 4:n=e.sent,console.log("\ud83d\ude80 ~ file: ProductosAlta.jsx:20 ~ onSubmit ~ document:",n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,ot.jsxs)("div",{children:[(0,ot.jsxs)(JD,{onSubmit:n(u),children:[(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:"formBasicNombre",children:[(0,ot.jsx)(JD.Label,{children:"Nombre"}),(0,ot.jsx)(JD.Control,tt({type:"text",placeholder:"Ingresa el nombre del producto"},t("title")))]}),(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:"formBasicPrice",children:[(0,ot.jsx)(JD.Label,{children:"Precio"}),(0,ot.jsx)(JD.Control,tt({type:"number",placeholder:"Ingresa el precio"},t("price")))]}),(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:"formBasicImagen",children:[(0,ot.jsx)(JD.Label,{children:"Imagen"}),(0,ot.jsx)(JD.Control,tt({type:"text",placeholder:"Ingresa la URL de la Imagen"},t("thumbnail")))]}),(0,ot.jsx)(QD,{controlId:"floatingTextarea2",label:"Comments",children:(0,ot.jsx)(JD.Control,tt({as:"textarea",placeholder:"A\xf1ade una descripci\xf3n",style:{height:"100px"}},t("comment")))}),(0,ot.jsx)(Kt,{variant:"primary",type:"submit",onClick:function(){o("Su producto fue almacenado correctamente")},style:{margin:"10px"},children:"Guardar"})," "]}),(0,ot.jsx)("div",{style:{margin:"40px",display:"flex",justifyContent:"center"},children:a})]})};var QV=function(){var e=Te().id,t=l((0,r.useState)(""),2),n=t[0],i=t[1],a=oD({mode:"onChange"}),o=a.register,u=a.handleSubmit,s=a.setValue;(0,r.useEffect)((function(){var t=function(){var t=fn(cn().mark((function t(){var n;return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,RO(e);case 3:n=t.sent,s("title",n.data().title),s("price",n.data().price),s("thumbnail",n.data().thumbnail),s("comment",n.data().comment),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[e,s]);var c=function(){var t=fn(cn().mark((function t(n){var r;return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,MO(e,n);case 3:r=t.sent,console.log("\ud83d\ude80 ~ file: ProductosAlta.jsx:20 ~ onSubmit ~ document:",r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=fn(cn().mark((function t(){var n;return cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,jO(e);case 3:n=t.sent,console.log("\ud83d\ude80 ~ file: ProductosModificar.jsx:50 ~ handleClickEliminar ~ response:",n),i("Su producto fue eliminado"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return(0,ot.jsxs)("div",{children:[(0,ot.jsx)("h1",{children:"Modificar Producto"}),(0,ot.jsx)(Kt,{variant:"danger",onClick:f,children:"Eliminar"}),(0,ot.jsxs)(JD,{onSubmit:u(c),children:[(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:"formBasicNombre",children:[(0,ot.jsx)(JD.Label,{children:"Nombre"}),(0,ot.jsx)(JD.Control,tt({type:"text",placeholder:"Ingresa el nombre del producto"},o("title")))]}),(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:"formBasicPrice",children:[(0,ot.jsx)(JD.Label,{children:"Precio"}),(0,ot.jsx)(JD.Control,tt({type:"number",placeholder:"Ingresa el precio"},o("price")))]}),(0,ot.jsxs)(JD.Group,{className:"mb-3",controlId:"formBasicImagen",children:[(0,ot.jsx)(JD.Label,{children:"Imagen"}),(0,ot.jsx)(JD.Control,tt({type:"text",placeholder:"Ingresa la URL de la Imagen"},o("thumbnail")))]}),(0,ot.jsx)(QD,{controlId:"floatingTextarea2",label:"Comments",children:(0,ot.jsx)(JD.Control,tt({as:"textarea",placeholder:"A\xf1ade una descripci\xf3n",style:{height:"100px"}},o("comment")))}),(0,ot.jsx)(Kt,{variant:"primary",type:"submit",onClick:function(){i("Su producto fue almacenado correctamente")},style:{margin:"10px"},children:"Guardar"})," "]}),(0,ot.jsx)("div",{style:{margin:"40px",display:"flex",justifyContent:"center"},children:n})]})};var $V=function(){var e=l((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,ot.jsxs)(We,{children:[(0,ot.jsxs)(Xt,{children:[(0,ot.jsx)(BV,{isLogin:t,setLogin:n}),(0,ot.jsx)(WV,{children:(0,ot.jsxs)(Ue,{children:[(0,ot.jsx)(je,{path:"/",element:(0,ot.jsx)(qO,{})}),(0,ot.jsx)(je,{path:"/alta",element:(0,ot.jsx)(wL,{})}),(0,ot.jsx)(je,{path:"/login",element:(0,ot.jsx)(xL,{})}),(0,ot.jsx)(je,{path:"/contador",element:(0,ot.jsx)(EL,{})}),(0,ot.jsx)(je,{path:"/producto/alta",element:(0,ot.jsx)(GV,{})}),(0,ot.jsx)(je,{path:"/producto/modificar/:id",element:(0,ot.jsx)(QV,{})}),(0,ot.jsx)(je,{path:"/producto/:id",element:(0,ot.jsx)(zV,{})}),(0,ot.jsx)(je,{path:"/*",element:(0,ot.jsx)(qV,{})})]})})]}),(0,ot.jsx)("footer",{})]})};a.createRoot(document.getElementById("root")).render((0,ot.jsx)(r.StrictMode,{children:(0,ot.jsx)($V,{})})),a.render((0,ot.jsx)(r.StrictMode,{children:(0,ot.jsx)(Ge,{children:(0,ot.jsx)($V,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.dc853768.js.map